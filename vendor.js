import{a5 as la,l as Nt,p as Ht,a as W,i as pe,y as ft,f as gt,B as Dt,k as et,b as qt,a6 as Xr,a1 as Xt,$ as ge,r as It,N as Bt,a7 as Kr,m as Z,P as st,e as bt,j as Tt,n as ca,z as ne,a8 as da,Y as yt,S as se,Z as Ve,C as Qt,a9 as Ie,a0 as Ot,t as re,o as Zt,W as wr,U as dr,aa as ua,d as ha,_ as mt,ab as Xe,q as fa,u as us,E as ga,F as pa,h as ma,ac as ba,s as hs,A as Zn,K as at,X as $n,ad as tr,w as li,Q as ur,ae as ci,R as va}from"./svelte.js";import{c as Ni,g as ya}from"./index.js";const zu=!1;var Fr={exports:{}},Li;function _a(){return Li||(Li=1,function(t){(function(){function e(p,m){document.addEventListener?p.addEventListener("scroll",m,!1):p.attachEvent("scroll",m)}function r(p){document.body?p():document.addEventListener?document.addEventListener("DOMContentLoaded",function m(){document.removeEventListener("DOMContentLoaded",m),p()}):document.attachEvent("onreadystatechange",function m(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",m),p())})}function i(p){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(p)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function d(p,m){p.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+m+";"}function o(p){var m=p.g.offsetWidth,_=m+100;return p.j.style.width=_+"px",p.i.scrollLeft=_,p.h.scrollLeft=p.h.scrollWidth+100,p.l!==m?(p.l=m,!0):!1}function n(p,m){function _(){var h=c;o(h)&&h.g.parentNode!==null&&m(h.l)}var c=p;e(p.h,_),e(p.i,_),o(p)}function s(p,m,_){m=m||{},_=_||window,this.family=p,this.style=m.style||"normal",this.weight=m.weight||"normal",this.stretch=m.stretch||"normal",this.context=_}var l=null,u=null,b=null,v=null;function y(p){return u===null&&(f(p)&&/Apple/.test(window.navigator.vendor)?(p=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!p&&603>parseInt(p[1],10)):u=!1),u}function f(p){return v===null&&(v=!!p.document.fonts),v}function a(p,m){var _=p.style,c=p.weight;if(b===null){var h=document.createElement("div");try{h.style.font="condensed 100px sans-serif"}catch{}b=h.style.font!==""}return[_,c,b?p.stretch:"","100px",m].join(" ")}s.prototype.load=function(p,m){var _=this,c=p||"BESbswy",h=0,S=m||3e3,C=new Date().getTime();return new Promise(function(k,M){if(f(_.context)&&!y(_.context)){var F=new Promise(function(A,T){function R(){new Date().getTime()-C>=S?T(Error(""+S+"ms timeout exceeded")):_.context.document.fonts.load(a(_,'"'+_.family+'"'),c).then(function(g){1<=g.length?A():setTimeout(R,25)},T)}R()}),N=new Promise(function(A,T){h=setTimeout(function(){T(Error(""+S+"ms timeout exceeded"))},S)});Promise.race([N,F]).then(function(){clearTimeout(h),k(_)},M)}else r(function(){function A(){var D;(D=x!=-1&&P!=-1||x!=-1&&E!=-1||P!=-1&&E!=-1)&&((D=x!=P&&x!=E&&P!=E)||(l===null&&(D=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!D&&(536>parseInt(D[1],10)||parseInt(D[1],10)===536&&11>=parseInt(D[2],10))),D=l&&(x==I&&P==I&&E==I||x==G&&P==G&&E==G||x==V&&P==V&&E==V)),D=!D),D&&(O.parentNode!==null&&O.parentNode.removeChild(O),clearTimeout(h),k(_))}function T(){if(new Date().getTime()-C>=S)O.parentNode!==null&&O.parentNode.removeChild(O),M(Error(""+S+"ms timeout exceeded"));else{var D=_.context.document.hidden;(D===!0||D===void 0)&&(x=R.g.offsetWidth,P=g.g.offsetWidth,E=w.g.offsetWidth,A()),h=setTimeout(T,50)}}var R=new i(c),g=new i(c),w=new i(c),x=-1,P=-1,E=-1,I=-1,G=-1,V=-1,O=document.createElement("div");O.dir="ltr",d(R,a(_,"sans-serif")),d(g,a(_,"serif")),d(w,a(_,"monospace")),O.appendChild(R.g),O.appendChild(g.g),O.appendChild(w.g),_.context.document.body.appendChild(O),I=R.g.offsetWidth,G=g.g.offsetWidth,V=w.g.offsetWidth,T(),n(R,function(D){x=D,A()}),d(R,a(_,'"'+_.family+'",sans-serif')),n(g,function(D){P=D,A()}),d(g,a(_,'"'+_.family+'",serif')),n(w,function(D){E=D,A()}),d(w,a(_,'"'+_.family+'",monospace'))})})},t.exports=s})()}(Fr)),Fr.exports}_a();var Mr={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi;function wa(){if(Gi)return lt;Gi=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),n=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,p={};function m(O,D,U){this.props=O,this.context=D,this.refs=p,this.updater=U||f}m.prototype.isReactComponent={},m.prototype.setState=function(O,D){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,D,"setState")},m.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=m.prototype;function c(O,D,U){this.props=O,this.context=D,this.refs=p,this.updater=U||f}var h=c.prototype=new _;h.constructor=c,a(h,m.prototype),h.isPureReactComponent=!0;var S=Array.isArray,C=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function F(O,D,U){var z,q={},Y=null,L=null;if(D!=null)for(z in D.ref!==void 0&&(L=D.ref),D.key!==void 0&&(Y=""+D.key),D)C.call(D,z)&&!M.hasOwnProperty(z)&&(q[z]=D[z]);var B=arguments.length-2;if(B===1)q.children=U;else if(1<B){for(var j=Array(B),X=0;X<B;X++)j[X]=arguments[X+2];q.children=j}if(O&&O.defaultProps)for(z in B=O.defaultProps,B)q[z]===void 0&&(q[z]=B[z]);return{$$typeof:t,type:O,key:Y,ref:L,props:q,_owner:k.current}}function N(O,D){return{$$typeof:t,type:O.type,key:D,ref:O.ref,props:O.props,_owner:O._owner}}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function T(O){var D={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(U){return D[U]})}var R=/\/+/g;function g(O,D){return typeof O=="object"&&O!==null&&O.key!=null?T(""+O.key):D.toString(36)}function w(O,D,U,z,q){var Y=typeof O;(Y==="undefined"||Y==="boolean")&&(O=null);var L=!1;if(O===null)L=!0;else switch(Y){case"string":case"number":L=!0;break;case"object":switch(O.$$typeof){case t:case e:L=!0}}if(L)return L=O,q=q(L),O=z===""?"."+g(L,0):z,S(q)?(U="",O!=null&&(U=O.replace(R,"$&/")+"/"),w(q,D,U,"",function(X){return X})):q!=null&&(A(q)&&(q=N(q,U+(!q.key||L&&L.key===q.key?"":(""+q.key).replace(R,"$&/")+"/")+O)),D.push(q)),1;if(L=0,z=z===""?".":z+":",S(O))for(var B=0;B<O.length;B++){Y=O[B];var j=z+g(Y,B);L+=w(Y,D,U,j,q)}else if(j=y(O),typeof j=="function")for(O=j.call(O),B=0;!(Y=O.next()).done;)Y=Y.value,j=z+g(Y,B++),L+=w(Y,D,U,j,q);else if(Y==="object")throw D=String(O),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return L}function x(O,D,U){if(O==null)return O;var z=[],q=0;return w(O,z,"","",function(Y){return D.call(U,Y,q++)}),z}function P(O){if(O._status===-1){var D=O._result;D=D(),D.then(function(U){(O._status===0||O._status===-1)&&(O._status=1,O._result=U)},function(U){(O._status===0||O._status===-1)&&(O._status=2,O._result=U)}),O._status===-1&&(O._status=0,O._result=D)}if(O._status===1)return O._result.default;throw O._result}var E={current:null},I={transition:null},G={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function V(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:x,forEach:function(O,D,U){x(O,function(){D.apply(this,arguments)},U)},count:function(O){var D=0;return x(O,function(){D++}),D},toArray:function(O){return x(O,function(D){return D})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},lt.Component=m,lt.Fragment=r,lt.Profiler=d,lt.PureComponent=c,lt.StrictMode=i,lt.Suspense=l,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,lt.act=V,lt.cloneElement=function(O,D,U){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var z=a({},O.props),q=O.key,Y=O.ref,L=O._owner;if(D!=null){if(D.ref!==void 0&&(Y=D.ref,L=k.current),D.key!==void 0&&(q=""+D.key),O.type&&O.type.defaultProps)var B=O.type.defaultProps;for(j in D)C.call(D,j)&&!M.hasOwnProperty(j)&&(z[j]=D[j]===void 0&&B!==void 0?B[j]:D[j])}var j=arguments.length-2;if(j===1)z.children=U;else if(1<j){B=Array(j);for(var X=0;X<j;X++)B[X]=arguments[X+2];z.children=B}return{$$typeof:t,type:O.type,key:q,ref:Y,props:z,_owner:L}},lt.createContext=function(O){return O={$$typeof:n,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},lt.createElement=F,lt.createFactory=function(O){var D=F.bind(null,O);return D.type=O,D},lt.createRef=function(){return{current:null}},lt.forwardRef=function(O){return{$$typeof:s,render:O}},lt.isValidElement=A,lt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:P}},lt.memo=function(O,D){return{$$typeof:u,type:O,compare:D===void 0?null:D}},lt.startTransition=function(O){var D=I.transition;I.transition={};try{O()}finally{I.transition=D}},lt.unstable_act=V,lt.useCallback=function(O,D){return E.current.useCallback(O,D)},lt.useContext=function(O){return E.current.useContext(O)},lt.useDebugValue=function(){},lt.useDeferredValue=function(O){return E.current.useDeferredValue(O)},lt.useEffect=function(O,D){return E.current.useEffect(O,D)},lt.useId=function(){return E.current.useId()},lt.useImperativeHandle=function(O,D,U){return E.current.useImperativeHandle(O,D,U)},lt.useInsertionEffect=function(O,D){return E.current.useInsertionEffect(O,D)},lt.useLayoutEffect=function(O,D){return E.current.useLayoutEffect(O,D)},lt.useMemo=function(O,D){return E.current.useMemo(O,D)},lt.useReducer=function(O,D,U){return E.current.useReducer(O,D,U)},lt.useRef=function(O){return E.current.useRef(O)},lt.useState=function(O){return E.current.useState(O)},lt.useSyncExternalStore=function(O,D,U){return E.current.useSyncExternalStore(O,D,U)},lt.useTransition=function(){return E.current.useTransition()},lt.version="18.3.1",lt}var Di;function fs(){return Di||(Di=1,Mr.exports=wa()),Mr.exports}fs();var Or,Ii;function Sa(){if(Ii)return Or;Ii=1;var t=fs();return Or=function(r,i,d){const o=t.useRef("loading"),n=t.useRef(),[s,l]=t.useState(0),u=t.useRef(),b=t.useRef(),v=t.useRef();return(u.current!==r||b.current!==i||v.current!==d)&&(o.current="loading",n.current=void 0,u.current=r,b.current=i,v.current=d),t.useLayoutEffect(function(){if(!r)return;var y=document.createElement("img");function f(){o.current="loaded",n.current=y,l(Math.random())}function a(){o.current="failed",n.current=void 0,l(Math.random())}return y.addEventListener("load",f),y.addEventListener("error",a),i&&(y.crossOrigin=i),d&&(y.referrerPolicy=d),y.src=r,function(){y.removeEventListener("load",f),y.removeEventListener("error",a)}},[r,i,d]),[n.current,o.current]},Or}Sa();var Bi=Object.prototype.hasOwnProperty;function Ui(t,e,r){for(r of t.keys())if(lr(r,e))return r}function lr(t,e){var r,i,d;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((i=t.length)===e.length)for(;i--&&lr(t[i],e[i]););return i===-1}if(r===Set){if(t.size!==e.size)return!1;for(i of t)if(d=i,d&&typeof d=="object"&&(d=Ui(e,d),!d)||!e.has(d))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(i of t)if(d=i[0],d&&typeof d=="object"&&(d=Ui(e,d),!d)||!lr(i[1],e.get(d)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!r||typeof t=="object"){i=0;for(r in t)if(Bi.call(t,r)&&++i&&!Bi.call(e,r)||!(r in e)||!lr(t[r],e[r]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}let xa="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ju=(t=21)=>{let e="",r=t|0;for(;r--;)e+=xa[Math.random()*64|0];return e};const Se=Math.min,Yt=Math.max,hr=Math.round,or=Math.floor,oe=t=>({x:t,y:t}),Ca={left:"right",right:"left",bottom:"top",top:"bottom"},Aa={start:"end",end:"start"};function Qr(t,e,r){return Yt(t,Se(e,r))}function ze(t,e){return typeof t=="function"?t(e):t}function xe(t){return t.split("-")[0]}function je(t){return t.split("-")[1]}function gs(t){return t==="x"?"y":"x"}function di(t){return t==="y"?"height":"width"}function Te(t){return["top","bottom"].includes(xe(t))?"y":"x"}function ui(t){return gs(Te(t))}function ka(t,e,r){r===void 0&&(r=!1);const i=je(t),d=ui(t),o=di(d);let n=d==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(n=fr(n)),[n,fr(n)]}function Pa(t){const e=fr(t);return[Jr(t),e,Jr(e)]}function Jr(t){return t.replace(/start|end/g,e=>Aa[e])}function Ta(t,e,r){const i=["left","right"],d=["right","left"],o=["top","bottom"],n=["bottom","top"];switch(t){case"top":case"bottom":return r?e?d:i:e?i:d;case"left":case"right":return e?o:n;default:return[]}}function Ea(t,e,r,i){const d=je(t);let o=Ta(xe(t),r==="start",i);return d&&(o=o.map(n=>n+"-"+d),e&&(o=o.concat(o.map(Jr)))),o}function fr(t){return t.replace(/left|right|bottom|top/g,e=>Ca[e])}function Ra(t){return{top:0,right:0,bottom:0,left:0,...t}}function ps(t){return typeof t!="number"?Ra(t):{top:t,right:t,bottom:t,left:t}}function gr(t){const{x:e,y:r,width:i,height:d}=t;return{width:i,height:d,top:r,left:e,right:e+i,bottom:r+d,x:e,y:r}}function Vi(t,e,r){let{reference:i,floating:d}=t;const o=Te(e),n=ui(e),s=di(n),l=xe(e),u=o==="y",b=i.x+i.width/2-d.width/2,v=i.y+i.height/2-d.height/2,y=i[s]/2-d[s]/2;let f;switch(l){case"top":f={x:b,y:i.y-d.height};break;case"bottom":f={x:b,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:v};break;case"left":f={x:i.x-d.width,y:v};break;default:f={x:i.x,y:i.y}}switch(je(e)){case"start":f[n]-=y*(r&&u?-1:1);break;case"end":f[n]+=y*(r&&u?-1:1);break}return f}const Fa=async(t,e,r)=>{const{placement:i="bottom",strategy:d="absolute",middleware:o=[],platform:n}=r,s=o.filter(Boolean),l=await(n.isRTL==null?void 0:n.isRTL(e));let u=await n.getElementRects({reference:t,floating:e,strategy:d}),{x:b,y:v}=Vi(u,i,l),y=i,f={},a=0;for(let p=0;p<s.length;p++){const{name:m,fn:_}=s[p],{x:c,y:h,data:S,reset:C}=await _({x:b,y:v,initialPlacement:i,placement:y,strategy:d,middlewareData:f,rects:u,platform:n,elements:{reference:t,floating:e}});b=c??b,v=h??v,f={...f,[m]:{...f[m],...S}},C&&a<=50&&(a++,typeof C=="object"&&(C.placement&&(y=C.placement),C.rects&&(u=C.rects===!0?await n.getElementRects({reference:t,floating:e,strategy:d}):C.rects),{x:b,y:v}=Vi(u,y,l)),p=-1)}return{x:b,y:v,placement:y,strategy:d,middlewareData:f}};async function hi(t,e){var r;e===void 0&&(e={});const{x:i,y:d,platform:o,rects:n,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:b="viewport",elementContext:v="floating",altBoundary:y=!1,padding:f=0}=ze(e,t),a=ps(f),m=s[y?v==="floating"?"reference":"floating":v],_=gr(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:b,strategy:l})),c=v==="floating"?{x:i,y:d,width:n.floating.width,height:n.floating.height}:n.reference,h=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(h))?await(o.getScale==null?void 0:o.getScale(h))||{x:1,y:1}:{x:1,y:1},C=gr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:c,offsetParent:h,strategy:l}):c);return{top:(_.top-C.top+a.top)/S.y,bottom:(C.bottom-_.bottom+a.bottom)/S.y,left:(_.left-C.left+a.left)/S.x,right:(C.right-_.right+a.right)/S.x}}const Ma=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:i,placement:d,rects:o,platform:n,elements:s,middlewareData:l}=e,{element:u,padding:b=0}=ze(t,e)||{};if(u==null)return{};const v=ps(b),y={x:r,y:i},f=ui(d),a=di(f),p=await n.getDimensions(u),m=f==="y",_=m?"top":"left",c=m?"bottom":"right",h=m?"clientHeight":"clientWidth",S=o.reference[a]+o.reference[f]-y[f]-o.floating[a],C=y[f]-o.reference[f],k=await(n.getOffsetParent==null?void 0:n.getOffsetParent(u));let M=k?k[h]:0;(!M||!await(n.isElement==null?void 0:n.isElement(k)))&&(M=s.floating[h]||o.floating[a]);const F=S/2-C/2,N=M/2-p[a]/2-1,A=Se(v[_],N),T=Se(v[c],N),R=A,g=M-p[a]-T,w=M/2-p[a]/2+F,x=Qr(R,w,g),P=!l.arrow&&je(d)!=null&&w!==x&&o.reference[a]/2-(w<R?A:T)-p[a]/2<0,E=P?w<R?w-R:w-g:0;return{[f]:y[f]+E,data:{[f]:x,centerOffset:w-x-E,...P&&{alignmentOffset:E}},reset:P}}}),Oa=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,i;const{placement:d,middlewareData:o,rects:n,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:b=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:a="none",flipAlignment:p=!0,...m}=ze(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const _=xe(d),c=Te(s),h=xe(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=y||(h||!p?[fr(s)]:Pa(s)),k=a!=="none";!y&&k&&C.push(...Ea(s,p,a,S));const M=[s,...C],F=await hi(e,m),N=[];let A=((i=o.flip)==null?void 0:i.overflows)||[];if(b&&N.push(F[_]),v){const w=ka(d,n,S);N.push(F[w[0]],F[w[1]])}if(A=[...A,{placement:d,overflows:N}],!N.every(w=>w<=0)){var T,R;const w=(((T=o.flip)==null?void 0:T.index)||0)+1,x=M[w];if(x)return{data:{index:w,overflows:A},reset:{placement:x}};let P=(R=A.filter(E=>E.overflows[0]<=0).sort((E,I)=>E.overflows[1]-I.overflows[1])[0])==null?void 0:R.placement;if(!P)switch(f){case"bestFit":{var g;const E=(g=A.filter(I=>{if(k){const G=Te(I.placement);return G===c||G==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(G=>G>0).reduce((G,V)=>G+V,0)]).sort((I,G)=>I[1]-G[1])[0])==null?void 0:g[0];E&&(P=E);break}case"initialPlacement":P=s;break}if(d!==P)return{reset:{placement:P}}}return{}}}};async function Na(t,e){const{placement:r,platform:i,elements:d}=t,o=await(i.isRTL==null?void 0:i.isRTL(d.floating)),n=xe(r),s=je(r),l=Te(r)==="y",u=["left","top"].includes(n)?-1:1,b=o&&l?-1:1,v=ze(e,t);let{mainAxis:y,crossAxis:f,alignmentAxis:a}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return s&&typeof a=="number"&&(f=s==="end"?a*-1:a),l?{x:f*b,y:y*u}:{x:y*u,y:f*b}}const La=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,i;const{x:d,y:o,placement:n,middlewareData:s}=e,l=await Na(e,t);return n===((r=s.offset)==null?void 0:r.placement)&&(i=s.arrow)!=null&&i.alignmentOffset?{}:{x:d+l.x,y:o+l.y,data:{...l,placement:n}}}}},Ga=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:i,placement:d}=e,{mainAxis:o=!0,crossAxis:n=!1,limiter:s={fn:m=>{let{x:_,y:c}=m;return{x:_,y:c}}},...l}=ze(t,e),u={x:r,y:i},b=await hi(e,l),v=Te(xe(d)),y=gs(v);let f=u[y],a=u[v];if(o){const m=y==="y"?"top":"left",_=y==="y"?"bottom":"right",c=f+b[m],h=f-b[_];f=Qr(c,f,h)}if(n){const m=v==="y"?"top":"left",_=v==="y"?"bottom":"right",c=a+b[m],h=a-b[_];a=Qr(c,a,h)}const p=s.fn({...e,[y]:f,[v]:a});return{...p,data:{x:p.x-r,y:p.y-i,enabled:{[y]:o,[v]:n}}}}}},Da=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,i;const{placement:d,rects:o,platform:n,elements:s}=e,{apply:l=()=>{},...u}=ze(t,e),b=await hi(e,u),v=xe(d),y=je(d),f=Te(d)==="y",{width:a,height:p}=o.floating;let m,_;v==="top"||v==="bottom"?(m=v,_=y===(await(n.isRTL==null?void 0:n.isRTL(s.floating))?"start":"end")?"left":"right"):(_=v,m=y==="end"?"top":"bottom");const c=p-b.top-b.bottom,h=a-b.left-b.right,S=Se(p-b[m],c),C=Se(a-b[_],h),k=!e.middlewareData.shift;let M=S,F=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(F=h),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(M=c),k&&!y){const A=Yt(b.left,0),T=Yt(b.right,0),R=Yt(b.top,0),g=Yt(b.bottom,0);f?F=a-2*(A!==0||T!==0?A+T:Yt(b.left,b.right)):M=p-2*(R!==0||g!==0?R+g:Yt(b.top,b.bottom))}await l({...e,availableWidth:F,availableHeight:M});const N=await n.getDimensions(s.floating);return a!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function Sr(){return typeof window<"u"}function He(t){return ms(t)?(t.nodeName||"").toLowerCase():"#document"}function Kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function le(t){var e;return(e=(ms(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ms(t){return Sr()?t instanceof Node||t instanceof Kt(t).Node:!1}function te(t){return Sr()?t instanceof Element||t instanceof Kt(t).Element:!1}function ae(t){return Sr()?t instanceof HTMLElement||t instanceof Kt(t).HTMLElement:!1}function zi(t){return!Sr()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kt(t).ShadowRoot}function er(t){const{overflow:e,overflowX:r,overflowY:i,display:d}=ee(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(d)}function Ia(t){return["table","td","th"].includes(He(t))}function xr(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function fi(t){const e=gi(),r=te(t)?ee(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function Ba(t){let e=Ce(t);for(;ae(e)&&!Be(e);){if(fi(e))return e;if(xr(e))return null;e=Ce(e)}return null}function gi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Be(t){return["html","body","#document"].includes(He(t))}function ee(t){return Kt(t).getComputedStyle(t)}function Cr(t){return te(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ce(t){if(He(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zi(t)&&t.host||le(t);return zi(e)?e.host:e}function bs(t){const e=Ce(t);return Be(e)?t.ownerDocument?t.ownerDocument.body:t.body:ae(e)&&er(e)?e:bs(e)}function Yn(t,e,r){var i;e===void 0&&(e=[]),r===void 0&&(r=!0);const d=bs(t),o=d===((i=t.ownerDocument)==null?void 0:i.body),n=Kt(d);if(o){const s=Zr(n);return e.concat(n,n.visualViewport||[],er(d)?d:[],s&&r?Yn(s):[])}return e.concat(d,Yn(d,[],r))}function Zr(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vs(t){const e=ee(t);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const d=ae(t),o=d?t.offsetWidth:r,n=d?t.offsetHeight:i,s=hr(r)!==o||hr(i)!==n;return s&&(r=o,i=n),{width:r,height:i,$:s}}function pi(t){return te(t)?t:t.contextElement}function Ge(t){const e=pi(t);if(!ae(e))return oe(1);const r=e.getBoundingClientRect(),{width:i,height:d,$:o}=vs(e);let n=(o?hr(r.width):r.width)/i,s=(o?hr(r.height):r.height)/d;return(!n||!Number.isFinite(n))&&(n=1),(!s||!Number.isFinite(s))&&(s=1),{x:n,y:s}}const Ua=oe(0);function ys(t){const e=Kt(t);return!gi()||!e.visualViewport?Ua:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Va(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Kt(t)?!1:e}function Ee(t,e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);const d=t.getBoundingClientRect(),o=pi(t);let n=oe(1);e&&(i?te(i)&&(n=Ge(i)):n=Ge(t));const s=Va(o,r,i)?ys(o):oe(0);let l=(d.left+s.x)/n.x,u=(d.top+s.y)/n.y,b=d.width/n.x,v=d.height/n.y;if(o){const y=Kt(o),f=i&&te(i)?Kt(i):i;let a=y,p=Zr(a);for(;p&&i&&f!==a;){const m=Ge(p),_=p.getBoundingClientRect(),c=ee(p),h=_.left+(p.clientLeft+parseFloat(c.paddingLeft))*m.x,S=_.top+(p.clientTop+parseFloat(c.paddingTop))*m.y;l*=m.x,u*=m.y,b*=m.x,v*=m.y,l+=h,u+=S,a=Kt(p),p=Zr(a)}}return gr({width:b,height:v,x:l,y:u})}function mi(t,e){const r=Cr(t).scrollLeft;return e?e.left+r:Ee(le(t)).left+r}function _s(t,e,r){r===void 0&&(r=!1);const i=t.getBoundingClientRect(),d=i.left+e.scrollLeft-(r?0:mi(t,i)),o=i.top+e.scrollTop;return{x:d,y:o}}function za(t){let{elements:e,rect:r,offsetParent:i,strategy:d}=t;const o=d==="fixed",n=le(i),s=e?xr(e.floating):!1;if(i===n||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=oe(1);const b=oe(0),v=ae(i);if((v||!v&&!o)&&((He(i)!=="body"||er(n))&&(l=Cr(i)),ae(i))){const f=Ee(i);u=Ge(i),b.x=f.x+i.clientLeft,b.y=f.y+i.clientTop}const y=n&&!v&&!o?_s(n,l,!0):oe(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+b.x+y.x,y:r.y*u.y-l.scrollTop*u.y+b.y+y.y}}function ja(t){return Array.from(t.getClientRects())}function Ha(t){const e=le(t),r=Cr(t),i=t.ownerDocument.body,d=Yt(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=Yt(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let n=-r.scrollLeft+mi(t);const s=-r.scrollTop;return ee(i).direction==="rtl"&&(n+=Yt(e.clientWidth,i.clientWidth)-d),{width:d,height:o,x:n,y:s}}function qa(t,e){const r=Kt(t),i=le(t),d=r.visualViewport;let o=i.clientWidth,n=i.clientHeight,s=0,l=0;if(d){o=d.width,n=d.height;const u=gi();(!u||u&&e==="fixed")&&(s=d.offsetLeft,l=d.offsetTop)}return{width:o,height:n,x:s,y:l}}function Wa(t,e){const r=Ee(t,!0,e==="fixed"),i=r.top+t.clientTop,d=r.left+t.clientLeft,o=ae(t)?Ge(t):oe(1),n=t.clientWidth*o.x,s=t.clientHeight*o.y,l=d*o.x,u=i*o.y;return{width:n,height:s,x:l,y:u}}function ji(t,e,r){let i;if(e==="viewport")i=qa(t,r);else if(e==="document")i=Ha(le(t));else if(te(e))i=Wa(e,r);else{const d=ys(t);i={x:e.x-d.x,y:e.y-d.y,width:e.width,height:e.height}}return gr(i)}function ws(t,e){const r=Ce(t);return r===e||!te(r)||Be(r)?!1:ee(r).position==="fixed"||ws(r,e)}function Ya(t,e){const r=e.get(t);if(r)return r;let i=Yn(t,[],!1).filter(s=>te(s)&&He(s)!=="body"),d=null;const o=ee(t).position==="fixed";let n=o?Ce(t):t;for(;te(n)&&!Be(n);){const s=ee(n),l=fi(n);!l&&s.position==="fixed"&&(d=null),(o?!l&&!d:!l&&s.position==="static"&&!!d&&["absolute","fixed"].includes(d.position)||er(n)&&!l&&ws(t,n))?i=i.filter(b=>b!==n):d=s,n=Ce(n)}return e.set(t,i),i}function Xa(t){let{element:e,boundary:r,rootBoundary:i,strategy:d}=t;const n=[...r==="clippingAncestors"?xr(e)?[]:Ya(e,this._c):[].concat(r),i],s=n[0],l=n.reduce((u,b)=>{const v=ji(e,b,d);return u.top=Yt(v.top,u.top),u.right=Se(v.right,u.right),u.bottom=Se(v.bottom,u.bottom),u.left=Yt(v.left,u.left),u},ji(e,s,d));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ka(t){const{width:e,height:r}=vs(t);return{width:e,height:r}}function Qa(t,e,r){const i=ae(e),d=le(e),o=r==="fixed",n=Ee(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=oe(0);if(i||!i&&!o)if((He(e)!=="body"||er(d))&&(s=Cr(e)),i){const y=Ee(e,!0,o,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else d&&(l.x=mi(d));const u=d&&!i&&!o?_s(d,s):oe(0),b=n.left+s.scrollLeft-l.x-u.x,v=n.top+s.scrollTop-l.y-u.y;return{x:b,y:v,width:n.width,height:n.height}}function Nr(t){return ee(t).position==="static"}function Hi(t,e){if(!ae(t)||ee(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return le(t)===r&&(r=r.ownerDocument.body),r}function Ss(t,e){const r=Kt(t);if(xr(t))return r;if(!ae(t)){let d=Ce(t);for(;d&&!Be(d);){if(te(d)&&!Nr(d))return d;d=Ce(d)}return r}let i=Hi(t,e);for(;i&&Ia(i)&&Nr(i);)i=Hi(i,e);return i&&Be(i)&&Nr(i)&&!fi(i)?r:i||Ba(t)||r}const Ja=async function(t){const e=this.getOffsetParent||Ss,r=this.getDimensions,i=await r(t.floating);return{reference:Qa(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Za(t){return ee(t).direction==="rtl"}const $a={convertOffsetParentRelativeRectToViewportRelativeRect:za,getDocumentElement:le,getClippingRect:Xa,getOffsetParent:Ss,getElementRects:Ja,getClientRects:ja,getDimensions:Ka,getScale:Ge,isElement:te,isRTL:Za};function tl(t,e){let r=null,i;const d=le(t);function o(){var s;clearTimeout(i),(s=r)==null||s.disconnect(),r=null}function n(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:b,width:v,height:y}=t.getBoundingClientRect();if(s||e(),!v||!y)return;const f=or(b),a=or(d.clientWidth-(u+v)),p=or(d.clientHeight-(b+y)),m=or(u),c={rootMargin:-f+"px "+-a+"px "+-p+"px "+-m+"px",threshold:Yt(0,Se(1,l))||1};let h=!0;function S(C){const k=C[0].intersectionRatio;if(k!==l){if(!h)return n();k?n(!1,k):i=setTimeout(()=>{n(!1,1e-7)},1e3)}h=!1}try{r=new IntersectionObserver(S,{...c,root:d.ownerDocument})}catch{r=new IntersectionObserver(S,c)}r.observe(t)}return n(!0),o}function Hu(t,e,r,i){i===void 0&&(i={});const{ancestorScroll:d=!0,ancestorResize:o=!0,elementResize:n=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=pi(t),b=d||o?[...u?Yn(u):[],...Yn(e)]:[];b.forEach(_=>{d&&_.addEventListener("scroll",r,{passive:!0}),o&&_.addEventListener("resize",r)});const v=u&&s?tl(u,r):null;let y=-1,f=null;n&&(f=new ResizeObserver(_=>{let[c]=_;c&&c.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var h;(h=f)==null||h.observe(e)})),r()}),u&&!l&&f.observe(u),f.observe(e));let a,p=l?Ee(t):null;l&&m();function m(){const _=Ee(t);p&&(_.x!==p.x||_.y!==p.y||_.width!==p.width||_.height!==p.height)&&r(),p=_,a=requestAnimationFrame(m)}return r(),()=>{var _;b.forEach(c=>{d&&c.removeEventListener("scroll",r),o&&c.removeEventListener("resize",r)}),v==null||v(),(_=f)==null||_.disconnect(),f=null,l&&cancelAnimationFrame(a)}}const qu=La,Wu=Ga,Yu=Oa,Xu=Da,Ku=Ma,Qu=(t,e,r)=>{const i=new Map,d={platform:$a,...r},o={...d.platform,_c:i};return Fa(t,e,{...d,platform:o})};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var xs=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pr=xs.join(","),Cs=typeof Element>"u",Re=Cs?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mr=!Cs&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},br=function t(e,r){var i;r===void 0&&(r=!0);var d=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),o=d===""||d==="true",n=o||r&&e&&t(e.parentNode);return n},el=function(e){var r,i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return i===""||i==="true"},As=function(e,r,i){if(br(e))return[];var d=Array.prototype.slice.apply(e.querySelectorAll(pr));return r&&Re.call(e,pr)&&d.unshift(e),d=d.filter(i),d},ks=function t(e,r,i){for(var d=[],o=Array.from(e);o.length;){var n=o.shift();if(!br(n,!1))if(n.tagName==="SLOT"){var s=n.assignedElements(),l=s.length?s:n.children,u=t(l,!0,i);i.flatten?d.push.apply(d,u):d.push({scopeParent:n,candidates:u})}else{var b=Re.call(n,pr);b&&i.filter(n)&&(r||!e.includes(n))&&d.push(n);var v=n.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(n),y=!br(v,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(n));if(v&&y){var f=t(v===!0?n.children:v.children,!0,i);i.flatten?d.push.apply(d,f):d.push({scopeParent:n,candidates:f})}else o.unshift.apply(o,n.children)}}return d},Ps=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ke=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||el(e))&&!Ps(e)?0:e.tabIndex},nl=function(e,r){var i=ke(e);return i<0&&r&&!Ps(e)?0:i},rl=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ts=function(e){return e.tagName==="INPUT"},il=function(e){return Ts(e)&&e.type==="hidden"},ol=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return r},sl=function(e,r){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===r)return e[i]},al=function(e){if(!e.name)return!0;var r=e.form||mr(e),i=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},d;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")d=i(window.CSS.escape(e.name));else try{d=i(e.name)}catch(n){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",n.message),!1}var o=sl(d,e.form);return!o||o===e},ll=function(e){return Ts(e)&&e.type==="radio"},cl=function(e){return ll(e)&&!al(e)},dl=function(e){var r,i=e&&mr(e),d=(r=i)===null||r===void 0?void 0:r.host,o=!1;if(i&&i!==e){var n,s,l;for(o=!!((n=d)!==null&&n!==void 0&&(s=n.ownerDocument)!==null&&s!==void 0&&s.contains(d)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&d;){var u,b,v;i=mr(d),d=(u=i)===null||u===void 0?void 0:u.host,o=!!((b=d)!==null&&b!==void 0&&(v=b.ownerDocument)!==null&&v!==void 0&&v.contains(d))}}return o},qi=function(e){var r=e.getBoundingClientRect(),i=r.width,d=r.height;return i===0&&d===0},ul=function(e,r){var i=r.displayCheck,d=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Re.call(e,"details>summary:first-of-type"),n=o?e.parentElement:e;if(Re.call(n,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof d=="function"){for(var s=e;e;){var l=e.parentElement,u=mr(e);if(l&&!l.shadowRoot&&d(l)===!0)return qi(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=s}if(dl(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return qi(e);return!1},hl=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var i=0;i<r.children.length;i++){var d=r.children.item(i);if(d.tagName==="LEGEND")return Re.call(r,"fieldset[disabled] *")?!0:!d.contains(e)}return!0}r=r.parentElement}return!1},vr=function(e,r){return!(r.disabled||br(r)||il(r)||ul(r,e)||ol(r)||hl(r))},$r=function(e,r){return!(cl(r)||ke(r)<0||!vr(e,r))},fl=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},gl=function t(e){var r=[],i=[];return e.forEach(function(d,o){var n=!!d.scopeParent,s=n?d.scopeParent:d,l=nl(s,n),u=n?t(d.candidates):s;l===0?n?r.push.apply(r,u):r.push(s):i.push({documentOrder:o,tabIndex:l,item:d,isScope:n,content:u})}),i.sort(rl).reduce(function(d,o){return o.isScope?d.push.apply(d,o.content):d.push(o.content),d},[]).concat(r)},pl=function(e,r){r=r||{};var i;return r.getShadowRoot?i=ks([e],r.includeContainer,{filter:$r.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:fl}):i=As(e,r.includeContainer,$r.bind(null,r)),gl(i)},ml=function(e,r){r=r||{};var i;return r.getShadowRoot?i=ks([e],r.includeContainer,{filter:vr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):i=As(e,r.includeContainer,vr.bind(null,r)),i},Oe=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Re.call(e,pr)===!1?!1:$r(r,e)},bl=xs.concat("iframe").join(","),Lr=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Re.call(e,bl)===!1?!1:vr(r,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ti(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function vl(t){if(Array.isArray(t))return ti(t)}function yl(t,e,r){return(e=Cl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _l(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),r.push.apply(r,i)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wi(Object(r),!0).forEach(function(i){yl(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Sl(t){return vl(t)||_l(t)||Al(t)||wl()}function xl(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cl(t){var e=xl(t,"string");return typeof e=="symbol"?e:e+""}function Al(t,e){if(t){if(typeof t=="string")return ti(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ti(t,e):void 0}}var Xi={activateTrap:function(e,r){if(e.length>0){var i=e[e.length-1];i!==r&&i.pause()}var d=e.indexOf(r);d===-1||e.splice(d,1),e.push(r)},deactivateTrap:function(e,r){var i=e.indexOf(r);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},kl=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Pl=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},qn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Tl=function(e){return qn(e)&&!e.shiftKey},El=function(e){return qn(e)&&e.shiftKey},Ki=function(e){return setTimeout(e,0)},Ke=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),d=1;d<r;d++)i[d-1]=arguments[d];return typeof e=="function"?e.apply(void 0,i):e},sr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Rl=[],Ju=function(e,r){var i=(r==null?void 0:r.document)||document,d=(r==null?void 0:r.trapStack)||Rl,o=Yi({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Tl,isKeyBackward:El},r),n={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,l=function(g,w,x){return g&&g[w]!==void 0?g[w]:o[x||w]},u=function(g,w){var x=typeof(w==null?void 0:w.composedPath)=="function"?w.composedPath():void 0;return n.containerGroups.findIndex(function(P){var E=P.container,I=P.tabbableNodes;return E.contains(g)||(x==null?void 0:x.includes(E))||I.find(function(G){return G===g})})},b=function(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=w.hasFallback,P=x===void 0?!1:x,E=w.params,I=E===void 0?[]:E,G=o[g];if(typeof G=="function"&&(G=G.apply(void 0,Sl(I))),G===!0&&(G=void 0),!G){if(G===void 0||G===!1)return G;throw new Error("`".concat(g,"` was specified but was not a node, or did not return a node"))}var V=G;if(typeof G=="string"){try{V=i.querySelector(G)}catch(O){throw new Error("`".concat(g,'` appears to be an invalid selector; error="').concat(O.message,'"'))}if(!V&&!P)throw new Error("`".concat(g,"` as selector refers to no known node"))}return V},v=function(){var g=b("initialFocus",{hasFallback:!0});if(g===!1)return!1;if(g===void 0||g&&!Lr(g,o.tabbableOptions))if(u(i.activeElement)>=0)g=i.activeElement;else{var w=n.tabbableGroups[0],x=w&&w.firstTabbableNode;g=x||b("fallbackFocus")}else g===null&&(g=b("fallbackFocus"));if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},y=function(){if(n.containerGroups=n.containers.map(function(g){var w=pl(g,o.tabbableOptions),x=ml(g,o.tabbableOptions),P=w.length>0?w[0]:void 0,E=w.length>0?w[w.length-1]:void 0,I=x.find(function(O){return Oe(O)}),G=x.slice().reverse().find(function(O){return Oe(O)}),V=!!w.find(function(O){return ke(O)>0});return{container:g,tabbableNodes:w,focusableNodes:x,posTabIndexesFound:V,firstTabbableNode:P,lastTabbableNode:E,firstDomTabbableNode:I,lastDomTabbableNode:G,nextTabbableNode:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=w.indexOf(D);return z<0?U?x.slice(x.indexOf(D)+1).find(function(q){return Oe(q)}):x.slice(0,x.indexOf(D)).reverse().find(function(q){return Oe(q)}):w[z+(U?1:-1)]}}}),n.tabbableGroups=n.containerGroups.filter(function(g){return g.tabbableNodes.length>0}),n.tabbableGroups.length<=0&&!b("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(n.containerGroups.find(function(g){return g.posTabIndexesFound})&&n.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function(g){var w=g.activeElement;if(w)return w.shadowRoot&&w.shadowRoot.activeElement!==null?f(w.shadowRoot):w},a=function(g){if(g!==!1&&g!==f(document)){if(!g||!g.focus){a(v());return}g.focus({preventScroll:!!o.preventScroll}),n.mostRecentlyFocusedNode=g,kl(g)&&g.select()}},p=function(g){var w=b("setReturnFocus",{params:[g]});return w||(w===!1?!1:g)},m=function(g){var w=g.target,x=g.event,P=g.isBackward,E=P===void 0?!1:P;w=w||sr(x),y();var I=null;if(n.tabbableGroups.length>0){var G=u(w,x),V=G>=0?n.containerGroups[G]:void 0;if(G<0)E?I=n.tabbableGroups[n.tabbableGroups.length-1].lastTabbableNode:I=n.tabbableGroups[0].firstTabbableNode;else if(E){var O=n.tabbableGroups.findIndex(function(L){var B=L.firstTabbableNode;return w===B});if(O<0&&(V.container===w||Lr(w,o.tabbableOptions)&&!Oe(w,o.tabbableOptions)&&!V.nextTabbableNode(w,!1))&&(O=G),O>=0){var D=O===0?n.tabbableGroups.length-1:O-1,U=n.tabbableGroups[D];I=ke(w)>=0?U.lastTabbableNode:U.lastDomTabbableNode}else qn(x)||(I=V.nextTabbableNode(w,!1))}else{var z=n.tabbableGroups.findIndex(function(L){var B=L.lastTabbableNode;return w===B});if(z<0&&(V.container===w||Lr(w,o.tabbableOptions)&&!Oe(w,o.tabbableOptions)&&!V.nextTabbableNode(w))&&(z=G),z>=0){var q=z===n.tabbableGroups.length-1?0:z+1,Y=n.tabbableGroups[q];I=ke(w)>=0?Y.firstTabbableNode:Y.firstDomTabbableNode}else qn(x)||(I=V.nextTabbableNode(w))}}else I=b("fallbackFocus");return I},_=function(g){var w=sr(g);if(!(u(w,g)>=0)){if(Ke(o.clickOutsideDeactivates,g)){s.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Ke(o.allowOutsideClick,g)||g.preventDefault()}},c=function(g){var w=sr(g),x=u(w,g)>=0;if(x||w instanceof Document)x&&(n.mostRecentlyFocusedNode=w);else{g.stopImmediatePropagation();var P,E=!0;if(n.mostRecentlyFocusedNode)if(ke(n.mostRecentlyFocusedNode)>0){var I=u(n.mostRecentlyFocusedNode),G=n.containerGroups[I].tabbableNodes;if(G.length>0){var V=G.findIndex(function(O){return O===n.mostRecentlyFocusedNode});V>=0&&(o.isKeyForward(n.recentNavEvent)?V+1<G.length&&(P=G[V+1],E=!1):V-1>=0&&(P=G[V-1],E=!1))}}else n.containerGroups.some(function(O){return O.tabbableNodes.some(function(D){return ke(D)>0})})||(E=!1);else E=!1;E&&(P=m({target:n.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(n.recentNavEvent)})),a(P||n.mostRecentlyFocusedNode||v())}n.recentNavEvent=void 0},h=function(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n.recentNavEvent=g;var x=m({event:g,isBackward:w});x&&(qn(g)&&g.preventDefault(),a(x))},S=function(g){(o.isKeyForward(g)||o.isKeyBackward(g))&&h(g,o.isKeyBackward(g))},C=function(g){Pl(g)&&Ke(o.escapeDeactivates,g)!==!1&&(g.preventDefault(),s.deactivate())},k=function(g){var w=sr(g);u(w,g)>=0||Ke(o.clickOutsideDeactivates,g)||Ke(o.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},M=function(){if(n.active)return Xi.activateTrap(d,s),n.delayInitialFocusTimer=o.delayInitialFocus?Ki(function(){a(v())}):a(v()),i.addEventListener("focusin",c,!0),i.addEventListener("mousedown",_,{capture:!0,passive:!1}),i.addEventListener("touchstart",_,{capture:!0,passive:!1}),i.addEventListener("click",k,{capture:!0,passive:!1}),i.addEventListener("keydown",S,{capture:!0,passive:!1}),i.addEventListener("keydown",C),s},F=function(){if(n.active)return i.removeEventListener("focusin",c,!0),i.removeEventListener("mousedown",_,!0),i.removeEventListener("touchstart",_,!0),i.removeEventListener("click",k,!0),i.removeEventListener("keydown",S,!0),i.removeEventListener("keydown",C),s},N=function(g){var w=g.some(function(x){var P=Array.from(x.removedNodes);return P.some(function(E){return E===n.mostRecentlyFocusedNode})});w&&a(v())},A=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(N):void 0,T=function(){A&&(A.disconnect(),n.active&&!n.paused&&n.containers.map(function(g){A.observe(g,{subtree:!0,childList:!0})}))};return s={get active(){return n.active},get paused(){return n.paused},activate:function(g){if(n.active)return this;var w=l(g,"onActivate"),x=l(g,"onPostActivate"),P=l(g,"checkCanFocusTrap");P||y(),n.active=!0,n.paused=!1,n.nodeFocusedBeforeActivation=i.activeElement,w==null||w();var E=function(){P&&y(),M(),T(),x==null||x()};return P?(P(n.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(g){if(!n.active)return this;var w=Yi({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},g);clearTimeout(n.delayInitialFocusTimer),n.delayInitialFocusTimer=void 0,F(),n.active=!1,n.paused=!1,T(),Xi.deactivateTrap(d,s);var x=l(w,"onDeactivate"),P=l(w,"onPostDeactivate"),E=l(w,"checkCanReturnFocus"),I=l(w,"returnFocus","returnFocusOnDeactivate");x==null||x();var G=function(){Ki(function(){I&&a(p(n.nodeFocusedBeforeActivation)),P==null||P()})};return I&&E?(E(p(n.nodeFocusedBeforeActivation)).then(G,G),this):(G(),this)},pause:function(g){if(n.paused||!n.active)return this;var w=l(g,"onPause"),x=l(g,"onPostPause");return n.paused=!0,w==null||w(),F(),T(),x==null||x(),this},unpause:function(g){if(!n.paused||!n.active)return this;var w=l(g,"onUnpause"),x=l(g,"onPostUnpause");return n.paused=!1,w==null||w(),y(),M(),T(),x==null||x(),this},updateContainerElements:function(g){var w=[].concat(g).filter(Boolean);return n.containers=w.map(function(x){return typeof x=="string"?i.querySelector(x):x}),n.active&&y(),T(),this}},s.updateContainerElements(e),s};function Es(t,e){const r={};return e.forEach(i=>{r[i]={[`data-${t}-${i}`]:""}}),i=>r[i]}function Ar(){const t=la();return e=>{const{originalEvent:r}=e.detail,{cancelable:i}=e,d=r.type;t(d,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:i})||e.preventDefault()}}function Fl(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=i)}return e}function Ml(t){return function(e,r){if(r===void 0)return;const i=t[e];i&&i.set(r)}}function Ol(t,e){return t.length!==e.length?!1:t.every((r,i)=>r===e[i])}function Gr(t,e){const r=[];return e.builders.forEach(i=>{const d=i.action(t);d&&r.push(d)}),{destroy:()=>{r.forEach(i=>{i.destroy&&i.destroy()})}}}function Nl(t){const e={};return t.forEach(r=>{Object.keys(r).forEach(i=>{i!=="action"&&(e[i]=r[i])})}),e}function Zu(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["href","type","builders","el"]);Ht(e,!1);let d=W(e,"href",24,()=>{}),o=W(e,"type",24,()=>{}),n=W(e,"builders",24,()=>[]),s=W(e,"el",28,()=>{});const l={"data-button-root":""};pe();var u=ft(),b=gt(u);{var v=f=>{var a=ft(),p=gt(a);const m=ca(()=>Nl(n()));Xr(p,()=>d()?"a":"button",!1,(_,c)=>{Xt(_,k=>s(k),()=>s()),ge(_,(k,M)=>Gr==null?void 0:Gr(k,M),()=>({builders:n()}));let h;It(()=>h=Bt(_,h,{type:d()?void 0:o(),href:d(),tabindex:"0",...Z(m),...i,...l},void 0,_.namespaceURI===Kr,_.nodeName.includes("-"))),st("click",_,function(k){bt.call(this,e,k)}),st("change",_,function(k){bt.call(this,e,k)}),st("keydown",_,function(k){bt.call(this,e,k)}),st("keyup",_,function(k){bt.call(this,e,k)}),st("mouseenter",_,function(k){bt.call(this,e,k)}),st("mouseleave",_,function(k){bt.call(this,e,k)}),st("mousedown",_,function(k){bt.call(this,e,k)}),st("pointerdown",_,function(k){bt.call(this,e,k)}),st("mouseup",_,function(k){bt.call(this,e,k)}),st("pointerup",_,function(k){bt.call(this,e,k)});var S=ft(),C=gt(S);Tt(C,e,"default",{},null),et(c,S)}),et(f,a)},y=f=>{var a=ft(),p=gt(a);Xr(p,()=>d()?"a":"button",!1,(m,_)=>{Xt(m,C=>s(C),()=>s());let c;It(()=>c=Bt(m,c,{type:d()?void 0:o(),href:d(),tabindex:"0",...i,...l},void 0,m.namespaceURI===Kr,m.nodeName.includes("-"))),st("click",m,function(C){bt.call(this,e,C)}),st("change",m,function(C){bt.call(this,e,C)}),st("keydown",m,function(C){bt.call(this,e,C)}),st("keyup",m,function(C){bt.call(this,e,C)}),st("mouseenter",m,function(C){bt.call(this,e,C)}),st("mouseleave",m,function(C){bt.call(this,e,C)}),st("mousedown",m,function(C){bt.call(this,e,C)}),st("pointerdown",m,function(C){bt.call(this,e,C)}),st("mouseup",m,function(C){bt.call(this,e,C)}),st("pointerup",m,function(C){bt.call(this,e,C)});var h=ft(),S=gt(h);Tt(S,e,"default",{},null),et(_,h)}),et(f,a)};Dt(b,f=>{n()&&n().length?f(v):f(y,!1)})}et(t,u),qt()}function Ll(t){return(e={})=>Gl(t,e)}function Gl(t,e){const i={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(d=>({...d,placement:Dl(i.side,i.align),offset:{...d.offset,mainAxis:i.sideOffset,crossAxis:i.alignOffset},gutter:0,sameWidth:i.sameWidth,flip:i.avoidCollisions,overflowPadding:i.collisionPadding,boundary:i.collisionBoundary,fitViewport:i.fitViewport,strategy:i.strategy,overlap:i.overlap}))}function Dl(t,e){return e==="center"?t:`${t}-${e}`}function Il(){const t="label",r=Es(t,["root"]);return{NAME:t,getAttrs:r}}var Bl=re("<label><!></label>");function $u(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["asChild","el"]);Ht(e,!1);const d=ne(),o=()=>Qt(u,"$root",d),n=Ie();let s=W(e,"asChild",8,!1),l=W(e,"el",28,()=>{});const{elements:{root:u}}=da(),b=Ar(),{getAttrs:v}=Il(),y=v("root");yt(()=>o(),()=>{se(n,o())}),yt(()=>Z(n),()=>{Object.assign(Z(n),y)}),Ve(),pe();var f=ft(),a=gt(f);{var p=_=>{var c=ft(),h=gt(c);Tt(h,e,"default",{get builder(){return Z(n)}},null),et(_,c)},m=_=>{var c=Bl();let h;var S=Zt(c);Tt(S,e,"default",{get builder(){return Z(n)}},null),Xt(c,C=>l(C),()=>l()),ge(c,C=>{var k,M;return(M=(k=Z(n)).action)==null?void 0:M.call(k,C)}),Ot(()=>st("m-mousedown",c,b)),It(()=>h=Bt(c,h,{...Z(n),...i})),et(_,c)};Dt(a,_=>{s()?_(p):_(m,!1)})}et(t,f),qt()}function kr(){return{NAME:"select",GROUP_NAME:"select-group",ITEM_NAME:"select-item",PARTS:["arrow","content","group","item","indicator","input","label","trigger","value"]}}function qe(){const{NAME:t}=kr();return wr(t)}function Ul(t){const{NAME:e,PARTS:r}=kr(),i=Es(e,r),d={...ua({...Fl(t),forceVisible:!0}),getAttrs:i};return dr(e,d),{...d,updateOption:Ml(d.options)}}function Vl(t){const{ITEM_NAME:e}=kr(),r=qe();return dr(e,t),r}function zl(){const{ITEM_NAME:t}=kr(),{helpers:{isSelected:e},getAttrs:r}=qe();return{value:wr(t),isSelected:e,getAttrs:r}}function jl(t){const r={...{side:"bottom",align:"center",sameWidth:!0},...t},{options:{positioning:i}}=qe();Ll(i)(r)}function th(t,e){Ht(e,!1);const r=ne(),i=()=>Qt(F,"$idValues",r);let d=W(e,"required",24,()=>{}),o=W(e,"disabled",24,()=>{}),n=W(e,"preventScroll",24,()=>{}),s=W(e,"loop",24,()=>{}),l=W(e,"closeOnEscape",24,()=>{}),u=W(e,"closeOnOutsideClick",24,()=>{}),b=W(e,"portal",24,()=>{}),v=W(e,"name",24,()=>{}),y=W(e,"multiple",8,!1),f=W(e,"selected",28,()=>{}),a=W(e,"onSelectedChange",24,()=>{}),p=W(e,"open",28,()=>{}),m=W(e,"onOpenChange",24,()=>{}),_=W(e,"items",24,()=>[]),c=W(e,"onOutsideClick",24,()=>{}),h=W(e,"typeahead",24,()=>{});const{states:{open:S,selected:C},updateOption:k,ids:M}=Ul({required:d(),disabled:o(),preventScroll:n(),loop:s(),closeOnEscape:l(),closeOnOutsideClick:u(),portal:b(),name:v(),onOutsideClick:c(),multiple:y(),forceVisible:!0,defaultSelected:Array.isArray(f())?[...f()]:f(),defaultOpen:p(),onSelectedChange:({next:T})=>{var R,g;return Array.isArray(T)?((!Array.isArray(f())||!Ol(f(),T))&&((R=a())==null||R(T),f(T)),T):(f()!==T&&((g=a())==null||g(T),f(T)),T)},onOpenChange:({next:T})=>{var R;return p()!==T&&((R=m())==null||R(T),p(T)),T},items:_(),typeahead:h()}),F=ha([M.menu,M.trigger,M.label],([T,R,g])=>({menu:T,trigger:R,label:g}));yt(()=>mt(p()),()=>{p()!==void 0&&S.set(p())}),yt(()=>mt(f()),()=>{f()!==void 0&&C.set(Array.isArray(f())?[...f()]:f())}),yt(()=>mt(d()),()=>{k("required",d())}),yt(()=>mt(o()),()=>{k("disabled",o())}),yt(()=>mt(n()),()=>{k("preventScroll",n())}),yt(()=>mt(s()),()=>{k("loop",s())}),yt(()=>mt(l()),()=>{k("closeOnEscape",l())}),yt(()=>mt(u()),()=>{k("closeOnOutsideClick",u())}),yt(()=>mt(b()),()=>{k("portal",b())}),yt(()=>mt(v()),()=>{k("name",v())}),yt(()=>mt(y()),()=>{k("multiple",y())}),yt(()=>mt(c()),()=>{k("onOutsideClick",c())}),yt(()=>mt(h()),()=>{k("typeahead",h())}),Ve(),pe();var N=ft(),A=gt(N);Tt(A,e,"default",{get ids(){return i()}},null),et(t,N),qt()}var Hl=re("<div><!></div>"),ql=re("<div><!></div>"),Wl=re("<div><!></div>"),Yl=re("<div><!></div>"),Xl=re("<div><!></div>");function eh(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"]);Ht(e,!1);const d=ne(),o=()=>Qt(R,"$menu",d),n=()=>Qt(g,"$open",d),s=Ie();let l=W(e,"transition",24,()=>{}),u=W(e,"transitionConfig",24,()=>{}),b=W(e,"inTransition",24,()=>{}),v=W(e,"inTransitionConfig",24,()=>{}),y=W(e,"outTransition",24,()=>{}),f=W(e,"outTransitionConfig",24,()=>{}),a=W(e,"asChild",8,!1),p=W(e,"id",24,()=>{}),m=W(e,"side",8,"bottom"),_=W(e,"align",8,"center"),c=W(e,"sideOffset",8,0),h=W(e,"alignOffset",8,0),S=W(e,"collisionPadding",8,8),C=W(e,"avoidCollisions",8,!0),k=W(e,"collisionBoundary",24,()=>{}),M=W(e,"sameWidth",8,!0),F=W(e,"fitViewport",8,!1),N=W(e,"strategy",8,"absolute"),A=W(e,"overlap",8,!1),T=W(e,"el",28,()=>{});const{elements:{menu:R},states:{open:g},ids:w,getAttrs:x}=qe(),P=Ar(),E=x("content");yt(()=>mt(p()),()=>{p()&&w.menu.set(p())}),yt(()=>o(),()=>{se(s,o())}),yt(()=>Z(s),()=>{Object.assign(Z(s),E)}),yt(()=>(n(),mt(m()),mt(_()),mt(c()),mt(h()),mt(S()),mt(C()),mt(k()),mt(M()),mt(F()),mt(N()),mt(A())),()=>{n()&&jl({side:m(),align:_(),sideOffset:c(),alignOffset:h(),collisionPadding:S(),avoidCollisions:C(),collisionBoundary:k(),sameWidth:M(),fitViewport:F(),strategy:N(),overlap:A()})}),Ve(),pe();var I=ft(),G=gt(I);{var V=D=>{var U=ft(),z=gt(U);Tt(z,e,"default",{get builder(){return Z(s)}},null),et(D,U)},O=D=>{var U=ft(),z=gt(U);{var q=L=>{var B=Hl();let j;var X=Zt(B);Tt(X,e,"default",{get builder(){return Z(s)}},null),Xt(B,K=>T(K),()=>T()),ge(B,K=>{var H,Q;return(Q=(H=Z(s)).action)==null?void 0:Q.call(H,K)}),Ot(()=>st("m-pointerleave",B,P)),Ot(()=>st("keydown",B,function(K){bt.call(this,e,K)})),It(()=>j=Bt(B,j,{...Z(s),...i})),Xe(3,B,l,u),et(L,B)},Y=L=>{var B=ft(),j=gt(B);{var X=H=>{var Q=ql();let $;var J=Zt(Q);Tt(J,e,"default",{get builder(){return Z(s)}},null),Xt(Q,ht=>T(ht),()=>T()),ge(Q,ht=>{var tt,nt;return(nt=(tt=Z(s)).action)==null?void 0:nt.call(tt,ht)}),Ot(()=>st("m-pointerleave",Q,P)),Ot(()=>st("keydown",Q,function(ht){bt.call(this,e,ht)})),It(()=>$=Bt(Q,$,{...Z(s),...i})),Xe(1,Q,b,v),Xe(2,Q,y,f),et(H,Q)},K=H=>{var Q=ft(),$=gt(Q);{var J=tt=>{var nt=Wl();let Rt;var St=Zt(nt);Tt(St,e,"default",{get builder(){return Z(s)}},null),Xt(nt,kt=>T(kt),()=>T()),ge(nt,kt=>{var vt,ot;return(ot=(vt=Z(s)).action)==null?void 0:ot.call(vt,kt)}),Ot(()=>st("m-pointerleave",nt,P)),Ot(()=>st("keydown",nt,function(kt){bt.call(this,e,kt)})),It(()=>Rt=Bt(nt,Rt,{...Z(s),...i})),Xe(1,nt,b,v),et(tt,nt)},ht=tt=>{var nt=ft(),Rt=gt(nt);{var St=vt=>{var ot=Yl();let Gt;var Ft=Zt(ot);Tt(Ft,e,"default",{get builder(){return Z(s)}},null),Xt(ot,Pt=>T(Pt),()=>T()),ge(ot,Pt=>{var pt,Mt;return(Mt=(pt=Z(s)).action)==null?void 0:Mt.call(pt,Pt)}),Ot(()=>st("m-pointerleave",ot,P)),Ot(()=>st("keydown",ot,function(Pt){bt.call(this,e,Pt)})),It(()=>Gt=Bt(ot,Gt,{...Z(s),...i})),Xe(2,ot,y,f),et(vt,ot)},kt=vt=>{var ot=ft(),Gt=gt(ot);{var Ft=Pt=>{var pt=Xl();let Mt;var Ut=Zt(pt);Tt(Ut,e,"default",{get builder(){return Z(s)}},null),Xt(pt,xt=>T(xt),()=>T()),ge(pt,xt=>{var Wt,Me;return(Me=(Wt=Z(s)).action)==null?void 0:Me.call(Wt,xt)}),Ot(()=>st("m-pointerleave",pt,P)),Ot(()=>st("keydown",pt,function(xt){bt.call(this,e,xt)})),It(()=>Mt=Bt(pt,Mt,{...Z(s),...i})),et(Pt,pt)};Dt(Gt,Pt=>{n()&&Pt(Ft)},!0)}et(vt,ot)};Dt(Rt,vt=>{y()&&n()?vt(St):vt(kt,!1)},!0)}et(tt,nt)};Dt($,tt=>{b()&&n()?tt(J):tt(ht,!1)},!0)}et(H,Q)};Dt(j,H=>{b()&&y()&&n()?H(X):H(K,!1)},!0)}et(L,B)};Dt(z,L=>{l()&&n()?L(q):L(Y,!1)},!0)}et(D,U)};Dt(G,D=>{a()&&n()?D(V):D(O,!1)})}et(t,I),qt()}var Kl=re("<div><!></div>");function nh(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["value","disabled","label","asChild","el"]);Ht(e,!1);const d=ne(),o=()=>Qt(a,"$item",d),n=()=>Qt(p,"$isSelectedStore",d),s=Ie(),l=Ie();let u=W(e,"value",8),b=W(e,"disabled",24,()=>{}),v=W(e,"label",24,()=>{}),y=W(e,"asChild",8,!1),f=W(e,"el",28,()=>{});const{elements:{option:a},helpers:{isSelected:p},getAttrs:m}=Vl(u()),_=Ar(),c=m("item");yt(()=>(o(),mt(u()),mt(b()),mt(v())),()=>{se(s,o()({value:u(),disabled:b(),label:v()}))}),yt(()=>Z(s),()=>{Object.assign(Z(s),c)}),yt(()=>(n(),mt(u())),()=>{se(l,n()(u()))}),Ve(),pe();var h=ft(),S=gt(h);{var C=M=>{var F=ft(),N=gt(F);Tt(N,e,"default",{get builder(){return Z(s)},get isSelected(){return Z(l)}},null),et(M,F)},k=M=>{var F=Kl();let N;var A=Zt(F);Tt(A,e,"default",{get builder(){return Z(s)},get isSelected(){return Z(l)}},T=>{var R=fa();It(()=>us(R,v()||u())),et(T,R)}),Xt(F,T=>f(T),()=>f()),ge(F,T=>{var R,g;return(g=(R=Z(s)).action)==null?void 0:g.call(R,T)}),Ot(()=>st("m-click",F,_)),Ot(()=>st("m-pointermove",F,_)),Ot(()=>st("focusin",F,function(T){bt.call(this,e,T)})),Ot(()=>st("keydown",F,function(T){bt.call(this,e,T)})),Ot(()=>st("focusout",F,function(T){bt.call(this,e,T)})),Ot(()=>st("pointerleave",F,function(T){bt.call(this,e,T)})),It(()=>N=Bt(F,N,{...Z(s),...i})),et(M,F)};Dt(S,M=>{y()?M(C):M(k,!1)})}et(t,h),qt()}var Ql=re("<div><!></div>");function rh(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["asChild","el"]);Ht(e,!1);const d=ne(),o=()=>Qt(l,"$isSelected",d);let n=W(e,"asChild",8,!1),s=W(e,"el",28,()=>{});const{isSelected:l,value:u,getAttrs:b}=zl(),v=b("indicator");pe();var y=ft(),f=gt(y);{var a=m=>{var _=ft(),c=gt(_);Tt(c,e,"default",{attrs:v,get isSelected(){return o()(u)}},null),et(m,_)},p=m=>{var _=Ql();let c;var h=Zt(_);{var S=C=>{var k=ft(),M=gt(k);Tt(M,e,"default",{attrs:v,get isSelected(){return o()(u)}},null),et(C,k)};Dt(h,C=>{o()(u)&&C(S)})}Xt(_,C=>s(C),()=>s()),It(()=>c=Bt(_,c,{...i,...v})),et(m,_)};Dt(f,m=>{n()?m(a):m(p,!1)})}et(t,y),qt()}var Jl=re("<button><!></button>");function ih(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["asChild","id","el"]);Ht(e,!1);const d=ne(),o=()=>Qt(b,"$trigger",d),n=Ie();let s=W(e,"asChild",8,!1),l=W(e,"id",24,()=>{}),u=W(e,"el",28,()=>{});const{elements:{trigger:b},ids:v,getAttrs:y}=qe(),f=Ar(),a=y("trigger");yt(()=>mt(l()),()=>{l()&&v.trigger.set(l())}),yt(()=>o(),()=>{se(n,o())}),yt(()=>Z(n),()=>{Object.assign(Z(n),a)}),Ve(),pe();var p=ft(),m=gt(p);{var _=h=>{var S=ft(),C=gt(S);Tt(C,e,"default",{get builder(){return Z(n)}},null),et(h,S)},c=h=>{var S=Jl();let C;var k=Zt(S);Tt(k,e,"default",{get builder(){return Z(n)}},null),Xt(S,M=>u(M),()=>u()),ge(S,M=>{var F,N;return(N=(F=Z(n)).action)==null?void 0:N.call(F,M)}),Ot(()=>st("m-click",S,f)),Ot(()=>st("m-keydown",S,f)),It(()=>C=Bt(S,C,{...Z(n),type:"button",...i})),et(h,S)};Dt(m,h=>{s()?h(_):h(c,!1)})}et(t,p),qt()}var Zl=re("<span> </span>");function oh(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["placeholder","asChild","el"]);Ht(e,!1);const d=ne(),o=()=>Qt(b,"$selectedLabel",d),n=Ie();let s=W(e,"placeholder",8,""),l=W(e,"asChild",8,!1),u=W(e,"el",28,()=>{});const{states:{selectedLabel:b},getAttrs:v}=qe(),y=v("value");yt(()=>o(),()=>{se(n,o())}),Ve(),pe();var f=ft(),a=gt(f);{var p=_=>{var c=ft(),h=gt(c);Tt(h,e,"default",{get label(){return Z(n)},attrs:y},null),et(_,c)},m=_=>{var c=Zl();let h;var S=Zt(c);Xt(c,C=>u(C),()=>u()),It(()=>{h=Bt(c,h,{...i,...y,"data-placeholder":Z(n)?void 0:""}),us(S,Z(n)||s())}),et(_,c)};Dt(a,_=>{l()?_(p):_(m,!1)})}et(t,f),qt()}function Rs(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var d=t.length;for(e=0;e<d;e++)t[e]&&(r=Rs(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function sh(){for(var t,e,r=0,i="",d=arguments.length;r<d;r++)(t=arguments[r])&&(e=Rs(t))&&(i&&(i+=" "),i+=e);return i}const bi="-";function $l(t){const e=ec(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;function d(n){const s=n.split(bi);return s[0]===""&&s.length!==1&&s.shift(),Fs(s,e)||tc(n)}function o(n,s){const l=r[n]||[];return s&&i[n]?[...l,...i[n]]:l}return{getClassGroupId:d,getConflictingClassGroupIds:o}}function Fs(t,e){var n;if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),d=i?Fs(t.slice(1),i):void 0;if(d)return d;if(e.validators.length===0)return;const o=t.join(bi);return(n=e.validators.find(({validator:s})=>s(o)))==null?void 0:n.classGroupId}const Qi=/^\[(.+)\]$/;function tc(t){if(Qi.test(t)){const e=Qi.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function ec(t){const{theme:e,prefix:r}=t,i={nextPart:new Map,validators:[]};return rc(Object.entries(t.classGroups),r).forEach(([o,n])=>{ei(n,i,o,e)}),i}function ei(t,e,r,i){t.forEach(d=>{if(typeof d=="string"){const o=d===""?e:Ji(e,d);o.classGroupId=r;return}if(typeof d=="function"){if(nc(d)){ei(d(i),e,r,i);return}e.validators.push({validator:d,classGroupId:r});return}Object.entries(d).forEach(([o,n])=>{ei(n,Ji(e,o),r,i)})})}function Ji(t,e){let r=t;return e.split(bi).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r}function nc(t){return t.isThemeGetter}function rc(t,e){return e?t.map(([r,i])=>{const d=i.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([n,s])=>[e+n,s])):o);return[r,d]}):t}function ic(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;function d(o,n){r.set(o,n),e++,e>t&&(e=0,i=r,r=new Map)}return{get(o){let n=r.get(o);if(n!==void 0)return n;if((n=i.get(o))!==void 0)return d(o,n),n},set(o,n){r.has(o)?r.set(o,n):d(o,n)}}}const Ms="!";function oc(t){const e=t.separator,r=e.length===1,i=e[0],d=e.length;return function(n){const s=[];let l=0,u=0,b;for(let p=0;p<n.length;p++){let m=n[p];if(l===0){if(m===i&&(r||n.slice(p,p+d)===e)){s.push(n.slice(u,p)),u=p+d;continue}if(m==="/"){b=p;continue}}m==="["?l++:m==="]"&&l--}const v=s.length===0?n:n.substring(u),y=v.startsWith(Ms),f=y?v.substring(1):v,a=b&&b>u?b-u:void 0;return{modifiers:s,hasImportantModifier:y,baseClassName:f,maybePostfixModifierPosition:a}}}function sc(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(i=>{i[0]==="["?(e.push(...r.sort(),i),r=[]):r.push(i)}),e.push(...r.sort()),e}function ac(t){return{cache:ic(t.cacheSize),splitModifiers:oc(t),...$l(t)}}const lc=/\s+/;function cc(t,e){const{splitModifiers:r,getClassGroupId:i,getConflictingClassGroupIds:d}=e,o=new Set;return t.trim().split(lc).map(n=>{const{modifiers:s,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:b}=r(n);let v=i(b?u.substring(0,b):u),y=!!b;if(!v){if(!b)return{isTailwindClass:!1,originalClassName:n};if(v=i(u),!v)return{isTailwindClass:!1,originalClassName:n};y=!1}const f=sc(s).join(":");return{isTailwindClass:!0,modifierId:l?f+Ms:f,classGroupId:v,originalClassName:n,hasPostfixModifier:y}}).reverse().filter(n=>{if(!n.isTailwindClass)return!0;const{modifierId:s,classGroupId:l,hasPostfixModifier:u}=n,b=s+l;return o.has(b)?!1:(o.add(b),d(l,u).forEach(v=>o.add(s+v)),!0)}).reverse().map(n=>n.originalClassName).join(" ")}function dc(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Os(e))&&(i&&(i+=" "),i+=r);return i}function Os(t){if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=Os(t[i]))&&(r&&(r+=" "),r+=e);return r}function uc(t,...e){let r,i,d,o=n;function n(l){const u=e.reduce((b,v)=>v(b),t());return r=ac(u),i=r.cache.get,d=r.cache.set,o=s,s(l)}function s(l){const u=i(l);if(u)return u;const b=cc(l,r);return d(l,b),b}return function(){return o(dc.apply(null,arguments))}}function _t(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const Ns=/^\[(?:([a-z-]+):)?(.+)\]$/i,hc=/^\d+\/\d+$/,fc=new Set(["px","full","screen"]),gc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bc=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function ce(t){return Pe(t)||fc.has(t)||hc.test(t)}function be(t){return We(t,"length",kc)}function Pe(t){return!!t&&!Number.isNaN(Number(t))}function ar(t){return We(t,"number",Pe)}function Qe(t){return!!t&&Number.isInteger(Number(t))}function yc(t){return t.endsWith("%")&&Pe(t.slice(0,-1))}function rt(t){return Ns.test(t)}function ve(t){return gc.test(t)}const _c=new Set(["length","size","percentage"]);function wc(t){return We(t,_c,Ls)}function Sc(t){return We(t,"position",Ls)}const xc=new Set(["image","url"]);function Cc(t){return We(t,xc,Tc)}function Ac(t){return We(t,"",Pc)}function Je(){return!0}function We(t,e,r){const i=Ns.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):r(i[2]):!1}function kc(t){return pc.test(t)&&!mc.test(t)}function Ls(){return!1}function Pc(t){return bc.test(t)}function Tc(t){return vc.test(t)}function Ec(){const t=_t("colors"),e=_t("spacing"),r=_t("blur"),i=_t("brightness"),d=_t("borderColor"),o=_t("borderRadius"),n=_t("borderSpacing"),s=_t("borderWidth"),l=_t("contrast"),u=_t("grayscale"),b=_t("hueRotate"),v=_t("invert"),y=_t("gap"),f=_t("gradientColorStops"),a=_t("gradientColorStopPositions"),p=_t("inset"),m=_t("margin"),_=_t("opacity"),c=_t("padding"),h=_t("saturate"),S=_t("scale"),C=_t("sepia"),k=_t("skew"),M=_t("space"),F=_t("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",rt,e],R=()=>[rt,e],g=()=>["",ce,be],w=()=>["auto",Pe,rt],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],I=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",rt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Pe,ar],D=()=>[Pe,rt];return{cacheSize:500,separator:":",theme:{colors:[Je],spacing:[ce,be],blur:["none","",ve,rt],brightness:O(),borderColor:[t],borderRadius:["none","","full",ve,rt],borderSpacing:R(),borderWidth:g(),contrast:O(),grayscale:G(),hueRotate:D(),invert:G(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[yc,be],inset:T(),margin:T(),opacity:O(),padding:R(),saturate:O(),scale:O(),sepia:G(),skew:D(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[ve]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),rt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qe,rt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Qe,rt]}],"grid-cols":[{"grid-cols":[Je]}],"col-start-end":[{col:["auto",{span:["full",Qe,rt]},rt]}],"col-start":[{"col-start":w()}],"col-end":[{"col-end":w()}],"grid-rows":[{"grid-rows":[Je]}],"row-start-end":[{row:["auto",{span:[Qe,rt]},rt]}],"row-start":[{"row-start":w()}],"row-end":[{"row-end":w()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[c]}],px:[{px:[c]}],py:[{py:[c]}],ps:[{ps:[c]}],pe:[{pe:[c]}],pt:[{pt:[c]}],pr:[{pr:[c]}],pb:[{pb:[c]}],pl:[{pl:[c]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[ve]},ve]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ve,be]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ar]}],"font-family":[{font:[Je]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Pe,ar]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ce,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ce,be]}],"underline-offset":[{"underline-offset":["auto",ce,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),Sc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cc]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[a]}],"gradient-via-pos":[{via:[a]}],"gradient-to-pos":[{to:[a]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:P()}],"border-color":[{border:[d]}],"border-color-x":[{"border-x":[d]}],"border-color-y":[{"border-y":[d]}],"border-color-t":[{"border-t":[d]}],"border-color-r":[{"border-r":[d]}],"border-color-b":[{"border-b":[d]}],"border-color-l":[{"border-l":[d]}],"divide-color":[{divide:[d]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[ce,rt]}],"outline-w":[{outline:[ce,be]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:g()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ce,be]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ve,Ac]}],"shadow-color":[{shadow:[Je]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":E()}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ve,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[v]}],saturate:[{saturate:[h]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Qe,rt]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ce,be,ar]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const ah=uc(Ec);/**
 * @license lucide-svelte v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Fc=ba("<svg><!><!></svg>");function Gs(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]),i=Nt(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ht(e,!1);let d=W(e,"name",8,void 0),o=W(e,"color",8,"currentColor"),n=W(e,"size",8,24),s=W(e,"strokeWidth",8,2),l=W(e,"absoluteStrokeWidth",8,!1),u=W(e,"iconNode",24,()=>[]);const b=(...p)=>p.filter((m,_,c)=>!!m&&c.indexOf(m)===_).join(" ");pe();var v=Fc();let y;var f=Zt(v);ga(f,1,u,pa,(p,m)=>{let _=()=>Z(m)[0],c=()=>Z(m)[1];var h=ft(),S=gt(h);Xr(S,_,!0,(C,k)=>{let M;It(()=>M=Bt(C,M,{...c()},void 0,C.namespaceURI===Kr,C.nodeName.includes("-")))}),et(p,h)});var a=ma(f);Tt(a,e,"default",{},null),It(()=>y=Bt(v,y,{...Rc,...i,width:n(),height:n(),stroke:o(),"stroke-width":l()?Number(s())*24/Number(n()):s(),class:b("lucide-icon","lucide",d()?`lucide-${d()}`:"",r.class)},void 0,!0)),et(t,v),qt()}function lh(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]);Gs(t,hs({name:"check"},()=>r,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(d,o)=>{var n=ft(),s=gt(n);Tt(s,e,"default",{},null),et(d,n)},$$slots:{default:!0}}))}function ch(t,e){const r=Nt(e,["children","$$slots","$$events","$$legacy"]);Gs(t,hs({name:"chevron-down"},()=>r,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(d,o)=>{var n=ft(),s=gt(n);Tt(s,e,"default",{},null),et(d,n)},$$slots:{default:!0}}))}var Zi=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zt=t=>!t||typeof t!="object"||Object.keys(t).length===0,Mc=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Ds(t,e){t.forEach(function(r){Array.isArray(r)?Ds(r,e):e.push(r)})}function Is(t){let e=[];return Ds(t,e),e}var Bs=(...t)=>Is(t).filter(Boolean),Us=(t,e)=>{let r={},i=Object.keys(t),d=Object.keys(e);for(let o of i)if(d.includes(o)){let n=t[o],s=e[o];Array.isArray(n)||Array.isArray(s)?r[o]=Bs(s,n):typeof n=="object"&&typeof s=="object"?r[o]=Us(n,s):r[o]=s+" "+n}else r[o]=t[o];for(let o of d)i.includes(o)||(r[o]=e[o]);return r},$i=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim();const vi="-",Oc=t=>{const e=Lc(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:n=>{const s=n.split(vi);return s[0]===""&&s.length!==1&&s.shift(),Vs(s,e)||Nc(n)},getConflictingClassGroupIds:(n,s)=>{const l=r[n]||[];return s&&i[n]?[...l,...i[n]]:l}}},Vs=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),d=i?Vs(t.slice(1),i):void 0;if(d)return d;if(e.validators.length===0)return;const o=t.join(vi);return(n=e.validators.find(({validator:s})=>s(o)))==null?void 0:n.classGroupId},to=/^\[(.+)\]$/,Nc=t=>{if(to.test(t)){const e=to.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Lc=t=>{const{theme:e,prefix:r}=t,i={nextPart:new Map,validators:[]};return Dc(Object.entries(t.classGroups),r).forEach(([o,n])=>{ni(n,i,o,e)}),i},ni=(t,e,r,i)=>{t.forEach(d=>{if(typeof d=="string"){const o=d===""?e:eo(e,d);o.classGroupId=r;return}if(typeof d=="function"){if(Gc(d)){ni(d(i),e,r,i);return}e.validators.push({validator:d,classGroupId:r});return}Object.entries(d).forEach(([o,n])=>{ni(n,eo(e,o),r,i)})})},eo=(t,e)=>{let r=t;return e.split(vi).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},Gc=t=>t.isThemeGetter,Dc=(t,e)=>e?t.map(([r,i])=>{const d=i.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([n,s])=>[e+n,s])):o);return[r,d]}):t,Ic=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const d=(o,n)=>{r.set(o,n),e++,e>t&&(e=0,i=r,r=new Map)};return{get(o){let n=r.get(o);if(n!==void 0)return n;if((n=i.get(o))!==void 0)return d(o,n),n},set(o,n){r.has(o)?r.set(o,n):d(o,n)}}},zs="!",Bc=t=>{const{separator:e,experimentalParseClassName:r}=t,i=e.length===1,d=e[0],o=e.length,n=s=>{const l=[];let u=0,b=0,v;for(let m=0;m<s.length;m++){let _=s[m];if(u===0){if(_===d&&(i||s.slice(m,m+o)===e)){l.push(s.slice(b,m)),b=m+o;continue}if(_==="/"){v=m;continue}}_==="["?u++:_==="]"&&u--}const y=l.length===0?s:s.substring(b),f=y.startsWith(zs),a=f?y.substring(1):y,p=v&&v>b?v-b:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:a,maybePostfixModifierPosition:p}};return r?s=>r({className:s,parseClassName:n}):n},Uc=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(i=>{i[0]==="["?(e.push(...r.sort(),i),r=[]):r.push(i)}),e.push(...r.sort()),e},Vc=t=>({cache:Ic(t.cacheSize),parseClassName:Bc(t),...Oc(t)}),zc=/\s+/,jc=(t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:d}=e,o=[],n=t.trim().split(zc);let s="";for(let l=n.length-1;l>=0;l-=1){const u=n[l],{modifiers:b,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:f}=r(u);let a=!!f,p=i(a?y.substring(0,f):y);if(!p){if(!a){s=u+(s.length>0?" "+s:s);continue}if(p=i(y),!p){s=u+(s.length>0?" "+s:s);continue}a=!1}const m=Uc(b).join(":"),_=v?m+zs:m,c=_+p;if(o.includes(c))continue;o.push(c);const h=d(p,a);for(let S=0;S<h.length;++S){const C=h[S];o.push(_+C)}s=u+(s.length>0?" "+s:s)}return s};function Hc(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=js(e))&&(i&&(i+=" "),i+=r);return i}const js=t=>{if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=js(t[i]))&&(r&&(r+=" "),r+=e);return r};function ri(t,...e){let r,i,d,o=n;function n(l){const u=e.reduce((b,v)=>v(b),t());return r=Vc(u),i=r.cache.get,d=r.cache.set,o=s,s(l)}function s(l){const u=i(l);if(u)return u;const b=jc(l,r);return d(l,b),b}return function(){return o(Hc.apply(null,arguments))}}const wt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Hs=/^\[(?:([a-z-]+):)?(.+)\]$/i,qc=/^\d+\/\d+$/,Wc=new Set(["px","full","screen"]),Yc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,de=t=>De(t)||Wc.has(t)||qc.test(t),ye=t=>Ye(t,"length",od),De=t=>!!t&&!Number.isNaN(Number(t)),Dr=t=>Ye(t,"number",De),Ze=t=>!!t&&Number.isInteger(Number(t)),Zc=t=>t.endsWith("%")&&De(t.slice(0,-1)),it=t=>Hs.test(t),_e=t=>Yc.test(t),$c=new Set(["length","size","percentage"]),td=t=>Ye(t,$c,qs),ed=t=>Ye(t,"position",qs),nd=new Set(["image","url"]),rd=t=>Ye(t,nd,ad),id=t=>Ye(t,"",sd),$e=()=>!0,Ye=(t,e,r)=>{const i=Hs.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):r(i[2]):!1},od=t=>Xc.test(t)&&!Kc.test(t),qs=()=>!1,sd=t=>Qc.test(t),ad=t=>Jc.test(t),ii=()=>{const t=wt("colors"),e=wt("spacing"),r=wt("blur"),i=wt("brightness"),d=wt("borderColor"),o=wt("borderRadius"),n=wt("borderSpacing"),s=wt("borderWidth"),l=wt("contrast"),u=wt("grayscale"),b=wt("hueRotate"),v=wt("invert"),y=wt("gap"),f=wt("gradientColorStops"),a=wt("gradientColorStopPositions"),p=wt("inset"),m=wt("margin"),_=wt("opacity"),c=wt("padding"),h=wt("saturate"),S=wt("scale"),C=wt("sepia"),k=wt("skew"),M=wt("space"),F=wt("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",it,e],R=()=>[it,e],g=()=>["",de,ye],w=()=>["auto",De,it],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",it],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[De,it];return{cacheSize:500,separator:":",theme:{colors:[$e],spacing:[de,ye],blur:["none","",_e,it],brightness:O(),borderColor:[t],borderRadius:["none","","full",_e,it],borderSpacing:R(),borderWidth:g(),contrast:O(),grayscale:G(),hueRotate:O(),invert:G(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Zc,ye],inset:T(),margin:T(),opacity:O(),padding:R(),saturate:O(),scale:O(),sepia:G(),skew:O(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[_e]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),it]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ze,it]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Ze,it]}],"grid-cols":[{"grid-cols":[$e]}],"col-start-end":[{col:["auto",{span:["full",Ze,it]},it]}],"col-start":[{"col-start":w()}],"col-end":[{"col-end":w()}],"grid-rows":[{"grid-rows":[$e]}],"row-start-end":[{row:["auto",{span:[Ze,it]},it]}],"row-start":[{"row-start":w()}],"row-end":[{"row-end":w()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[c]}],px:[{px:[c]}],py:[{py:[c]}],ps:[{ps:[c]}],pe:[{pe:[c]}],pt:[{pt:[c]}],pr:[{pr:[c]}],pb:[{pb:[c]}],pl:[{pl:[c]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,e]}],"min-w":[{"min-w":[it,e,"min","max","fit"]}],"max-w":[{"max-w":[it,e,"none","full","min","max","fit","prose",{screen:[_e]},_e]}],h:[{h:[it,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_e,ye]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dr]}],"font-family":[{font:[$e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",De,Dr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",de,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",de,ye]}],"underline-offset":[{"underline-offset":["auto",de,it]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),ed]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",td]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rd]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[a]}],"gradient-via-pos":[{via:[a]}],"gradient-to-pos":[{to:[a]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:P()}],"border-color":[{border:[d]}],"border-color-x":[{"border-x":[d]}],"border-color-y":[{"border-y":[d]}],"border-color-s":[{"border-s":[d]}],"border-color-e":[{"border-e":[d]}],"border-color-t":[{"border-t":[d]}],"border-color-r":[{"border-r":[d]}],"border-color-b":[{"border-b":[d]}],"border-color-l":[{"border-l":[d]}],"divide-color":[{divide:[d]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[de,it]}],"outline-w":[{outline:[de,ye]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:g()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[de,ye]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_e,id]}],"shadow-color":[{shadow:[$e]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_e,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[v]}],saturate:[{saturate:[h]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ze,it]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[de,ye,Dr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ld=(t,{cacheSize:e,prefix:r,separator:i,experimentalParseClassName:d,extend:o={},override:n={}})=>{jn(t,"cacheSize",e),jn(t,"prefix",r),jn(t,"separator",i),jn(t,"experimentalParseClassName",d);for(const s in n)cd(t[s],n[s]);for(const s in o)dd(t[s],o[s]);return t},jn=(t,e,r)=>{r!==void 0&&(t[e]=r)},cd=(t,e)=>{if(e)for(const r in e)jn(t,r,e[r])},dd=(t,e)=>{if(e)for(const r in e){const i=e[r];i!==void 0&&(t[r]=(t[r]||[]).concat(i))}},ud=(t,...e)=>typeof t=="function"?ri(ii,t,...e):ri(()=>ld(ii(),t),...e),hd=ri(ii);var fd={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Ws=t=>t||void 0,Xn=(...t)=>Ws(Is(t).filter(Boolean).join(" ")),Ir=null,fe={},oi=!1,tn=(...t)=>e=>e.twMerge?((!Ir||oi)&&(oi=!1,Ir=zt(fe)?hd:ud({...fe,extend:{theme:fe.theme,classGroups:fe.classGroups,conflictingClassGroupModifiers:fe.conflictingClassGroupModifiers,conflictingClassGroups:fe.conflictingClassGroups,...fe.extend}})),Ws(Ir(Xn(t)))):Xn(t),no=(t,e)=>{for(let r in e)t.hasOwnProperty(r)?t[r]=Xn(t[r],e[r]):t[r]=e[r];return t},dh=(t,e)=>{let{extend:r=null,slots:i={},variants:d={},compoundVariants:o=[],compoundSlots:n=[],defaultVariants:s={}}=t,l={...fd,...e},u=r!=null&&r.base?Xn(r.base,t==null?void 0:t.base):t==null?void 0:t.base,b=r!=null&&r.variants&&!zt(r.variants)?Us(d,r.variants):d,v=r!=null&&r.defaultVariants&&!zt(r.defaultVariants)?{...r.defaultVariants,...s}:s;!zt(l.twMergeConfig)&&!Mc(l.twMergeConfig,fe)&&(oi=!0,fe=l.twMergeConfig);let y=zt(r==null?void 0:r.slots),f=zt(i)?{}:{base:Xn(t==null?void 0:t.base,y&&(r==null?void 0:r.base)),...i},a=y?f:no({...r==null?void 0:r.slots},zt(f)?{base:t==null?void 0:t.base}:f),p=zt(r==null?void 0:r.compoundVariants)?o:Bs(r==null?void 0:r.compoundVariants,o),m=c=>{if(zt(b)&&zt(i)&&y)return tn(u,c==null?void 0:c.class,c==null?void 0:c.className)(l);if(p&&!Array.isArray(p))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof p}`);if(n&&!Array.isArray(n))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof n}`);let h=(R,g,w=[],x)=>{let P=w;if(typeof g=="string")P=P.concat($i(g).split(" ").map(E=>`${R}:${E}`));else if(Array.isArray(g))P=P.concat(g.reduce((E,I)=>E.concat(`${R}:${I}`),[]));else if(typeof g=="object"&&typeof x=="string"){for(let E in g)if(g.hasOwnProperty(E)&&E===x){let I=g[E];if(I&&typeof I=="string"){let G=$i(I);P[x]?P[x]=P[x].concat(G.split(" ").map(V=>`${R}:${V}`)):P[x]=G.split(" ").map(V=>`${R}:${V}`)}else Array.isArray(I)&&I.length>0&&(P[x]=I.reduce((G,V)=>G.concat(`${R}:${V}`),[]))}}return P},S=(R,g=b,w=null,x=null)=>{var P;let E=g[R];if(!E||zt(E))return null;let I=(P=x==null?void 0:x[R])!=null?P:c==null?void 0:c[R];if(I===null)return null;let G=Zi(I),V=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,O=v==null?void 0:v[R],D=[];if(typeof G=="object"&&V)for(let[q,Y]of Object.entries(G)){let L=E[Y];if(q==="initial"){O=Y;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(q)||(D=h(q,L,D,w))}let U=G!=null&&typeof G!="object"?G:Zi(O),z=E[U||"false"];return typeof D=="object"&&typeof w=="string"&&D[w]?no(D,z):D.length>0?(D.push(z),w==="base"?D.join(" "):D):z},C=()=>b?Object.keys(b).map(R=>S(R,b)):null,k=(R,g)=>{if(!b||typeof b!="object")return null;let w=new Array;for(let x in b){let P=S(x,b,R,g),E=R==="base"&&typeof P=="string"?P:P&&P[R];E&&(w[w.length]=E)}return w},M={};for(let R in c)c[R]!==void 0&&(M[R]=c[R]);let F=(R,g)=>{var w;let x=typeof(c==null?void 0:c[R])=="object"?{[R]:(w=c[R])==null?void 0:w.initial}:{};return{...v,...M,...x,...g}},N=(R=[],g)=>{let w=[];for(let{class:x,className:P,...E}of R){let I=!0;for(let[G,V]of Object.entries(E)){let O=F(G,g)[G];if(Array.isArray(V)){if(!V.includes(O)){I=!1;break}}else{let D=U=>U==null||U===!1;if(D(V)&&D(O))continue;if(O!==V){I=!1;break}}}I&&(x&&w.push(x),P&&w.push(P))}return w},A=R=>{let g=N(p,R);if(!Array.isArray(g))return g;let w={};for(let x of g)if(typeof x=="string"&&(w.base=tn(w.base,x)(l)),typeof x=="object")for(let[P,E]of Object.entries(x))w[P]=tn(w[P],E)(l);return w},T=R=>{if(n.length<1)return null;let g={};for(let{slots:w=[],class:x,className:P,...E}of n){if(!zt(E)){let I=!0;for(let G of Object.keys(E)){let V=F(G,R)[G];if(V===void 0||(Array.isArray(E[G])?!E[G].includes(V):E[G]!==V)){I=!1;break}}if(!I)continue}for(let I of w)g[I]=g[I]||[],g[I].push([x,P])}return g};if(!zt(i)||!y){let R={};if(typeof a=="object"&&!zt(a))for(let g of Object.keys(a))R[g]=w=>{var x,P;return tn(a[g],k(g,w),((x=A(w))!=null?x:[])[g],((P=T(w))!=null?P:[])[g],w==null?void 0:w.class,w==null?void 0:w.className)(l)};return R}return tn(u,C(),N(p),c==null?void 0:c.class,c==null?void 0:c.className)(l)},_=()=>{if(!(!b||typeof b!="object"))return Object.keys(b)};return m.variantKeys=_(),m.extend=r,m.base=u,m.slots=a,m.variants=b,m.defaultVariants=v,m.compoundSlots=n,m.compoundVariants=p,m};function gd(t){return Object.prototype.toString.call(t)==="[object Object]"}function ro(t){return gd(t)||Array.isArray(t)}function pd(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function yi(t,e){const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;const d=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return d!==o?!1:r.every(n=>{const s=t[n],l=e[n];return typeof s=="function"?`${s}`==`${l}`:!ro(s)||!ro(l)?s===l:yi(s,l)})}function io(t){return t.concat().sort((e,r)=>e.name>r.name?1:-1).map(e=>e.options)}function md(t,e){if(t.length!==e.length)return!1;const r=io(t),i=io(e);return r.every((d,o)=>{const n=i[o];return yi(d,n)})}function _i(t){return typeof t=="number"}function si(t){return typeof t=="string"}function Pr(t){return typeof t=="boolean"}function oo(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ct(t){return Math.abs(t)}function wi(t){return Math.sign(t)}function Wn(t,e){return Ct(t-e)}function bd(t,e){if(t===0||e===0||Ct(t)<=Ct(e))return 0;const r=Wn(Ct(t),Ct(e));return Ct(r/t)}function vd(t){return Math.round(t*100)/100}function Kn(t){return Qn(t).map(Number)}function $t(t){return t[nr(t)]}function nr(t){return Math.max(0,t.length-1)}function Si(t,e){return e===nr(t)}function so(t,e=0){return Array.from(Array(t),(r,i)=>e+i)}function Qn(t){return Object.keys(t)}function Ys(t,e){return[t,e].reduce((r,i)=>(Qn(i).forEach(d=>{const o=r[d],n=i[d],s=oo(o)&&oo(n);r[d]=s?Ys(o,n):n}),r),{})}function ai(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function yd(t,e){const r={start:i,center:d,end:o};function i(){return 0}function d(l){return o(l)/2}function o(l){return e-l}function n(l,u){return si(t)?r[t](l):t(e,l,u)}return{measure:n}}function Jn(){let t=[];function e(d,o,n,s={passive:!0}){let l;if("addEventListener"in d)d.addEventListener(o,n,s),l=()=>d.removeEventListener(o,n,s);else{const u=d;u.addListener(n),l=()=>u.removeListener(n)}return t.push(l),i}function r(){t=t.filter(d=>d())}const i={add:e,clear:r};return i}function _d(t,e,r,i){const d=Jn(),o=1e3/60;let n=null,s=0,l=0;function u(){d.add(t,"visibilitychange",()=>{t.hidden&&a()})}function b(){f(),d.clear()}function v(m){if(!l)return;n||(n=m);const _=m-n;for(n=m,s+=_;s>=o;)r(),s-=o;const c=s/o;i(c),l&&(l=e.requestAnimationFrame(v))}function y(){l||(l=e.requestAnimationFrame(v))}function f(){e.cancelAnimationFrame(l),n=null,s=0,l=0}function a(){n=null,s=0}return{init:u,destroy:b,start:y,stop:f,update:r,render:i}}function wd(t,e){const r=e==="rtl",i=t==="y",d=i?"y":"x",o=i?"x":"y",n=!i&&r?-1:1,s=b(),l=v();function u(a){const{height:p,width:m}=a;return i?p:m}function b(){return i?"top":r?"right":"left"}function v(){return i?"bottom":r?"left":"right"}function y(a){return a*n}return{scroll:d,cross:o,startEdge:s,endEdge:l,measureSize:u,direction:y}}function Fe(t=0,e=0){const r=Ct(t-e);function i(u){return u<t}function d(u){return u>e}function o(u){return i(u)||d(u)}function n(u){return o(u)?i(u)?t:e:u}function s(u){return r?u-r*Math.ceil((u-e)/r):u}return{length:r,max:e,min:t,constrain:n,reachedAny:o,reachedMax:d,reachedMin:i,removeOffset:s}}function Xs(t,e,r){const{constrain:i}=Fe(0,t),d=t+1;let o=n(e);function n(y){return r?Ct((d+y)%d):i(y)}function s(){return o}function l(y){return o=n(y),v}function u(y){return b().set(s()+y)}function b(){return Xs(t,s(),r)}const v={get:s,set:l,add:u,clone:b};return v}function Sd(t,e,r,i,d,o,n,s,l,u,b,v,y,f,a,p,m,_,c){const{cross:h,direction:S}=t,C=["INPUT","SELECT","TEXTAREA"],k={passive:!1},M=Jn(),F=Jn(),N=Fe(50,225).constrain(f.measure(20)),A={mouse:300,touch:400},T={mouse:500,touch:600},R=a?43:25;let g=!1,w=0,x=0,P=!1,E=!1,I=!1,G=!1;function V(H){if(!c)return;function Q(J){(Pr(c)||c(H,J))&&Y(J)}const $=e;M.add($,"dragstart",J=>J.preventDefault(),k).add($,"touchmove",()=>{},k).add($,"touchend",()=>{}).add($,"touchstart",Q).add($,"mousedown",Q).add($,"touchcancel",B).add($,"contextmenu",B).add($,"click",j,!0)}function O(){M.clear(),F.clear()}function D(){const H=G?r:e;F.add(H,"touchmove",L,k).add(H,"touchend",B).add(H,"mousemove",L,k).add(H,"mouseup",B)}function U(H){const Q=H.nodeName||"";return C.includes(Q)}function z(){return(a?T:A)[G?"mouse":"touch"]}function q(H,Q){const $=v.add(wi(H)*-1),J=b.byDistance(H,!a).distance;return a||Ct(H)<N?J:m&&Q?J*.5:b.byIndex($.get(),0).distance}function Y(H){const Q=ai(H,i);G=Q,I=a&&Q&&!H.buttons&&g,g=Wn(d.get(),n.get())>=2,!(Q&&H.button!==0)&&(U(H.target)||(P=!0,o.pointerDown(H),u.useFriction(0).useDuration(0),d.set(n),D(),w=o.readPoint(H),x=o.readPoint(H,h),y.emit("pointerDown")))}function L(H){if(!ai(H,i)&&H.touches.length>=2)return B(H);const $=o.readPoint(H),J=o.readPoint(H,h),ht=Wn($,w),tt=Wn(J,x);if(!E&&!G&&(!H.cancelable||(E=ht>tt,!E)))return B(H);const nt=o.pointerMove(H);ht>p&&(I=!0),u.useFriction(.3).useDuration(.75),s.start(),d.add(S(nt)),H.preventDefault()}function B(H){const $=b.byDistance(0,!1).index!==v.get(),J=o.pointerUp(H)*z(),ht=q(S(J),$),tt=bd(J,ht),nt=R-10*tt,Rt=_+tt/50;E=!1,P=!1,F.clear(),u.useDuration(nt).useFriction(Rt),l.distance(ht,!a),G=!1,y.emit("pointerUp")}function j(H){I&&(H.stopPropagation(),H.preventDefault(),I=!1)}function X(){return P}return{init:V,destroy:O,pointerDown:X}}function xd(t,e){let i,d;function o(v){return v.timeStamp}function n(v,y){const a=`client${(y||t.scroll)==="x"?"X":"Y"}`;return(ai(v,e)?v:v.touches[0])[a]}function s(v){return i=v,d=v,n(v)}function l(v){const y=n(v)-n(d),f=o(v)-o(i)>170;return d=v,f&&(i=v),y}function u(v){if(!i||!d)return 0;const y=n(d)-n(i),f=o(v)-o(i),a=o(v)-o(d)>170,p=y/f;return f&&!a&&Ct(p)>.1?p:0}return{pointerDown:s,pointerMove:l,pointerUp:u,readPoint:n}}function Cd(){function t(r){const{offsetTop:i,offsetLeft:d,offsetWidth:o,offsetHeight:n}=r;return{top:i,right:d+o,bottom:i+n,left:d,width:o,height:n}}return{measure:t}}function Ad(t){function e(i){return t*(i/100)}return{measure:e}}function kd(t,e,r,i,d,o,n){const s=[t].concat(i);let l,u,b=[],v=!1;function y(m){return d.measureSize(n.measure(m))}function f(m){if(!o)return;u=y(t),b=i.map(y);function _(c){for(const h of c){if(v)return;const S=h.target===t,C=i.indexOf(h.target),k=S?u:b[C],M=y(S?t:i[C]);if(Ct(M-k)>=.5){m.reInit(),e.emit("resize");break}}}l=new ResizeObserver(c=>{(Pr(o)||o(m,c))&&_(c)}),r.requestAnimationFrame(()=>{s.forEach(c=>l.observe(c))})}function a(){v=!0,l&&l.disconnect()}return{init:f,destroy:a}}function Pd(t,e,r,i,d,o){let n=0,s=0,l=d,u=o,b=t.get(),v=0;function y(){const k=i.get()-t.get(),M=!l;let F=0;return M?(n=0,r.set(i),t.set(i),F=k):(r.set(t),n+=k/l,n*=u,b+=n,t.add(n),F=b-v),s=wi(F),v=b,C}function f(){const k=i.get()-e.get();return Ct(k)<.001}function a(){return l}function p(){return s}function m(){return n}function _(){return h(d)}function c(){return S(o)}function h(k){return l=k,C}function S(k){return u=k,C}const C={direction:p,duration:a,velocity:m,seek:y,settled:f,useBaseFriction:c,useBaseDuration:_,useFriction:S,useDuration:h};return C}function Td(t,e,r,i,d){const o=d.measure(10),n=d.measure(50),s=Fe(.1,.99);let l=!1;function u(){return!(l||!t.reachedAny(r.get())||!t.reachedAny(e.get()))}function b(f){if(!u())return;const a=t.reachedMin(e.get())?"min":"max",p=Ct(t[a]-e.get()),m=r.get()-e.get(),_=s.constrain(p/n);r.subtract(m*_),!f&&Ct(m)<o&&(r.set(t.constrain(r.get())),i.useDuration(25).useBaseFriction())}function v(f){l=!f}return{shouldConstrain:u,constrain:b,toggleActive:v}}function Ed(t,e,r,i,d){const o=Fe(-e+t,0),n=v(),s=b(),l=y();function u(a,p){return Wn(a,p)<1}function b(){const a=n[0],p=$t(n),m=n.lastIndexOf(a),_=n.indexOf(p)+1;return Fe(m,_)}function v(){return r.map((a,p)=>{const{min:m,max:_}=o,c=o.constrain(a),h=!p,S=Si(r,p);return h?_:S||u(m,c)?m:u(_,c)?_:c}).map(a=>parseFloat(a.toFixed(3)))}function y(){if(e<=t+d)return[o.max];if(i==="keepSnaps")return n;const{min:a,max:p}=s;return n.slice(a,p)}return{snapsContained:l,scrollContainLimit:s}}function Rd(t,e,r){const i=e[0],d=r?i-t:$t(e);return{limit:Fe(d,i)}}function Fd(t,e,r,i){const o=e.min+.1,n=e.max+.1,{reachedMin:s,reachedMax:l}=Fe(o,n);function u(y){return y===1?l(r.get()):y===-1?s(r.get()):!1}function b(y){if(!u(y))return;const f=t*(y*-1);i.forEach(a=>a.add(f))}return{loop:b}}function Md(t){const{max:e,length:r}=t;function i(o){const n=o-e;return r?n/-r:0}return{get:i}}function Od(t,e,r,i,d){const{startEdge:o,endEdge:n}=t,{groupSlides:s}=d,l=v().map(e.measure),u=y(),b=f();function v(){return s(i).map(p=>$t(p)[n]-p[0][o]).map(Ct)}function y(){return i.map(p=>r[o]-p[o]).map(p=>-Ct(p))}function f(){return s(u).map(p=>p[0]).map((p,m)=>p+l[m])}return{snaps:u,snapsAligned:b}}function Nd(t,e,r,i,d,o){const{groupSlides:n}=d,{min:s,max:l}=i,u=b();function b(){const y=n(o),f=!t||e==="keepSnaps";return r.length===1?[o]:f?y:y.slice(s,l).map((a,p,m)=>{const _=!p,c=Si(m,p);if(_){const h=$t(m[0])+1;return so(h)}if(c){const h=nr(o)-$t(m)[0]+1;return so(h,$t(m)[0])}return a})}return{slideRegistry:u}}function Ld(t,e,r,i,d){const{reachedAny:o,removeOffset:n,constrain:s}=i;function l(a){return a.concat().sort((p,m)=>Ct(p)-Ct(m))[0]}function u(a){const p=t?n(a):s(a),m=e.map((c,h)=>({diff:b(c-p,0),index:h})).sort((c,h)=>Ct(c.diff)-Ct(h.diff)),{index:_}=m[0];return{index:_,distance:p}}function b(a,p){const m=[a,a+r,a-r];if(!t)return a;if(!p)return l(m);const _=m.filter(c=>wi(c)===p);return _.length?l(_):$t(m)-r}function v(a,p){const m=e[a]-d.get(),_=b(m,p);return{index:a,distance:_}}function y(a,p){const m=d.get()+a,{index:_,distance:c}=u(m),h=!t&&o(m);if(!p||h)return{index:_,distance:a};const S=e[_]-c,C=a+b(S,0);return{index:_,distance:C}}return{byDistance:y,byIndex:v,shortcut:b}}function Gd(t,e,r,i,d,o,n){function s(v){const y=v.distance,f=v.index!==e.get();o.add(y),y&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(r.set(e.get()),e.set(v.index),n.emit("select"))}function l(v,y){const f=d.byDistance(v,y);s(f)}function u(v,y){const f=e.clone().set(v),a=d.byIndex(f.get(),y);s(a)}return{distance:l,index:u}}function Dd(t,e,r,i,d,o,n,s){const l={passive:!0,capture:!0};let u=0;function b(f){if(!s)return;function a(p){if(new Date().getTime()-u>10)return;n.emit("slideFocusStart"),t.scrollLeft=0;const c=r.findIndex(h=>h.includes(p));_i(c)&&(d.useDuration(0),i.index(c,0),n.emit("slideFocus"))}o.add(document,"keydown",v,!1),e.forEach((p,m)=>{o.add(p,"focus",_=>{(Pr(s)||s(f,_))&&a(m)},l)})}function v(f){f.code==="Tab"&&(u=new Date().getTime())}return{init:b}}function Hn(t){let e=t;function r(){return e}function i(l){e=n(l)}function d(l){e+=n(l)}function o(l){e-=n(l)}function n(l){return _i(l)?l:l.get()}return{get:r,set:i,add:d,subtract:o}}function Ks(t,e){const r=t.scroll==="x"?n:s,i=e.style;let d=null,o=!1;function n(y){return`translate3d(${y}px,0px,0px)`}function s(y){return`translate3d(0px,${y}px,0px)`}function l(y){if(o)return;const f=vd(t.direction(y));f!==d&&(i.transform=r(f),d=f)}function u(y){o=!y}function b(){o||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:b,to:l,toggleActive:u}}function Id(t,e,r,i,d,o,n,s,l){const b=Kn(d),v=Kn(d).reverse(),y=_().concat(c());function f(M,F){return M.reduce((N,A)=>N-d[A],F)}function a(M,F){return M.reduce((N,A)=>f(N,F)>0?N.concat([A]):N,[])}function p(M){return o.map((F,N)=>({start:F-i[N]+.5+M,end:F+e-.5+M}))}function m(M,F,N){const A=p(F);return M.map(T=>{const R=N?0:-r,g=N?r:0,w=N?"end":"start",x=A[T][w];return{index:T,loopPoint:x,slideLocation:Hn(-1),translate:Ks(t,l[T]),target:()=>s.get()>x?R:g}})}function _(){const M=n[0],F=a(v,M);return m(F,r,!1)}function c(){const M=e-n[0]-1,F=a(b,M);return m(F,-r,!0)}function h(){return y.every(({index:M})=>{const F=b.filter(N=>N!==M);return f(F,e)<=.1})}function S(){y.forEach(M=>{const{target:F,translate:N,slideLocation:A}=M,T=F();T!==A.get()&&(N.to(T),A.set(T))})}function C(){y.forEach(M=>M.translate.clear())}return{canLoop:h,clear:C,loop:S,loopPoints:y}}function Bd(t,e,r){let i,d=!1;function o(l){if(!r)return;function u(b){for(const v of b)if(v.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}i=new MutationObserver(b=>{d||(Pr(r)||r(l,b))&&u(b)}),i.observe(t,{childList:!0})}function n(){i&&i.disconnect(),d=!0}return{init:o,destroy:n}}function Ud(t,e,r,i){const d={};let o=null,n=null,s,l=!1;function u(){s=new IntersectionObserver(a=>{l||(a.forEach(p=>{const m=e.indexOf(p.target);d[m]=p}),o=null,n=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:i}),e.forEach(a=>s.observe(a))}function b(){s&&s.disconnect(),l=!0}function v(a){return Qn(d).reduce((p,m)=>{const _=parseInt(m),{isIntersecting:c}=d[_];return(a&&c||!a&&!c)&&p.push(_),p},[])}function y(a=!0){if(a&&o)return o;if(!a&&n)return n;const p=v(a);return a&&(o=p),a||(n=p),p}return{init:u,destroy:b,get:y}}function Vd(t,e,r,i,d,o){const{measureSize:n,startEdge:s,endEdge:l}=t,u=r[0]&&d,b=a(),v=p(),y=r.map(n),f=m();function a(){if(!u)return 0;const c=r[0];return Ct(e[s]-c[s])}function p(){if(!u)return 0;const c=o.getComputedStyle($t(i));return parseFloat(c.getPropertyValue(`margin-${l}`))}function m(){return r.map((c,h,S)=>{const C=!h,k=Si(S,h);return C?y[h]+b:k?y[h]+v:S[h+1][s]-c[s]}).map(Ct)}return{slideSizes:y,slideSizesWithGaps:f,startGap:b,endGap:v}}function zd(t,e,r,i,d,o,n,s,l){const{startEdge:u,endEdge:b,direction:v}=t,y=_i(r);function f(_,c){return Kn(_).filter(h=>h%c===0).map(h=>_.slice(h,h+c))}function a(_){return _.length?Kn(_).reduce((c,h,S)=>{const C=$t(c)||0,k=C===0,M=h===nr(_),F=d[u]-o[C][u],N=d[u]-o[h][b],A=!i&&k?v(n):0,T=!i&&M?v(s):0,R=Ct(N-T-(F+A));return S&&R>e+l&&c.push(h),M&&c.push(_.length),c},[]).map((c,h,S)=>{const C=Math.max(S[h-1]||0);return _.slice(C,c)}):[]}function p(_){return y?f(_,r):a(_)}return{groupSlides:p}}function jd(t,e,r,i,d,o,n){const{align:s,axis:l,direction:u,startIndex:b,loop:v,duration:y,dragFree:f,dragThreshold:a,inViewThreshold:p,slidesToScroll:m,skipSnaps:_,containScroll:c,watchResize:h,watchSlides:S,watchDrag:C,watchFocus:k}=o,M=2,F=Cd(),N=F.measure(e),A=r.map(F.measure),T=wd(l,u),R=T.measureSize(N),g=Ad(R),w=yd(s,R),x=!v&&!!c,P=v||!!c,{slideSizes:E,slideSizesWithGaps:I,startGap:G,endGap:V}=Vd(T,N,A,r,P,d),O=zd(T,R,m,v,N,A,G,V,M),{snaps:D,snapsAligned:U}=Od(T,w,N,A,O),z=-$t(D)+$t(I),{snapsContained:q,scrollContainLimit:Y}=Ed(R,z,U,c,M),L=x?q:U,{limit:B}=Rd(z,L,v),j=Xs(nr(L),b,v),X=j.clone(),K=Kn(r),H=({dragHandler:xt,scrollBody:Wt,scrollBounds:Me,options:{loop:Jt}})=>{Jt||Me.constrain(xt.pointerDown()),Wt.seek()},Q=({scrollBody:xt,translate:Wt,location:Me,offsetLocation:Jt,previousLocation:ie,scrollLooper:me,slideLooper:Rr,dragHandler:ra,animation:ia,eventHandler:Ei,scrollBounds:oa,options:{loop:Ri}},Fi)=>{const Mi=xt.settled(),sa=!oa.shouldConstrain(),Oi=Ri?Mi:Mi&&sa;Oi&&!ra.pointerDown()&&(ia.stop(),Ei.emit("settle")),Oi||Ei.emit("scroll");const aa=Me.get()*Fi+ie.get()*(1-Fi);Jt.set(aa),Ri&&(me.loop(xt.direction()),Rr.loop()),Wt.to(Jt.get())},$=_d(i,d,()=>H(Ut),xt=>Q(Ut,xt)),J=.68,ht=L[j.get()],tt=Hn(ht),nt=Hn(ht),Rt=Hn(ht),St=Hn(ht),kt=Pd(tt,Rt,nt,St,y,J),vt=Ld(v,L,z,B,St),ot=Gd($,j,X,kt,vt,St,n),Gt=Md(B),Ft=Jn(),Pt=Ud(e,r,n,p),{slideRegistry:pt}=Nd(x,c,L,Y,O,K),Mt=Dd(t,r,pt,ot,kt,Ft,n,k),Ut={ownerDocument:i,ownerWindow:d,eventHandler:n,containerRect:N,slideRects:A,animation:$,axis:T,dragHandler:Sd(T,t,i,d,St,xd(T,d),tt,$,ot,kt,vt,j,n,g,f,a,_,J,C),eventStore:Ft,percentOfView:g,index:j,indexPrevious:X,limit:B,location:tt,offsetLocation:Rt,previousLocation:nt,options:o,resizeHandler:kd(e,n,d,r,T,h,F),scrollBody:kt,scrollBounds:Td(B,Rt,St,kt,g),scrollLooper:Fd(z,B,Rt,[tt,Rt,nt,St]),scrollProgress:Gt,scrollSnapList:L.map(Gt.get),scrollSnaps:L,scrollTarget:vt,scrollTo:ot,slideLooper:Id(T,R,z,E,I,D,L,Rt,r),slideFocus:Mt,slidesHandler:Bd(e,n,S),slidesInView:Pt,slideIndexes:K,slideRegistry:pt,slidesToScroll:O,target:St,translate:Ks(T,e)};return Ut}function Hd(){let t={},e;function r(u){e=u}function i(u){return t[u]||[]}function d(u){return i(u).forEach(b=>b(e,u)),l}function o(u,b){return t[u]=i(u).concat([b]),l}function n(u,b){return t[u]=i(u).filter(v=>v!==b),l}function s(){t={}}const l={init:r,emit:d,off:n,on:o,clear:s};return l}const qd={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Wd(t){function e(o,n){return Ys(o,n||{})}function r(o){const n=o.breakpoints||{},s=Qn(n).filter(l=>t.matchMedia(l).matches).map(l=>n[l]).reduce((l,u)=>e(l,u),{});return e(o,s)}function i(o){return o.map(n=>Qn(n.breakpoints||{})).reduce((n,s)=>n.concat(s),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:r,optionsMediaQueries:i}}function Yd(t){let e=[];function r(o,n){return e=n.filter(({options:s})=>t.optionsAtMedia(s).active!==!1),e.forEach(s=>s.init(o,t)),n.reduce((s,l)=>Object.assign(s,{[l.name]:l}),{})}function i(){e=e.filter(o=>o.destroy())}return{init:r,destroy:i}}function yr(t,e,r){const i=t.ownerDocument,d=i.defaultView,o=Wd(d),n=Yd(o),s=Jn(),l=Hd(),{mergeOptions:u,optionsAtMedia:b,optionsMediaQueries:v}=o,{on:y,off:f,emit:a}=l,p=T;let m=!1,_,c=u(qd,yr.globalOptions),h=u(c),S=[],C,k,M;function F(){const{container:K,slides:H}=h;k=(si(K)?t.querySelector(K):K)||t.children[0];const $=si(H)?k.querySelectorAll(H):H;M=[].slice.call($||k.children)}function N(K){const H=jd(t,k,M,i,d,K,l);if(K.loop&&!H.slideLooper.canLoop()){const Q=Object.assign({},K,{loop:!1});return N(Q)}return H}function A(K,H){m||(c=u(c,K),h=b(c),S=H||S,F(),_=N(h),v([c,...S.map(({options:Q})=>Q)]).forEach(Q=>s.add(Q,"change",T)),h.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(X),_.eventHandler.init(X),_.resizeHandler.init(X),_.slidesHandler.init(X),_.options.loop&&_.slideLooper.loop(),k.offsetParent&&M.length&&_.dragHandler.init(X),C=n.init(X,S)))}function T(K,H){const Q=O();R(),A(u({startIndex:Q},K),H),l.emit("reInit")}function R(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),n.destroy(),s.clear()}function g(){m||(m=!0,s.clear(),R(),l.emit("destroy"),l.clear())}function w(K,H,Q){!h.active||m||(_.scrollBody.useBaseFriction().useDuration(H===!0?0:h.duration),_.scrollTo.index(K,Q||0))}function x(K){const H=_.index.add(1).get();w(H,K,-1)}function P(K){const H=_.index.add(-1).get();w(H,K,1)}function E(){return _.index.add(1).get()!==O()}function I(){return _.index.add(-1).get()!==O()}function G(){return _.scrollSnapList}function V(){return _.scrollProgress.get(_.location.get())}function O(){return _.index.get()}function D(){return _.indexPrevious.get()}function U(){return _.slidesInView.get()}function z(){return _.slidesInView.get(!1)}function q(){return C}function Y(){return _}function L(){return t}function B(){return k}function j(){return M}const X={canScrollNext:E,canScrollPrev:I,containerNode:B,internalEngine:Y,destroy:g,off:f,on:y,emit:a,plugins:q,previousScrollSnap:D,reInit:p,rootNode:L,scrollNext:x,scrollPrev:P,scrollProgress:V,scrollSnapList:G,scrollTo:w,selectedScrollSnap:O,slideNodes:j,slidesInView:U,slidesNotInView:z};return A(e,r),setTimeout(()=>l.emit("init"),0),X}yr.globalOptions=void 0;function Qs(t,e={options:{},plugins:[]}){let r=e,i;return pd()&&(yr.globalOptions=Qs.globalOptions,i=yr(t,r.options,r.plugins),i.on("init",()=>t.dispatchEvent(new CustomEvent("emblaInit",{detail:i})))),{destroy:()=>{i&&i.destroy()},update:d=>{const o=!yi(r.options,d.options),n=!md(r.plugins,d.plugins);!o&&!n||(r=d,i&&i.reInit(r.options,r.plugins))}}}Qs.globalOptions=void 0;var cr={exports:{}},en={},Br={},Ur={},ao;function ct(){return ao||(ao=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Ni<"u"?Ni:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.16",isBrowser:r(),isUnminified:/param/.test((function(d){}).toString()),dblClickWindow:400,getAngle(d){return t.Konva.angleDeg?d*e:d},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var d;return(d=t.Konva.Transformer)===null||d===void 0?void 0:d.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(d){t.glob.Konva=d}};const i=d=>{t.Konva[d.prototype.getClassName()]=d};t._registerNode=i,t.Konva._injectGlobal(t.Konva)}(Ur)),Ur}var Vr={},lo;function At(){return lo||(lo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ct();class r{constructor(S=[1,0,0,1,0,0]){this.dirty=!1,this.m=S&&S.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(S){S.m[0]=this.m[0],S.m[1]=this.m[1],S.m[2]=this.m[2],S.m[3]=this.m[3],S.m[4]=this.m[4],S.m[5]=this.m[5]}point(S){const C=this.m;return{x:C[0]*S.x+C[2]*S.y+C[4],y:C[1]*S.x+C[3]*S.y+C[5]}}translate(S,C){return this.m[4]+=this.m[0]*S+this.m[2]*C,this.m[5]+=this.m[1]*S+this.m[3]*C,this}scale(S,C){return this.m[0]*=S,this.m[1]*=S,this.m[2]*=C,this.m[3]*=C,this}rotate(S){const C=Math.cos(S),k=Math.sin(S),M=this.m[0]*C+this.m[2]*k,F=this.m[1]*C+this.m[3]*k,N=this.m[0]*-k+this.m[2]*C,A=this.m[1]*-k+this.m[3]*C;return this.m[0]=M,this.m[1]=F,this.m[2]=N,this.m[3]=A,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(S,C){const k=this.m[0]+this.m[2]*C,M=this.m[1]+this.m[3]*C,F=this.m[2]+this.m[0]*S,N=this.m[3]+this.m[1]*S;return this.m[0]=k,this.m[1]=M,this.m[2]=F,this.m[3]=N,this}multiply(S){const C=this.m[0]*S.m[0]+this.m[2]*S.m[1],k=this.m[1]*S.m[0]+this.m[3]*S.m[1],M=this.m[0]*S.m[2]+this.m[2]*S.m[3],F=this.m[1]*S.m[2]+this.m[3]*S.m[3],N=this.m[0]*S.m[4]+this.m[2]*S.m[5]+this.m[4],A=this.m[1]*S.m[4]+this.m[3]*S.m[5]+this.m[5];return this.m[0]=C,this.m[1]=k,this.m[2]=M,this.m[3]=F,this.m[4]=N,this.m[5]=A,this}invert(){const S=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*S,k=-this.m[1]*S,M=-this.m[2]*S,F=this.m[0]*S,N=S*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),A=S*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=k,this.m[2]=M,this.m[3]=F,this.m[4]=N,this.m[5]=A,this}getMatrix(){return this.m}decompose(){const S=this.m[0],C=this.m[1],k=this.m[2],M=this.m[3],F=this.m[4],N=this.m[5],A=S*M-C*k,T={x:F,y:N,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(S!=0||C!=0){const R=Math.sqrt(S*S+C*C);T.rotation=C>0?Math.acos(S/R):-Math.acos(S/R),T.scaleX=R,T.scaleY=A/R,T.skewX=(S*k+C*M)/A,T.skewY=0}else if(k!=0||M!=0){const R=Math.sqrt(k*k+M*M);T.rotation=Math.PI/2-(M>0?Math.acos(-k/R):-Math.acos(k/R)),T.scaleX=A/R,T.scaleY=R,T.skewX=0,T.skewY=(S*k+C*M)/A}return T.rotation=t.Util._getRotation(T.rotation),T}}t.Transform=r;let i="[object Array]",d="[object Number]",o="[object String]",n="[object Boolean]",s=Math.PI/180,l=180/Math.PI,u="#",b="",v="0",y="Konva warning: ",f="Konva error: ",a="rgb(",p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},m=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,_=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(h){setTimeout(h,60)};t.Util={_isElement(h){return!!(h&&h.nodeType==1)},_isFunction(h){return!!(h&&h.constructor&&h.call&&h.apply)},_isPlainObject(h){return!!h&&h.constructor===Object},_isArray(h){return Object.prototype.toString.call(h)===i},_isNumber(h){return Object.prototype.toString.call(h)===d&&!isNaN(h)&&isFinite(h)},_isString(h){return Object.prototype.toString.call(h)===o},_isBoolean(h){return Object.prototype.toString.call(h)===n},isObject(h){return h instanceof Object},isValidSelector(h){if(typeof h!="string")return!1;const S=h[0];return S==="#"||S==="."||S===S.toUpperCase()},_sign(h){return h===0||h>0?1:-1},requestAnimFrame(h){_.push(h),_.length===1&&c(function(){const S=_;_=[],S.forEach(function(C){C()})})},createCanvasElement(){const h=document.createElement("canvas");try{h.style=h.style||{}}catch{}return h},createImageElement(){return document.createElement("img")},_isInDocument(h){for(;h=h.parentNode;)if(h==document)return!0;return!1},_urlToImage(h,S){const C=t.Util.createImageElement();C.onload=function(){S(C)},C.src=h},_rgbToHex(h,S,C){return((1<<24)+(h<<16)+(S<<8)+C).toString(16).slice(1)},_hexToRgb(h){h=h.replace(u,b);const S=parseInt(h,16);return{r:S>>16&255,g:S>>8&255,b:S&255}},getRandomColor(){let h=(Math.random()*16777215<<0).toString(16);for(;h.length<6;)h=v+h;return u+h},getRGB(h){let S;return h in p?(S=p[h],{r:S[0],g:S[1],b:S[2]}):h[0]===u?this._hexToRgb(h.substring(1)):h.substr(0,4)===a?(S=m.exec(h.replace(/ /g,"")),{r:parseInt(S[1],10),g:parseInt(S[2],10),b:parseInt(S[3],10)}):{r:0,g:0,b:0}},colorToRGBA(h){return h=h||"black",t.Util._namedColorToRBA(h)||t.Util._hex3ColorToRGBA(h)||t.Util._hex4ColorToRGBA(h)||t.Util._hex6ColorToRGBA(h)||t.Util._hex8ColorToRGBA(h)||t.Util._rgbColorToRGBA(h)||t.Util._rgbaColorToRGBA(h)||t.Util._hslColorToRGBA(h)},_namedColorToRBA(h){const S=p[h.toLowerCase()];return S?{r:S[0],g:S[1],b:S[2],a:1}:null},_rgbColorToRGBA(h){if(h.indexOf("rgb(")===0){h=h.match(/rgb\(([^)]+)\)/)[1];const S=h.split(/ *, */).map(Number);return{r:S[0],g:S[1],b:S[2],a:1}}},_rgbaColorToRGBA(h){if(h.indexOf("rgba(")===0){h=h.match(/rgba\(([^)]+)\)/)[1];const S=h.split(/ *, */).map((C,k)=>C.slice(-1)==="%"?k===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:S[0],g:S[1],b:S[2],a:S[3]}}},_hex8ColorToRGBA(h){if(h[0]==="#"&&h.length===9)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:parseInt(h.slice(7,9),16)/255}},_hex6ColorToRGBA(h){if(h[0]==="#"&&h.length===7)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:1}},_hex4ColorToRGBA(h){if(h[0]==="#"&&h.length===5)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:parseInt(h[4]+h[4],16)/255}},_hex3ColorToRGBA(h){if(h[0]==="#"&&h.length===4)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:1}},_hslColorToRGBA(h){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(h)){const[S,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(h),k=Number(C[0])/360,M=Number(C[1])/100,F=Number(C[2])/100;let N,A,T;if(M===0)return T=F*255,{r:Math.round(T),g:Math.round(T),b:Math.round(T),a:1};F<.5?N=F*(1+M):N=F+M-F*M;const R=2*F-N,g=[0,0,0];for(let w=0;w<3;w++)A=k+1/3*-(w-1),A<0&&A++,A>1&&A--,6*A<1?T=R+(N-R)*6*A:2*A<1?T=N:3*A<2?T=R+(N-R)*(2/3-A)*6:T=R,g[w]=T*255;return{r:Math.round(g[0]),g:Math.round(g[1]),b:Math.round(g[2]),a:1}}},haveIntersection(h,S){return!(S.x>h.x+h.width||S.x+S.width<h.x||S.y>h.y+h.height||S.y+S.height<h.y)},cloneObject(h){const S={};for(const C in h)this._isPlainObject(h[C])?S[C]=this.cloneObject(h[C]):this._isArray(h[C])?S[C]=this.cloneArray(h[C]):S[C]=h[C];return S},cloneArray(h){return h.slice(0)},degToRad(h){return h*s},radToDeg(h){return h*l},_degToRad(h){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(h)},_radToDeg(h){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(h)},_getRotation(h){return e.Konva.angleDeg?t.Util.radToDeg(h):h},_capitalize(h){return h.charAt(0).toUpperCase()+h.slice(1)},throw(h){throw new Error(f+h)},error(h){console.error(f+h)},warn(h){e.Konva.showWarnings&&console.warn(y+h)},each(h,S){for(const C in h)S(C,h[C])},_inRange(h,S,C){return S<=h&&h<C},_getProjectionToSegment(h,S,C,k,M,F){let N,A,T;const R=(h-C)*(h-C)+(S-k)*(S-k);if(R==0)N=h,A=S,T=(M-C)*(M-C)+(F-k)*(F-k);else{const g=((M-h)*(C-h)+(F-S)*(k-S))/R;g<0?(N=h,A=S,T=(h-M)*(h-M)+(S-F)*(S-F)):g>1?(N=C,A=k,T=(C-M)*(C-M)+(k-F)*(k-F)):(N=h+g*(C-h),A=S+g*(k-S),T=(N-M)*(N-M)+(A-F)*(A-F))}return[N,A,T]},_getProjectionToLine(h,S,C){const k=t.Util.cloneObject(h);let M=Number.MAX_VALUE;return S.forEach(function(F,N){if(!C&&N===S.length-1)return;const A=S[(N+1)%S.length],T=t.Util._getProjectionToSegment(F.x,F.y,A.x,A.y,h.x,h.y),R=T[0],g=T[1],w=T[2];w<M&&(k.x=R,k.y=g,M=w)}),k},_prepareArrayForTween(h,S,C){let k,M=[],F=[];if(h.length>S.length){const A=S;S=h,h=A}for(k=0;k<h.length;k+=2)M.push({x:h[k],y:h[k+1]});for(k=0;k<S.length;k+=2)F.push({x:S[k],y:S[k+1]});const N=[];return F.forEach(function(A){const T=t.Util._getProjectionToLine(A,M,C);N.push(T.x),N.push(T.y)}),N},_prepareToStringify(h){let S;h.visitedByCircularReferenceRemoval=!0;for(const C in h)if(h.hasOwnProperty(C)&&h[C]&&typeof h[C]=="object"){if(S=Object.getOwnPropertyDescriptor(h,C),h[C].visitedByCircularReferenceRemoval||t.Util._isElement(h[C]))if(S.configurable)delete h[C];else return null;else if(t.Util._prepareToStringify(h[C])===null)if(S.configurable)delete h[C];else return null}return delete h.visitedByCircularReferenceRemoval,h},_assign(h,S){for(const C in S)h[C]=S[C];return h},_getFirstPointerId(h){return h.touches?h.changedTouches[0].identifier:h.pointerId||999},releaseCanvas(...h){e.Konva.releaseCanvasOnDestroy&&h.forEach(S=>{S.width=0,S.height=0})},drawRoundedRectPath(h,S,C,k){let M=0,F=0,N=0,A=0;typeof k=="number"?M=F=N=A=Math.min(k,S/2,C/2):(M=Math.min(k[0]||0,S/2,C/2),F=Math.min(k[1]||0,S/2,C/2),A=Math.min(k[2]||0,S/2,C/2),N=Math.min(k[3]||0,S/2,C/2)),h.moveTo(M,0),h.lineTo(S-F,0),h.arc(S-F,F,F,Math.PI*3/2,0,!1),h.lineTo(S,C-A),h.arc(S-A,C-A,A,0,Math.PI/2,!1),h.lineTo(N,C),h.arc(N,C-N,N,Math.PI/2,Math.PI,!1),h.lineTo(0,M),h.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}}(Vr)),Vr}var nn={},zr={},Vt={},co;function ut(){if(co)return Vt;co=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.RGBComponent=i,Vt.alphaComponent=d,Vt.getNumberValidator=o,Vt.getNumberOrArrayOfNumbersValidator=n,Vt.getNumberOrAutoValidator=s,Vt.getStringValidator=l,Vt.getStringOrGradientValidator=u,Vt.getFunctionValidator=b,Vt.getNumberArrayValidator=v,Vt.getBooleanValidator=y,Vt.getComponentValidator=f;const t=ct(),e=At();function r(a){return e.Util._isString(a)?'"'+a+'"':Object.prototype.toString.call(a)==="[object Number]"||e.Util._isBoolean(a)?a:Object.prototype.toString.call(a)}function i(a){return a>255?255:a<0?0:Math.round(a)}function d(a){return a>1?1:a<1e-4?1e-4:a}function o(){if(t.Konva.isUnminified)return function(a,p){return e.Util._isNumber(a)||e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a number.'),a}}function n(a){if(t.Konva.isUnminified)return function(p,m){const _=e.Util._isNumber(p),c=e.Util._isArray(p)&&p.length==a;return!_&&!c&&e.Util.warn(r(p)+' is a not valid value for "'+m+'" attribute. The value should be a number or Array<number>('+a+")"),p}}function s(){if(t.Konva.isUnminified)return function(a,p){return e.Util._isNumber(a)||a==="auto"||e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a number or "auto".'),a}}function l(){if(t.Konva.isUnminified)return function(a,p){return e.Util._isString(a)||e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a string.'),a}}function u(){if(t.Konva.isUnminified)return function(a,p){const m=e.Util._isString(a),_=Object.prototype.toString.call(a)==="[object CanvasGradient]"||a&&a.addColorStop;return m||_||e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a string or a native gradient.'),a}}function b(){if(t.Konva.isUnminified)return function(a,p){return e.Util._isFunction(a)||e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a function.'),a}}function v(){if(t.Konva.isUnminified)return function(a,p){const m=Int8Array?Object.getPrototypeOf(Int8Array):null;return m&&a instanceof m||(e.Util._isArray(a)?a.forEach(function(_){e.Util._isNumber(_)||e.Util.warn('"'+p+'" attribute has non numeric element '+_+". Make sure that all elements are numbers.")}):e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a array of numbers.')),a}}function y(){if(t.Konva.isUnminified)return function(a,p){return a===!0||a===!1||e.Util.warn(r(a)+' is a not valid value for "'+p+'" attribute. The value should be a boolean.'),a}}function f(a){if(t.Konva.isUnminified)return function(p,m){return p==null||e.Util.isObject(p)||e.Util.warn(r(p)+' is a not valid value for "'+m+'" attribute. The value should be an object with properties '+a),p}}return Vt}var uo;function dt(){return uo||(uo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=At(),r=ut(),i="get",d="set";t.Factory={addGetterSetter(o,n,s,l,u){t.Factory.addGetter(o,n,s),t.Factory.addSetter(o,n,l,u),t.Factory.addOverloadedGetterSetter(o,n)},addGetter(o,n,s){const l=i+e.Util._capitalize(n);o.prototype[l]=o.prototype[l]||function(){const u=this.attrs[n];return u===void 0?s:u}},addSetter(o,n,s,l){const u=d+e.Util._capitalize(n);o.prototype[u]||t.Factory.overWriteSetter(o,n,s,l)},overWriteSetter(o,n,s,l){const u=d+e.Util._capitalize(n);o.prototype[u]=function(b){return s&&b!==void 0&&b!==null&&(b=s.call(this,b,n)),this._setAttr(n,b),l&&l.call(this),this}},addComponentsGetterSetter(o,n,s,l,u){let b=s.length,v=e.Util._capitalize,y=i+v(n),f=d+v(n),a,p;o.prototype[y]=function(){const _={};for(a=0;a<b;a++)p=s[a],_[p]=this.getAttr(n+v(p));return _};const m=(0,r.getComponentValidator)(s);o.prototype[f]=function(_){let c=this.attrs[n],h;l&&(_=l.call(this,_)),m&&m.call(this,_,n);for(h in _)_.hasOwnProperty(h)&&this._setAttr(n+v(h),_[h]);return _||s.forEach(S=>{this._setAttr(n+v(S),void 0)}),this._fireChangeEvent(n,c,_),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(o,n)},addOverloadedGetterSetter(o,n){const s=e.Util._capitalize(n),l=d+s,u=i+s;o.prototype[n]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(o,n,s,l){e.Util.error("Adding deprecated "+n);const u=i+e.Util._capitalize(n),b=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[u]=function(){e.Util.error(b);const v=this.attrs[n];return v===void 0?s:v},t.Factory.addSetter(o,n,l,function(){e.Util.error(b)}),t.Factory.addOverloadedGetterSetter(o,n)},backCompat(o,n){e.Util.each(n,function(s,l){const u=o.prototype[l],b=i+e.Util._capitalize(s),v=d+e.Util._capitalize(s);function y(){u.apply(this,arguments),e.Util.error('"'+s+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}o.prototype[s]=y,o.prototype[b]=y,o.prototype[v]=y})},afterSetFilter(){this._filterUpToDate=!1}}}(zr)),zr}var ue={},he={},ho;function Js(){if(ho)return he;ho=1,Object.defineProperty(he,"__esModule",{value:!0}),he.HitContext=he.SceneContext=he.Context=void 0;const t=At(),e=ct();function r(_){let c=[],h=_.length,S=t.Util,C,k;for(C=0;C<h;C++)k=_[C],S._isNumber(k)?k=Math.round(k*1e3)/1e3:S._isString(k)||(k=k+""),c.push(k);return c}const i=",",d="(",o=")",n="([",s="])",l=";",u="()",b="=",v=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],y=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;let a=class{constructor(c){this.canvas=c,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(c){c.fillEnabled()&&this._fill(c)}_fill(c){}strokeShape(c){c.hasStroke()&&this._stroke(c)}_stroke(c){}fillStrokeShape(c){c.attrs.fillAfterStrokeEnabled?(this.strokeShape(c),this.fillShape(c)):(this.fillShape(c),this.strokeShape(c))}getTrace(c,h){let S=this.traceArr,C=S.length,k="",M,F,N,A;for(M=0;M<C;M++)F=S[M],N=F.method,N?(A=F.args,k+=N,c?k+=u:t.Util._isArray(A[0])?k+=n+A.join(i)+s:(h&&(A=A.map(T=>typeof T=="number"?Math.floor(T):T)),k+=d+A.join(i)+o)):(k+=F.property,c||(k+=b+F.val)),k+=l;return k}clearTrace(){this.traceArr=[]}_trace(c){let h=this.traceArr,S;h.push(c),S=h.length,S>=f&&h.shift()}reset(){const c=this.getCanvas().getPixelRatio();this.setTransform(1*c,0,0,1*c,0,0)}getCanvas(){return this.canvas}clear(c){const h=this.getCanvas();c?this.clearRect(c.x||0,c.y||0,c.width||0,c.height||0):this.clearRect(0,0,h.getWidth()/h.pixelRatio,h.getHeight()/h.pixelRatio)}_applyLineCap(c){const h=c.attrs.lineCap;h&&this.setAttr("lineCap",h)}_applyOpacity(c){const h=c.getAbsoluteOpacity();h!==1&&this.setAttr("globalAlpha",h)}_applyLineJoin(c){const h=c.attrs.lineJoin;h&&this.setAttr("lineJoin",h)}setAttr(c,h){this._context[c]=h}arc(c,h,S,C,k,M){this._context.arc(c,h,S,C,k,M)}arcTo(c,h,S,C,k){this._context.arcTo(c,h,S,C,k)}beginPath(){this._context.beginPath()}bezierCurveTo(c,h,S,C,k,M){this._context.bezierCurveTo(c,h,S,C,k,M)}clearRect(c,h,S,C){this._context.clearRect(c,h,S,C)}clip(...c){this._context.clip.apply(this._context,c)}closePath(){this._context.closePath()}createImageData(c,h){const S=arguments;if(S.length===2)return this._context.createImageData(c,h);if(S.length===1)return this._context.createImageData(c)}createLinearGradient(c,h,S,C){return this._context.createLinearGradient(c,h,S,C)}createPattern(c,h){return this._context.createPattern(c,h)}createRadialGradient(c,h,S,C,k,M){return this._context.createRadialGradient(c,h,S,C,k,M)}drawImage(c,h,S,C,k,M,F,N,A){const T=arguments,R=this._context;T.length===3?R.drawImage(c,h,S):T.length===5?R.drawImage(c,h,S,C,k):T.length===9&&R.drawImage(c,h,S,C,k,M,F,N,A)}ellipse(c,h,S,C,k,M,F,N){this._context.ellipse(c,h,S,C,k,M,F,N)}isPointInPath(c,h,S,C){return S?this._context.isPointInPath(S,c,h,C):this._context.isPointInPath(c,h,C)}fill(...c){this._context.fill.apply(this._context,c)}fillRect(c,h,S,C){this._context.fillRect(c,h,S,C)}strokeRect(c,h,S,C){this._context.strokeRect(c,h,S,C)}fillText(c,h,S,C){C?this._context.fillText(c,h,S,C):this._context.fillText(c,h,S)}measureText(c){return this._context.measureText(c)}getImageData(c,h,S,C){return this._context.getImageData(c,h,S,C)}lineTo(c,h){this._context.lineTo(c,h)}moveTo(c,h){this._context.moveTo(c,h)}rect(c,h,S,C){this._context.rect(c,h,S,C)}roundRect(c,h,S,C,k){this._context.roundRect(c,h,S,C,k)}putImageData(c,h,S){this._context.putImageData(c,h,S)}quadraticCurveTo(c,h,S,C){this._context.quadraticCurveTo(c,h,S,C)}restore(){this._context.restore()}rotate(c){this._context.rotate(c)}save(){this._context.save()}scale(c,h){this._context.scale(c,h)}setLineDash(c){this._context.setLineDash?this._context.setLineDash(c):"mozDash"in this._context?this._context.mozDash=c:"webkitLineDash"in this._context&&(this._context.webkitLineDash=c)}getLineDash(){return this._context.getLineDash()}setTransform(c,h,S,C,k,M){this._context.setTransform(c,h,S,C,k,M)}stroke(c){c?this._context.stroke(c):this._context.stroke()}strokeText(c,h,S,C){this._context.strokeText(c,h,S,C)}transform(c,h,S,C,k,M){this._context.transform(c,h,S,C,k,M)}translate(c,h){this._context.translate(c,h)}_enableTrace(){let c=this,h=v.length,S=this.setAttr,C,k;const M=function(F){let N=c[F],A;c[F]=function(){return k=r(Array.prototype.slice.call(arguments,0)),A=N.apply(c,arguments),c._trace({method:F,args:k}),A}};for(C=0;C<h;C++)M(v[C]);c.setAttr=function(){S.apply(c,arguments);const F=arguments[0];let N=arguments[1];(F==="shadowOffsetX"||F==="shadowOffsetY"||F==="shadowBlur")&&(N=N/this.canvas.getPixelRatio()),c._trace({property:F,val:N})}}_applyGlobalCompositeOperation(c){const h=c.attrs.globalCompositeOperation;!h||h==="source-over"||this.setAttr("globalCompositeOperation",h)}};he.Context=a,y.forEach(function(_){Object.defineProperty(a.prototype,_,{get(){return this._context[_]},set(c){this._context[_]=c}})});class p extends a{constructor(c,{willReadFrequently:h=!1}={}){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:h})}_fillColor(c){const h=c.fill();this.setAttr("fillStyle",h),c._fillFunc(this)}_fillPattern(c){this.setAttr("fillStyle",c._getFillPattern()),c._fillFunc(this)}_fillLinearGradient(c){const h=c._getLinearGradient();h&&(this.setAttr("fillStyle",h),c._fillFunc(this))}_fillRadialGradient(c){const h=c._getRadialGradient();h&&(this.setAttr("fillStyle",h),c._fillFunc(this))}_fill(c){const h=c.fill(),S=c.getFillPriority();if(h&&S==="color"){this._fillColor(c);return}const C=c.getFillPatternImage();if(C&&S==="pattern"){this._fillPattern(c);return}const k=c.getFillLinearGradientColorStops();if(k&&S==="linear-gradient"){this._fillLinearGradient(c);return}const M=c.getFillRadialGradientColorStops();if(M&&S==="radial-gradient"){this._fillRadialGradient(c);return}h?this._fillColor(c):C?this._fillPattern(c):k?this._fillLinearGradient(c):M&&this._fillRadialGradient(c)}_strokeLinearGradient(c){const h=c.getStrokeLinearGradientStartPoint(),S=c.getStrokeLinearGradientEndPoint(),C=c.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(h.x,h.y,S.x,S.y);if(C){for(let M=0;M<C.length;M+=2)k.addColorStop(C[M],C[M+1]);this.setAttr("strokeStyle",k)}}_stroke(c){const h=c.dash(),S=c.getStrokeScaleEnabled();if(c.hasStroke()){if(!S){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(c),h&&c.dashEnabled()&&(this.setLineDash(h),this.setAttr("lineDashOffset",c.dashOffset())),this.setAttr("lineWidth",c.strokeWidth()),c.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),c.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(c):this.setAttr("strokeStyle",c.stroke()),c._strokeFunc(this),S||this.restore()}}_applyShadow(c){var h,S,C;const k=(h=c.getShadowRGBA())!==null&&h!==void 0?h:"black",M=(S=c.getShadowBlur())!==null&&S!==void 0?S:5,F=(C=c.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},N=c.getAbsoluteScale(),A=this.canvas.getPixelRatio(),T=N.x*A,R=N.y*A;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",M*Math.min(Math.abs(T),Math.abs(R))),this.setAttr("shadowOffsetX",F.x*T),this.setAttr("shadowOffsetY",F.y*R)}}he.SceneContext=p;class m extends a{constructor(c){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:!0})}_fill(c){this.save(),this.setAttr("fillStyle",c.colorKey),c._fillFuncHit(this),this.restore()}strokeShape(c){c.hasHitStroke()&&this._stroke(c)}_stroke(c){if(c.hasHitStroke()){const h=c.getStrokeScaleEnabled();if(!h){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(c);const S=c.hitStrokeWidth(),C=S==="auto"?c.strokeWidth():S;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",c.colorKey),c._strokeFuncHit(this),h||this.restore()}}}return he.HitContext=m,he}var fo;function Tr(){if(fo)return ue;fo=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.HitCanvas=ue.SceneCanvas=ue.Canvas=void 0;const t=At(),e=Js(),r=ct(),i=dt(),d=ut();let o;function n(){if(o)return o;const b=t.Util.createCanvasElement(),v=b.getContext("2d");return o=function(){const y=r.Konva._global.devicePixelRatio||1,f=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return y/f}(),t.Util.releaseCanvas(b),o}let s=class{constructor(v){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const f=(v||{}).pixelRatio||r.Konva.pixelRatio||n();this.pixelRatio=f,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(v){const y=this.pixelRatio;this.pixelRatio=v,this.setSize(this.getWidth()/y,this.getHeight()/y)}setWidth(v){this.width=this._canvas.width=v*this.pixelRatio,this._canvas.style.width=v+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}setHeight(v){this.height=this._canvas.height=v*this.pixelRatio,this._canvas.style.height=v+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}getWidth(){return this.width}getHeight(){return this.height}setSize(v,y){this.setWidth(v||0),this.setHeight(y||0)}toDataURL(v,y){try{return this._canvas.toDataURL(v,y)}catch{try{return this._canvas.toDataURL()}catch(a){return t.Util.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ue.Canvas=s,i.Factory.addGetterSetter(s,"pixelRatio",void 0,(0,d.getNumberValidator)());class l extends s{constructor(v={width:0,height:0,willReadFrequently:!1}){super(v),this.context=new e.SceneContext(this,{willReadFrequently:v.willReadFrequently}),this.setSize(v.width,v.height)}}ue.SceneCanvas=l;class u extends s{constructor(v={width:0,height:0}){super(v),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(v.width,v.height)}}return ue.HitCanvas=u,ue}var jr={},go;function xi(){return go||(go=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ct(),r=At();t.DD={get isDragging(){let i=!1;return t.DD._dragElements.forEach(d=>{d.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return t.DD._dragElements.forEach(d=>{i=d.node}),i},_dragElements:new Map,_drag(i){const d=[];t.DD._dragElements.forEach((o,n)=>{const{node:s}=o,l=s.getStage();l.setPointersPositions(i),o.pointerId===void 0&&(o.pointerId=r.Util._getFirstPointerId(i));const u=l._changedPointerPositions.find(b=>b.id===o.pointerId);if(u){if(o.dragStatus!=="dragging"){const b=s.dragDistance();if(Math.max(Math.abs(u.x-o.startPointerPos.x),Math.abs(u.y-o.startPointerPos.y))<b||(s.startDrag({evt:i}),!s.isDragging()))return}s._setDragPosition(i,o),d.push(s)}}),d.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:i},!0)})},_endDragBefore(i){const d=[];t.DD._dragElements.forEach(o=>{const{node:n}=o,s=n.getStage();if(i&&s.setPointersPositions(i),!s._changedPointerPositions.find(b=>b.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const u=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;u&&d.indexOf(u)===-1&&d.push(u)}),d.forEach(o=>{o.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((d,o)=>{d.dragStatus==="stopped"&&d.node.fire("dragend",{type:"dragend",target:d.node,evt:i},!0),d.dragStatus!=="dragging"&&t.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(jr)),jr}var po;function Et(){if(po)return nn;po=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.Node=void 0;const t=At(),e=dt(),r=Tr(),i=ct(),d=xi(),o=ut(),n="absoluteOpacity",s="allEventListeners",l="absoluteTransform",u="absoluteScale",b="canvas",v="Change",y="children",f="konva",a="listening",p="mouseenter",m="mouseleave",_="set",c="Shape",h=" ",S="stage",C="transform",k="Stage",M="visible",F=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(h);let N=1;class A{constructor(g){this._id=N++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(g),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(g){(g===C||g===l)&&this._cache.get(g)?this._cache.get(g).dirty=!0:g?this._cache.delete(g):this._cache.clear()}_getCache(g,w){let x=this._cache.get(g);return(x===void 0||(g===C||g===l)&&x.dirty===!0)&&(x=w.call(this),this._cache.set(g,x)),x}_calculate(g,w,x){if(!this._attachedDepsListeners.get(g)){const P=w.map(E=>E+"Change.konva").join(h);this.on(P,()=>{this._clearCache(g)}),this._attachedDepsListeners.set(g,!0)}return this._getCache(g,x)}_getCanvasCache(){return this._cache.get(b)}_clearSelfAndDescendantCache(g){this._clearCache(g),g===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(b)){const{scene:g,filter:w,hit:x}=this._cache.get(b);t.Util.releaseCanvas(g,w,x),this._cache.delete(b)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(g){const w=g||{};let x={};(w.x===void 0||w.y===void 0||w.width===void 0||w.height===void 0)&&(x=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let P=Math.ceil(w.width||x.width),E=Math.ceil(w.height||x.height),I=w.pixelRatio,G=w.x===void 0?Math.floor(x.x):w.x,V=w.y===void 0?Math.floor(x.y):w.y,O=w.offset||0,D=w.drawBorder||!1,U=w.hitCanvasPixelRatio||1;if(!P||!E){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const z=Math.abs(Math.round(x.x)-G)>.5?1:0,q=Math.abs(Math.round(x.y)-V)>.5?1:0;P+=O*2+z,E+=O*2+q,G-=O,V-=O;const Y=new r.SceneCanvas({pixelRatio:I,width:P,height:E}),L=new r.SceneCanvas({pixelRatio:I,width:0,height:0,willReadFrequently:!0}),B=new r.HitCanvas({pixelRatio:U,width:P,height:E}),j=Y.getContext(),X=B.getContext();return B.isCache=!0,Y.isCache=!0,this._cache.delete(b),this._filterUpToDate=!1,w.imageSmoothingEnabled===!1&&(Y.getContext()._context.imageSmoothingEnabled=!1,L.getContext()._context.imageSmoothingEnabled=!1),j.save(),X.save(),j.translate(-G,-V),X.translate(-G,-V),this._isUnderCache=!0,this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(u),this.drawScene(Y,this),this.drawHit(B,this),this._isUnderCache=!1,j.restore(),X.restore(),D&&(j.save(),j.beginPath(),j.rect(0,0,P,E),j.closePath(),j.setAttr("strokeStyle","red"),j.setAttr("lineWidth",5),j.stroke(),j.restore()),this._cache.set(b,{scene:Y,filter:L,hit:B,x:G,y:V}),this._requestDraw(),this}isCached(){return this._cache.has(b)}getClientRect(g){throw new Error('abstract "getClientRect" method call')}_transformedRect(g,w){const x=[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}];let P=1/0,E=1/0,I=-1/0,G=-1/0;const V=this.getAbsoluteTransform(w);return x.forEach(function(O){const D=V.point(O);P===void 0&&(P=I=D.x,E=G=D.y),P=Math.min(P,D.x),E=Math.min(E,D.y),I=Math.max(I,D.x),G=Math.max(G,D.y)}),{x:P,y:E,width:I-P,height:G-E}}_drawCachedSceneCanvas(g){g.save(),g._applyOpacity(this),g._applyGlobalCompositeOperation(this);const w=this._getCanvasCache();g.translate(w.x,w.y);const x=this._getCachedSceneCanvas(),P=x.pixelRatio;g.drawImage(x._canvas,0,0,x.width/P,x.height/P),g.restore()}_drawCachedHitCanvas(g){const w=this._getCanvasCache(),x=w.hit;g.save(),g.translate(w.x,w.y),g.drawImage(x._canvas,0,0,x.width/x.pixelRatio,x.height/x.pixelRatio),g.restore()}_getCachedSceneCanvas(){let g=this.filters(),w=this._getCanvasCache(),x=w.scene,P=w.filter,E=P.getContext(),I,G,V,O;if(g){if(!this._filterUpToDate){const D=x.pixelRatio;P.setSize(x.width/x.pixelRatio,x.height/x.pixelRatio);try{for(I=g.length,E.clear(),E.drawImage(x._canvas,0,0,x.getWidth()/D,x.getHeight()/D),G=E.getImageData(0,0,P.getWidth(),P.getHeight()),V=0;V<I;V++){if(O=g[V],typeof O!="function"){t.Util.error("Filter should be type of function, but got "+typeof O+" instead. Please check correct filters");continue}O.call(this,G),E.putImageData(G,0,0)}}catch(U){t.Util.error("Unable to apply filter. "+U.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return P}return x}on(g,w){if(this._cache&&this._cache.delete(s),arguments.length===3)return this._delegate.apply(this,arguments);let x=g.split(h),P=x.length,E,I,G,V,O;for(E=0;E<P;E++)I=x[E],G=I.split("."),V=G[0],O=G[1]||"",this.eventListeners[V]||(this.eventListeners[V]=[]),this.eventListeners[V].push({name:O,handler:w});return this}off(g,w){let x=(g||"").split(h),P=x.length,E,I,G,V,O,D;if(this._cache&&this._cache.delete(s),!g)for(I in this.eventListeners)this._off(I);for(E=0;E<P;E++)if(G=x[E],V=G.split("."),O=V[0],D=V[1],O)this.eventListeners[O]&&this._off(O,D,w);else for(I in this.eventListeners)this._off(I,D,w);return this}dispatchEvent(g){const w={target:this,type:g.type,evt:g};return this.fire(g.type,w),this}addEventListener(g,w){return this.on(g,function(x){w.call(this,x.evt)}),this}removeEventListener(g){return this.off(g),this}_delegate(g,w,x){const P=this;this.on(g,function(E){const I=E.target.findAncestors(w,!0,P);for(let G=0;G<I.length;G++)E=t.Util.cloneObject(E),E.currentTarget=I[G],x.call(I[G],E)})}remove(){return this.isDragging()&&this.stopDrag(),d.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(S),this._clearSelfAndDescendantCache(M),this._clearSelfAndDescendantCache(a)}_remove(){this._clearCaches();const g=this.getParent();g&&g.children&&(g.children.splice(this.index,1),g._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(g){const w="get"+t.Util._capitalize(g);return t.Util._isFunction(this[w])?this[w]():this.attrs[g]}getAncestors(){let g=this.getParent(),w=[];for(;g;)w.push(g),g=g.getParent();return w}getAttrs(){return this.attrs||{}}setAttrs(g){return this._batchTransformChanges(()=>{let w,x;if(!g)return this;for(w in g)w!==y&&(x=_+t.Util._capitalize(w),t.Util._isFunction(this[x])?this[x](g[w]):this._setAttr(w,g[w]))}),this}isListening(){return this._getCache(a,this._isListening)}_isListening(g){if(!this.listening())return!1;const x=this.getParent();return x&&x!==g&&this!==g?x._isListening(g):!0}isVisible(){return this._getCache(M,this._isVisible)}_isVisible(g){if(!this.visible())return!1;const x=this.getParent();return x&&x!==g&&this!==g?x._isVisible(g):!0}shouldDrawHit(g,w=!1){if(g)return this._isVisible(g)&&this._isListening(g);const x=this.getLayer();let P=!1;d.DD._dragElements.forEach(I=>{I.dragStatus==="dragging"&&(I.node.nodeType==="Stage"||I.node.getLayer()===x)&&(P=!0)});const E=!w&&!i.Konva.hitOnDragEnabled&&(P||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!E}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let g=this.getDepth(),w=this,x=0,P,E,I,G;function V(D){for(P=[],E=D.length,I=0;I<E;I++)G=D[I],x++,G.nodeType!==c&&(P=P.concat(G.getChildren().slice())),G._id===w._id&&(I=E);P.length>0&&P[0].getDepth()<=g&&V(P)}const O=this.getStage();return w.nodeType!==k&&O&&V(O.getChildren()),x}getDepth(){let g=0,w=this.parent;for(;w;)g++,w=w.parent;return g}_batchTransformChanges(g){this._batchingTransformChange=!0,g(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(g){return this._batchTransformChanges(()=>{this.x(g.x),this.y(g.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const g=this.getStage();if(!g)return null;const w=g.getPointerPosition();if(!w)return null;const x=this.getAbsoluteTransform().copy();return x.invert(),x.point(w)}getAbsolutePosition(g){let w=!1,x=this.parent;for(;x;){if(x.isCached()){w=!0;break}x=x.parent}w&&!g&&(g=!0);const P=this.getAbsoluteTransform(g).getMatrix(),E=new t.Transform,I=this.offset();return E.m=P.slice(),E.translate(I.x,I.y),E.getTranslation()}setAbsolutePosition(g){const{x:w,y:x,...P}=this._clearTransform();this.attrs.x=w,this.attrs.y=x,this._clearCache(C);const E=this._getAbsoluteTransform().copy();return E.invert(),E.translate(g.x,g.y),g={x:this.attrs.x+E.getTranslation().x,y:this.attrs.y+E.getTranslation().y},this._setTransform(P),this.setPosition({x:g.x,y:g.y}),this._clearCache(C),this._clearSelfAndDescendantCache(l),this}_setTransform(g){let w;for(w in g)this.attrs[w]=g[w]}_clearTransform(){const g={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,g}move(g){let w=g.x,x=g.y,P=this.x(),E=this.y();return w!==void 0&&(P+=w),x!==void 0&&(E+=x),this.setPosition({x:P,y:E}),this}_eachAncestorReverse(g,w){let x=[],P=this.getParent(),E,I;if(!(w&&w._id===this._id)){for(x.unshift(this);P&&(!w||P._id!==w._id);)x.unshift(P),P=P.parent;for(E=x.length,I=0;I<E;I++)g(x[I])}}rotate(g){return this.rotation(this.rotation()+g),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const g=this.index,w=this.parent.getChildren().length;return g<w-1?(this.parent.children.splice(g,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const g=this.index,w=this.parent.getChildren().length;return g<w-1?(this.parent.children.splice(g,1),this.parent.children.splice(g+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const g=this.index;return g>0?(this.parent.children.splice(g,1),this.parent.children.splice(g-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const g=this.index;return g>0?(this.parent.children.splice(g,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(g){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(g<0||g>=this.parent.children.length)&&t.Util.warn("Unexpected value "+g+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const w=this.index;return this.parent.children.splice(w,1),this.parent.children.splice(g,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(n,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let g=this.opacity();const w=this.getParent();return w&&!w._isUnderCache&&(g*=w.getAbsoluteOpacity()),g}moveTo(g){return this.getParent()!==g&&(this._remove(),g.add(this)),this}toObject(){let g=this.getAttrs(),w,x,P,E,I;const G={attrs:{},className:this.getClassName()};for(w in g)x=g[w],I=t.Util.isObject(x)&&!t.Util._isPlainObject(x)&&!t.Util._isArray(x),!I&&(P=typeof this[w]=="function"&&this[w],delete g[w],E=P?P.call(this):null,g[w]=x,E!==x&&(G.attrs[w]=x));return t.Util._prepareToStringify(G)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(g,w,x){const P=[];w&&this._isMatch(g)&&P.push(this);let E=this.parent;for(;E;){if(E===x)return P;E._isMatch(g)&&P.push(E),E=E.parent}return P}isAncestorOf(g){return!1}findAncestor(g,w,x){return this.findAncestors(g,w,x)[0]}_isMatch(g){if(!g)return!1;if(typeof g=="function")return g(this);let w=g.replace(/ /g,"").split(","),x=w.length,P,E;for(P=0;P<x;P++)if(E=w[P],t.Util.isValidSelector(E)||(t.Util.warn('Selector "'+E+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),E.charAt(0)==="#"){if(this.id()===E.slice(1))return!0}else if(E.charAt(0)==="."){if(this.hasName(E.slice(1)))return!0}else if(this.className===E||this.nodeType===E)return!0;return!1}getLayer(){const g=this.getParent();return g?g.getLayer():null}getStage(){return this._getCache(S,this._getStage)}_getStage(){const g=this.getParent();return g?g.getStage():null}fire(g,w={},x){return w.target=w.target||this,x?this._fireAndBubble(g,w):this._fire(g,w),this}getAbsoluteTransform(g){return g?this._getAbsoluteTransform(g):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(g){let w;if(g)return w=new t.Transform,this._eachAncestorReverse(function(x){const P=x.transformsEnabled();P==="all"?w.multiply(x.getTransform()):P==="position"&&w.translate(x.x()-x.offsetX(),x.y()-x.offsetY())},g),w;{w=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(w):w.reset();const x=this.transformsEnabled();if(x==="all")w.multiply(this.getTransform());else if(x==="position"){const P=this.attrs.x||0,E=this.attrs.y||0,I=this.attrs.offsetX||0,G=this.attrs.offsetY||0;w.translate(P-I,E-G)}return w.dirty=!1,w}}getAbsoluteScale(g){let w=this;for(;w;)w._isUnderCache&&(g=w),w=w.getParent();const P=this.getAbsoluteTransform(g).decompose();return{x:P.scaleX,y:P.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var g,w;const x=this._cache.get(C)||new t.Transform;x.reset();const P=this.x(),E=this.y(),I=i.Konva.getAngle(this.rotation()),G=(g=this.attrs.scaleX)!==null&&g!==void 0?g:1,V=(w=this.attrs.scaleY)!==null&&w!==void 0?w:1,O=this.attrs.skewX||0,D=this.attrs.skewY||0,U=this.attrs.offsetX||0,z=this.attrs.offsetY||0;return(P!==0||E!==0)&&x.translate(P,E),I!==0&&x.rotate(I),(O!==0||D!==0)&&x.skew(O,D),(G!==1||V!==1)&&x.scale(G,V),(U!==0||z!==0)&&x.translate(-1*U,-1*z),x.dirty=!1,x}clone(g){let w=t.Util.cloneObject(this.attrs),x,P,E,I,G;for(x in g)w[x]=g[x];const V=new this.constructor(w);for(x in this.eventListeners)for(P=this.eventListeners[x],E=P.length,I=0;I<E;I++)G=P[I],G.name.indexOf(f)<0&&(V.eventListeners[x]||(V.eventListeners[x]=[]),V.eventListeners[x].push(G));return V}_toKonvaCanvas(g){g=g||{};const w=this.getClientRect(),x=this.getStage(),P=g.x!==void 0?g.x:Math.floor(w.x),E=g.y!==void 0?g.y:Math.floor(w.y),I=g.pixelRatio||1,G=new r.SceneCanvas({width:g.width||Math.ceil(w.width)||(x?x.width():0),height:g.height||Math.ceil(w.height)||(x?x.height():0),pixelRatio:I}),V=G.getContext(),O=new r.SceneCanvas({width:G.width/G.pixelRatio+Math.abs(P),height:G.height/G.pixelRatio+Math.abs(E),pixelRatio:G.pixelRatio});return g.imageSmoothingEnabled===!1&&(V._context.imageSmoothingEnabled=!1),V.save(),(P||E)&&V.translate(-1*P,-1*E),this.drawScene(G,void 0,O),V.restore(),G}toCanvas(g){return this._toKonvaCanvas(g)._canvas}toDataURL(g){g=g||{};const w=g.mimeType||null,x=g.quality||null,P=this._toKonvaCanvas(g).toDataURL(w,x);return g.callback&&g.callback(P),P}toImage(g){return new Promise((w,x)=>{try{const P=g==null?void 0:g.callback;P&&delete g.callback,t.Util._urlToImage(this.toDataURL(g),function(E){w(E),P==null||P(E)})}catch(P){x(P)}})}toBlob(g){return new Promise((w,x)=>{try{const P=g==null?void 0:g.callback;P&&delete g.callback,this.toCanvas(g).toBlob(E=>{w(E),P==null||P(E)},g==null?void 0:g.mimeType,g==null?void 0:g.quality)}catch(P){x(P)}})}setSize(g){return this.width(g.width),this.height(g.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(g,w,x){let P=this.eventListeners[g],E,I,G;for(E=0;E<P.length;E++)if(I=P[E].name,G=P[E].handler,(I!=="konva"||w==="konva")&&(!w||I===w)&&(!x||x===G)){if(P.splice(E,1),P.length===0){delete this.eventListeners[g];break}E--}}_fireChangeEvent(g,w,x){this._fire(g+v,{oldVal:w,newVal:x})}addName(g){if(!this.hasName(g)){const w=this.name(),x=w?w+" "+g:g;this.name(x)}return this}hasName(g){if(!g)return!1;const w=this.name();return w?(w||"").split(/\s/g).indexOf(g)!==-1:!1}removeName(g){const w=(this.name()||"").split(/\s/g),x=w.indexOf(g);return x!==-1&&(w.splice(x,1),this.name(w.join(" "))),this}setAttr(g,w){const x=this[_+t.Util._capitalize(g)];return t.Util._isFunction(x)?x.call(this,w):this._setAttr(g,w),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const g=this.getLayer()||this.getStage();g==null||g.batchDraw()}}_setAttr(g,w){const x=this.attrs[g];x===w&&!t.Util.isObject(w)||(w==null?delete this.attrs[g]:this.attrs[g]=w,this._shouldFireChangeEvents&&this._fireChangeEvent(g,x,w),this._requestDraw())}_setComponentAttr(g,w,x){let P;x!==void 0&&(P=this.attrs[g],P||(this.attrs[g]=this.getAttr(g)),this.attrs[g][w]=x,this._fireChangeEvent(g,P,x))}_fireAndBubble(g,w,x){if(w&&this.nodeType===c&&(w.target=this),!((g===p||g===m)&&(x&&(this===x||this.isAncestorOf&&this.isAncestorOf(x))||this.nodeType==="Stage"&&!x))){this._fire(g,w);const E=(g===p||g===m)&&x&&x.isAncestorOf&&x.isAncestorOf(this)&&!x.isAncestorOf(this.parent);(w&&!w.cancelBubble||!w)&&this.parent&&this.parent.isListening()&&!E&&(x&&x.parent?this._fireAndBubble.call(this.parent,g,w,x):this._fireAndBubble.call(this.parent,g,w))}}_getProtoListeners(g){var w,x,P;const E=(w=this._cache.get(s))!==null&&w!==void 0?w:{};let I=E==null?void 0:E[g];if(I===void 0){I=[];let G=Object.getPrototypeOf(this);for(;G;){const V=(P=(x=G.eventListeners)===null||x===void 0?void 0:x[g])!==null&&P!==void 0?P:[];I.push(...V),G=Object.getPrototypeOf(G)}E[g]=I,this._cache.set(s,E)}return I}_fire(g,w){w=w||{},w.currentTarget=this,w.type=g;const x=this._getProtoListeners(g);if(x)for(var P=0;P<x.length;P++)x[P].handler.call(this,w);const E=this.eventListeners[g];if(E)for(var P=0;P<E.length;P++)E[P].handler.call(this,w)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(g){const w=g?g.pointerId:void 0,x=this.getStage(),P=this.getAbsolutePosition();if(!x)return;const E=x._getPointerById(w)||x._changedPointerPositions[0]||P;d.DD._dragElements.set(this._id,{node:this,startPointerPos:E,offset:{x:E.x-P.x,y:E.y-P.y},dragStatus:"ready",pointerId:w})}startDrag(g,w=!0){d.DD._dragElements.has(this._id)||this._createDragElement(g);const x=d.DD._dragElements.get(this._id);x.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:g&&g.evt},w)}_setDragPosition(g,w){const x=this.getStage()._getPointerById(w.pointerId);if(!x)return;let P={x:x.x-w.offset.x,y:x.y-w.offset.y};const E=this.dragBoundFunc();if(E!==void 0){const I=E.call(this,P,g);I?P=I:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==P.x||this._lastPos.y!==P.y)&&(this.setAbsolutePosition(P),this._requestDraw()),this._lastPos=P}stopDrag(g){const w=d.DD._dragElements.get(this._id);w&&(w.dragStatus="stopped"),d.DD._endDragBefore(g),d.DD._endDragAfter(g)}setDraggable(g){this._setAttr("draggable",g),this._dragChange()}isDragging(){const g=d.DD._dragElements.get(this._id);return g?g.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(g){if(!(!(g.evt.button!==void 0)||i.Konva.dragButtons.indexOf(g.evt.button)>=0)||this.isDragging())return;let P=!1;d.DD._dragElements.forEach(E=>{this.isAncestorOf(E.node)&&(P=!0)}),P||this._createDragElement(g)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const w=d.DD._dragElements.get(this._id),x=w&&w.dragStatus==="dragging",P=w&&w.dragStatus==="ready";x?this.stopDrag():P&&d.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(g={x:0,y:0}){const w=this.getStage();if(!w)return!1;const x={x:-g.x,y:-g.y,width:w.width()+2*g.x,height:w.height()+2*g.y};return t.Util.haveIntersection(x,this.getClientRect())}static create(g,w){return t.Util._isString(g)&&(g=JSON.parse(g)),this._createNode(g,w)}static _createNode(g,w){let x=A.prototype.getClassName.call(g),P=g.children,E,I,G;w&&(g.attrs.container=w),i.Konva[x]||(t.Util.warn('Can not find a node with class name "'+x+'". Fallback to "Shape".'),x="Shape");const V=i.Konva[x];if(E=new V(g.attrs),P)for(I=P.length,G=0;G<I;G++)E.add(A._createNode(P[G]));return E}}nn.Node=A,A.prototype.nodeType="Node",A.prototype._attrsAffectingSize=[],A.prototype.eventListeners={},A.prototype.on.call(A.prototype,F,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(l)}),A.prototype.on.call(A.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(M)}),A.prototype.on.call(A.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(a)}),A.prototype.on.call(A.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(n)});const T=e.Factory.addGetterSetter;return T(A,"zIndex"),T(A,"absolutePosition"),T(A,"position"),T(A,"x",0,(0,o.getNumberValidator)()),T(A,"y",0,(0,o.getNumberValidator)()),T(A,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),T(A,"opacity",1,(0,o.getNumberValidator)()),T(A,"name","",(0,o.getStringValidator)()),T(A,"id","",(0,o.getStringValidator)()),T(A,"rotation",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(A,"scale",["x","y"]),T(A,"scaleX",1,(0,o.getNumberValidator)()),T(A,"scaleY",1,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(A,"skew",["x","y"]),T(A,"skewX",0,(0,o.getNumberValidator)()),T(A,"skewY",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(A,"offset",["x","y"]),T(A,"offsetX",0,(0,o.getNumberValidator)()),T(A,"offsetY",0,(0,o.getNumberValidator)()),T(A,"dragDistance",null,(0,o.getNumberValidator)()),T(A,"width",0,(0,o.getNumberValidator)()),T(A,"height",0,(0,o.getNumberValidator)()),T(A,"listening",!0,(0,o.getBooleanValidator)()),T(A,"preventDefault",!0,(0,o.getBooleanValidator)()),T(A,"filters",null,function(R){return this._filterUpToDate=!1,R}),T(A,"visible",!0,(0,o.getBooleanValidator)()),T(A,"transformsEnabled","all",(0,o.getStringValidator)()),T(A,"size"),T(A,"dragBoundFunc"),T(A,"draggable",!1,(0,o.getBooleanValidator)()),e.Factory.backCompat(A,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),nn}var rn={},mo;function Er(){if(mo)return rn;mo=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.Container=void 0;const t=dt(),e=Et(),r=ut();class i extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){if(!o)return this.children||[];const n=this.children||[],s=[];return n.forEach(function(l){o(l)&&s.push(l)}),s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let s=0;s<o.length;s++)this.add(o[s]);return this}const n=o[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const n=this._generalFind(o,!0);return n.length>0?n[0]:void 0}_generalFind(o,n){const s=[];return this._descendants(l=>{const u=l._isMatch(o);return u&&s.push(l),!!(u&&n)}),s}_descendants(o){let n=!1;const s=this.getChildren();for(const l of s){if(n=o(l),n)return!0;if(l.hasChildren()&&(n=l._descendants(o),n))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(n=>{o.children.push(n.toObject())}),o}isAncestorOf(o){let n=o.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(o){const n=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(s){n.add(s.clone())}),n}getAllIntersections(o){const n=[];return this.find("Shape").forEach(s=>{s.isVisible()&&s.intersects(o)&&n.push(s)}),n}_clearSelfAndDescendantCache(o){var n;super._clearSelfAndDescendantCache(o),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(s){s._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(n,s){n.index=s}),this._requestDraw()}drawScene(o,n,s){const l=this.getLayer(),u=o||l&&l.getCanvas(),b=u&&u.getContext(),v=this._getCanvasCache(),y=v&&v.scene,f=u&&u.isCache;if(!this.isVisible()&&!f)return this;if(y){b.save();const a=this.getAbsoluteTransform(n).getMatrix();b.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedSceneCanvas(b),b.restore()}else this._drawChildren("drawScene",u,n,s);return this}drawHit(o,n){if(!this.shouldDrawHit(n))return this;const s=this.getLayer(),l=o||s&&s.hitCanvas,u=l&&l.getContext(),b=this._getCanvasCache();if(b&&b.hit){u.save();const y=this.getAbsoluteTransform(n).getMatrix();u.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,n);return this}_drawChildren(o,n,s,l){var u;const b=n&&n.getContext(),v=this.clipWidth(),y=this.clipHeight(),f=this.clipFunc(),a=typeof v=="number"&&typeof y=="number"||f,p=s===this;if(a){b.save();const _=this.getAbsoluteTransform(s);let c=_.getMatrix();b.transform(c[0],c[1],c[2],c[3],c[4],c[5]),b.beginPath();let h;if(f)h=f.call(this,b,this);else{const S=this.clipX(),C=this.clipY();b.rect(S||0,C||0,v,y)}b.clip.apply(b,h),c=_.copy().invert().getMatrix(),b.transform(c[0],c[1],c[2],c[3],c[4],c[5])}const m=!p&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";m&&(b.save(),b._applyGlobalCompositeOperation(this)),(u=this.children)===null||u===void 0||u.forEach(function(_){_[o](n,s,l)}),m&&b.restore(),a&&b.restore()}getClientRect(o={}){var n;const s=o.skipTransform,l=o.relativeTo;let u,b,v,y,f={x:1/0,y:1/0,width:0,height:0};const a=this;(n=this.children)===null||n===void 0||n.forEach(function(_){if(!_.visible())return;const c=_.getClientRect({relativeTo:a,skipShadow:o.skipShadow,skipStroke:o.skipStroke});c.width===0&&c.height===0||(u===void 0?(u=c.x,b=c.y,v=c.x+c.width,y=c.y+c.height):(u=Math.min(u,c.x),b=Math.min(b,c.y),v=Math.max(v,c.x+c.width),y=Math.max(y,c.y+c.height)))});const p=this.find("Shape");let m=!1;for(let _=0;_<p.length;_++)if(p[_]._isVisible(this)){m=!0;break}return m&&u!==void 0?f={x:u,y:b,width:v-u,height:y-b}:f={x:0,y:0,width:0,height:0},s?f:this._transformedRect(f,l)}}return rn.Container=i,t.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(i,"clipX",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipY",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipWidth",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipHeight",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipFunc"),rn}var Hr={},we={},bo;function Zs(){if(bo)return we;bo=1,Object.defineProperty(we,"__esModule",{value:!0}),we.getCapturedShape=i,we.createEvent=d,we.hasPointerCapture=o,we.setPointerCapture=n,we.releaseCapture=s;const t=ct(),e=new Map,r=t.Konva._global.PointerEvent!==void 0;function i(l){return e.get(l)}function d(l){return{evt:l,pointerId:l.pointerId}}function o(l,u){return e.get(l)===u}function n(l,u){s(l),u.getStage()&&(e.set(l,u),r&&u._fire("gotpointercapture",d(new PointerEvent("gotpointercapture"))))}function s(l,u){const b=e.get(l);if(!b)return;const v=b.getStage();v&&v.content,e.delete(l),r&&b._fire("lostpointercapture",d(new PointerEvent("lostpointercapture")))}return we}var vo;function Xd(){return vo||(vo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=At(),r=dt(),i=Er(),d=ct(),o=Tr(),n=xi(),s=ct(),l=Zs(),u="Stage",b="string",v="px",y="mouseout",f="mouseleave",a="mouseover",p="mouseenter",m="mousemove",_="mousedown",c="mouseup",h="pointermove",S="pointerdown",C="pointerup",k="pointercancel",M="lostpointercapture",F="pointerout",N="pointerleave",A="pointerover",T="pointerenter",R="contextmenu",g="touchstart",w="touchend",x="touchmove",P="touchcancel",E="wheel",I=5,G=[[p,"_pointerenter"],[_,"_pointerdown"],[m,"_pointermove"],[c,"_pointerup"],[f,"_pointerleave"],[g,"_pointerdown"],[x,"_pointermove"],[w,"_pointerup"],[P,"_pointercancel"],[a,"_pointerover"],[E,"_wheel"],[R,"_contextmenu"],[S,"_pointerdown"],[h,"_pointermove"],[C,"_pointerup"],[k,"_pointercancel"],[M,"_lostpointercapture"]],V={mouse:{[F]:y,[N]:f,[A]:a,[T]:p,[h]:m,[S]:_,[C]:c,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[F]:"touchout",[N]:"touchleave",[A]:"touchover",[T]:"touchenter",[h]:x,[S]:g,[C]:w,[k]:P,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[F]:F,[N]:N,[A]:A,[T]:T,[h]:h,[S]:S,[C]:C,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},O=Y=>Y.indexOf("pointer")>=0?"pointer":Y.indexOf("touch")>=0?"touch":"mouse",D=Y=>{const L=O(Y);if(L==="pointer")return d.Konva.pointerEventsEnabled&&V.pointer;if(L==="touch")return V.touch;if(L==="mouse")return V.mouse};function U(Y={}){return(Y.clipFunc||Y.clipWidth||Y.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Y}const z="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class q extends i.Container{constructor(L){super(U(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{U(this.attrs)}),this._checkVisibility()}_validateAdd(L){const B=L.getType()==="Layer",j=L.getType()==="FastLayer";B||j||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===b){if(L.charAt(0)==="."){const j=L.slice(1);L=document.getElementsByClassName(j)[0]}else{var B;L.charAt(0)!=="#"?B=L:B=L.slice(1),L=document.getElementById(B)}if(!L)throw"Can not find container in document with id "+B}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let L=this.children,B=L.length,j;for(j=0;j<B;j++)L[j].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,L)}destroy(){super.destroy();const L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);const B=t.stages.indexOf(this);return B>-1&&t.stages.splice(B,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn(z),null)}_getPointerById(L){return this._pointerPositions.find(B=>B.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();const B=new o.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),j=B.getContext()._context,X=this.children;return(L.x||L.y)&&j.translate(-1*L.x,-1*L.y),X.forEach(function(K){if(!K.isVisible())return;const H=K._toKonvaCanvas(L);j.drawImage(H._canvas,L.x,L.y,H.getWidth()/H.getPixelRatio(),H.getHeight()/H.getPixelRatio())}),B}getIntersection(L){if(!L)return null;let B=this.children,j=B.length,X=j-1,K;for(K=X;K>=0;K--){const H=B[K].getIntersection(L);if(H)return H}return null}_resizeDOM(){const L=this.width(),B=this.height();this.content&&(this.content.style.width=L+v,this.content.style.height=B+v),this.bufferCanvas.setSize(L,B),this.bufferHitCanvas.setSize(L,B),this.children.forEach(j=>{j.setSize({width:L,height:B}),j.draw()})}add(L,...B){if(arguments.length>1){for(let X=0;X<arguments.length;X++)this.add(arguments[X]);return this}super.add(L);const j=this.children.length;return j>I&&e.Util.warn("The stage has "+j+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),d.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return l.hasPointerCapture(L,this)}setPointerCapture(L){l.setPointerCapture(L,this)}releaseCapture(L){l.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){d.Konva.isBrowser&&G.forEach(([L,B])=>{this.content.addEventListener(L,j=>{this[B](j)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const B=D(L.type);B&&this._fire(B.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const B=D(L.type);B&&this._fire(B.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let B=this[L+"targetShape"];return B&&!B.getStage()&&(B=null),B}_pointerleave(L){const B=D(L.type),j=O(L.type);if(!B)return;this.setPointersPositions(L);const X=this._getTargetShape(j),K=!(d.Konva.isDragging()||d.Konva.isTransforming())||d.Konva.hitOnDragEnabled;X&&K?(X._fireAndBubble(B.pointerout,{evt:L}),X._fireAndBubble(B.pointerleave,{evt:L}),this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this[j+"targetShape"]=null):K&&(this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(B.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(L){const B=D(L.type),j=O(L.type);if(!B)return;this.setPointersPositions(L);let X=!1;this._changedPointerPositions.forEach(K=>{const H=this.getIntersection(K);if(n.DD.justDragged=!1,d.Konva["_"+j+"ListenClick"]=!0,!H||!H.isListening()){this[j+"ClickStartShape"]=void 0;return}d.Konva.capturePointerEventsEnabled&&H.setPointerCapture(K.id),this[j+"ClickStartShape"]=H,H._fireAndBubble(B.pointerdown,{evt:L,pointerId:K.id}),X=!0;const Q=L.type.indexOf("touch")>=0;H.preventDefault()&&L.cancelable&&Q&&L.preventDefault()}),X||this._fire(B.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(L){const B=D(L.type),j=O(L.type);if(!B||(d.Konva.isDragging()&&n.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L),!(!(d.Konva.isDragging()||d.Konva.isTransforming())||d.Konva.hitOnDragEnabled)))return;const K={};let H=!1;const Q=this._getTargetShape(j);this._changedPointerPositions.forEach($=>{const J=l.getCapturedShape($.id)||this.getIntersection($),ht=$.id,tt={evt:L,pointerId:ht},nt=Q!==J;if(nt&&Q&&(Q._fireAndBubble(B.pointerout,{...tt},J),Q._fireAndBubble(B.pointerleave,{...tt},J)),J){if(K[J._id])return;K[J._id]=!0}J&&J.isListening()?(H=!0,nt&&(J._fireAndBubble(B.pointerover,{...tt},Q),J._fireAndBubble(B.pointerenter,{...tt},Q),this[j+"targetShape"]=J),J._fireAndBubble(B.pointermove,{...tt})):Q&&(this._fire(B.pointerover,{evt:L,target:this,currentTarget:this,pointerId:ht}),this[j+"targetShape"]=null)}),H||this._fire(B.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const B=D(L.type),j=O(L.type);if(!B)return;this.setPointersPositions(L);const X=this[j+"ClickStartShape"],K=this[j+"ClickEndShape"],H={};let Q=!1;this._changedPointerPositions.forEach($=>{const J=l.getCapturedShape($.id)||this.getIntersection($);if(J){if(J.releaseCapture($.id),H[J._id])return;H[J._id]=!0}const ht=$.id,tt={evt:L,pointerId:ht};let nt=!1;d.Konva["_"+j+"InDblClickWindow"]?(nt=!0,clearTimeout(this[j+"DblTimeout"])):n.DD.justDragged||(d.Konva["_"+j+"InDblClickWindow"]=!0,clearTimeout(this[j+"DblTimeout"])),this[j+"DblTimeout"]=setTimeout(function(){d.Konva["_"+j+"InDblClickWindow"]=!1},d.Konva.dblClickWindow),J&&J.isListening()?(Q=!0,this[j+"ClickEndShape"]=J,J._fireAndBubble(B.pointerup,{...tt}),d.Konva["_"+j+"ListenClick"]&&X&&X===J&&(J._fireAndBubble(B.pointerclick,{...tt}),nt&&K&&K===J&&J._fireAndBubble(B.pointerdblclick,{...tt}))):(this[j+"ClickEndShape"]=null,d.Konva["_"+j+"ListenClick"]&&this._fire(B.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:ht}),nt&&this._fire(B.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:ht}))}),Q||this._fire(B.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d.Konva["_"+j+"ListenClick"]=!1,L.cancelable&&j!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);const B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(R,{evt:L}):this._fire(R,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);const B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(E,{evt:L}):this._fire(E,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const B=l.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());B&&B._fireAndBubble(C,l.createEvent(L)),l.releaseCapture(L.pointerId)}_lostpointercapture(L){l.releaseCapture(L.pointerId)}setPointersPositions(L){let B=this._getContentPosition(),j=null,X=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,K=>{this._pointerPositions.push({id:K.identifier,x:(K.clientX-B.left)/B.scaleX,y:(K.clientY-B.top)/B.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,K=>{this._changedPointerPositions.push({id:K.identifier,x:(K.clientX-B.left)/B.scaleX,y:(K.clientY-B.top)/B.scaleY})})):(j=(L.clientX-B.left)/B.scaleX,X=(L.clientY-B.top)/B.scaleY,this.pointerPos={x:j,y:X},this._pointerPositions=[{x:j,y:X,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:j,y:X,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!d.Konva.isBrowser)return;const L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}t.Stage=q,q.prototype.nodeType=u,(0,s._registerNode)(q),r.Factory.addGetterSetter(q,"container"),d.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(Y=>{Y.batchDraw()})})}(Hr)),Hr}var on={},qr={},yo;function Lt(){return yo||(yo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ct(),r=At(),i=dt(),d=Et(),o=ut(),n=ct(),s=Zs(),l="hasShadow",u="shadowRGBA",b="patternImage",v="linearGradient",y="radialGradient";let f;function a(){return f||(f=r.Util.createCanvasElement().getContext("2d"),f)}t.shapes={};function p(N){const A=this.attrs.fillRule;A?N.fill(A):N.fill()}function m(N){N.stroke()}function _(N){const A=this.attrs.fillRule;A?N.fill(A):N.fill()}function c(N){N.stroke()}function h(){this._clearCache(l)}function S(){this._clearCache(u)}function C(){this._clearCache(b)}function k(){this._clearCache(v)}function M(){this._clearCache(y)}class F extends d.Node{constructor(A){super(A);let T;for(;T=r.Util.getRandomColor(),!(T&&!(T in t.shapes)););this.colorKey=T,t.shapes[T]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(b,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const T=a().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(T&&T.setTransform){const R=new r.Transform;R.translate(this.fillPatternX(),this.fillPatternY()),R.rotate(e.Konva.getAngle(this.fillPatternRotation())),R.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),R.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const g=R.getMatrix(),w=typeof DOMMatrix>"u"?{a:g[0],b:g[1],c:g[2],d:g[3],e:g[4],f:g[5]}:new DOMMatrix(g);T.setTransform(w)}return T}}_getLinearGradient(){return this._getCache(v,this.__getLinearGradient)}__getLinearGradient(){const A=this.fillLinearGradientColorStops();if(A){const T=a(),R=this.fillLinearGradientStartPoint(),g=this.fillLinearGradientEndPoint(),w=T.createLinearGradient(R.x,R.y,g.x,g.y);for(let x=0;x<A.length;x+=2)w.addColorStop(A[x],A[x+1]);return w}}_getRadialGradient(){return this._getCache(y,this.__getRadialGradient)}__getRadialGradient(){const A=this.fillRadialGradientColorStops();if(A){const T=a(),R=this.fillRadialGradientStartPoint(),g=this.fillRadialGradientEndPoint(),w=T.createRadialGradient(R.x,R.y,this.fillRadialGradientStartRadius(),g.x,g.y,this.fillRadialGradientEndRadius());for(let x=0;x<A.length;x+=2)w.addColorStop(A[x],A[x+1]);return w}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const A=r.Util.colorToRGBA(this.shadowColor());if(A)return"rgba("+A.r+","+A.g+","+A.b+","+A.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const A=this.hitStrokeWidth();return A==="auto"?this.hasStroke():this.strokeEnabled()&&!!A}intersects(A){const T=this.getStage();if(!T)return!1;const R=T.bufferHitCanvas;return R.getContext().clear(),this.drawHit(R,void 0,!0),R.context.getImageData(Math.round(A.x),Math.round(A.y),1,1).data[3]>0}destroy(){return d.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(A){var T;if(!((T=this.attrs.perfectDrawEnabled)!==null&&T!==void 0?T:!0))return!1;const g=A||this.hasFill(),w=this.hasStroke(),x=this.getAbsoluteOpacity()!==1;if(g&&w&&x)return!0;const P=this.hasShadow(),E=this.shadowForStrokeEnabled();return!!(g&&w&&P&&E)}setStrokeHitEnabled(A){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),A?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const A=this.size();return{x:this._centroid?-A.width/2:0,y:this._centroid?-A.height/2:0,width:A.width,height:A.height}}getClientRect(A={}){let T=!1,R=this.getParent();for(;R;){if(R.isCached()){T=!0;break}R=R.getParent()}const g=A.skipTransform,w=A.relativeTo||T&&this.getStage()||void 0,x=this.getSelfRect(),E=!A.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,I=x.width+E,G=x.height+E,V=!A.skipShadow&&this.hasShadow(),O=V?this.shadowOffsetX():0,D=V?this.shadowOffsetY():0,U=I+Math.abs(O),z=G+Math.abs(D),q=V&&this.shadowBlur()||0,Y=U+q*2,L=z+q*2,B={width:Y,height:L,x:-(E/2+q)+Math.min(O,0)+x.x,y:-(E/2+q)+Math.min(D,0)+x.y};return g?B:this._transformedRect(B,w)}drawScene(A,T,R){const g=this.getLayer();let w=A||g.getCanvas(),x=w.getContext(),P=this._getCanvasCache(),E=this.getSceneFunc(),I=this.hasShadow(),G,V;const O=w.isCache,D=T===this;if(!this.isVisible()&&!D)return this;if(P){x.save();const z=this.getAbsoluteTransform(T).getMatrix();return x.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedSceneCanvas(x),x.restore(),this}if(!E)return this;if(x.save(),this._useBufferCanvas()&&!O){G=this.getStage();const z=R||G.bufferCanvas;V=z.getContext(),V.clear(),V.save(),V._applyLineJoin(this);var U=this.getAbsoluteTransform(T).getMatrix();V.transform(U[0],U[1],U[2],U[3],U[4],U[5]),E.call(this,V,this),V.restore();const q=z.pixelRatio;I&&x._applyShadow(this),x._applyOpacity(this),x._applyGlobalCompositeOperation(this),x.drawImage(z._canvas,0,0,z.width/q,z.height/q)}else{if(x._applyLineJoin(this),!D){var U=this.getAbsoluteTransform(T).getMatrix();x.transform(U[0],U[1],U[2],U[3],U[4],U[5]),x._applyOpacity(this),x._applyGlobalCompositeOperation(this)}I&&x._applyShadow(this),E.call(this,x,this)}return x.restore(),this}drawHit(A,T,R=!1){if(!this.shouldDrawHit(T,R))return this;const g=this.getLayer(),w=A||g.hitCanvas,x=w&&w.getContext(),P=this.hitFunc()||this.sceneFunc(),E=this._getCanvasCache(),I=E&&E.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){x.save();const V=this.getAbsoluteTransform(T).getMatrix();return x.transform(V[0],V[1],V[2],V[3],V[4],V[5]),this._drawCachedHitCanvas(x),x.restore(),this}if(!P)return this;if(x.save(),x._applyLineJoin(this),!(this===T)){const V=this.getAbsoluteTransform(T).getMatrix();x.transform(V[0],V[1],V[2],V[3],V[4],V[5])}return P.call(this,x,this),x.restore(),this}drawHitFromCache(A=0){let T=this._getCanvasCache(),R=this._getCachedSceneCanvas(),g=T.hit,w=g.getContext(),x=g.getWidth(),P=g.getHeight(),E,I,G,V,O,D;w.clear(),w.drawImage(R._canvas,0,0,x,P);try{for(E=w.getImageData(0,0,x,P),I=E.data,G=I.length,V=r.Util._hexToRgb(this.colorKey),O=0;O<G;O+=4)D=I[O+3],D>A?(I[O]=V.r,I[O+1]=V.g,I[O+2]=V.b,I[O+3]=255):I[O+3]=0;w.putImageData(E,0,0)}catch(U){r.Util.error("Unable to draw hit graph from cached scene canvas. "+U.message)}return this}hasPointerCapture(A){return s.hasPointerCapture(A,this)}setPointerCapture(A){s.setPointerCapture(A,this)}releaseCapture(A){s.releaseCapture(A,this)}}t.Shape=F,F.prototype._fillFunc=p,F.prototype._strokeFunc=m,F.prototype._fillFuncHit=_,F.prototype._strokeFuncHit=c,F.prototype._centroid=!1,F.prototype.nodeType="Shape",(0,n._registerNode)(F),F.prototype.eventListeners={},F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h),F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),i.Factory.addGetterSetter(F,"stroke",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(F,"strokeWidth",2,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(F,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(F,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(F,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(F,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(F,"lineJoin"),i.Factory.addGetterSetter(F,"lineCap"),i.Factory.addGetterSetter(F,"sceneFunc"),i.Factory.addGetterSetter(F,"hitFunc"),i.Factory.addGetterSetter(F,"dash"),i.Factory.addGetterSetter(F,"dashOffset",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"shadowColor",void 0,(0,o.getStringValidator)()),i.Factory.addGetterSetter(F,"shadowBlur",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"shadowOpacity",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(F,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(F,"shadowOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"shadowOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternImage"),i.Factory.addGetterSetter(F,"fill",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(F,"fillPatternX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(F,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(F,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(F,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(F,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(F,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(F,"fillEnabled",!0),i.Factory.addGetterSetter(F,"strokeEnabled",!0),i.Factory.addGetterSetter(F,"shadowEnabled",!0),i.Factory.addGetterSetter(F,"dashEnabled",!0),i.Factory.addGetterSetter(F,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(F,"fillPriority","color"),i.Factory.addComponentsGetterSetter(F,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(F,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(F,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(F,"fillPatternScaleX",1,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternScaleY",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(F,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(F,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(F,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(F,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(F,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(F,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(F,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(F,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(F,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(F,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(F,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(F,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(F,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(F,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(F,"fillPatternRotation",0),i.Factory.addGetterSetter(F,"fillRule",void 0,(0,o.getStringValidator)()),i.Factory.backCompat(F,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(qr)),qr}var _o;function $s(){if(_o)return on;_o=1,Object.defineProperty(on,"__esModule",{value:!0}),on.Layer=void 0;const t=At(),e=Er(),r=Et(),i=dt(),d=Tr(),o=ut(),n=Lt(),s=ct(),l="#",u="beforeDraw",b="draw",v=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],y=v.length;class f extends e.Container{constructor(p){super(p),this.canvas=new d.SceneCanvas,this.hitCanvas=new d.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(p){return this.getContext().clear(p),this.getHitCanvas().getContext().clear(p),this}setZIndex(p){super.setZIndex(p);const m=this.getStage();return m&&m.content&&(m.content.removeChild(this.getNativeCanvasElement()),p<m.children.length-1?m.content.insertBefore(this.getNativeCanvasElement(),m.children[p+1].getCanvas()._canvas):m.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);const p=this.getStage();return p&&p.content&&(p.content.removeChild(this.getNativeCanvasElement()),p.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;const m=this.getStage();return!m||!m.content?!1:(m.content.removeChild(this.getNativeCanvasElement()),this.index<m.children.length-1?m.content.insertBefore(this.getNativeCanvasElement(),m.children[this.index+1].getCanvas()._canvas):m.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){const p=this.getStage();if(p){const m=p.children;p.content&&(p.content.removeChild(this.getNativeCanvasElement()),p.content.insertBefore(this.getNativeCanvasElement(),m[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){const p=this.getStage();if(p){const m=p.children;p.content&&(p.content.removeChild(this.getNativeCanvasElement()),p.content.insertBefore(this.getNativeCanvasElement(),m[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const p=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),p&&p.parentNode&&t.Util._isInDocument(p)&&p.parentNode.removeChild(p),this}getStage(){return this.parent}setSize({width:p,height:m}){return this.canvas.setSize(p,m),this.hitCanvas.setSize(p,m),this._setSmoothEnabled(),this}_validateAdd(p){const m=p.getType();m!=="Group"&&m!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(p){return p=p||{},p.width=p.width||this.getWidth(),p.height=p.height||this.getHeight(),p.x=p.x!==void 0?p.x:this.x(),p.y=p.y!==void 0?p.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,p)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(p){if(!this.isListening()||!this.isVisible())return null;let m=1,_=!1;for(;;){for(let c=0;c<y;c++){const h=v[c],S=this._getIntersection({x:p.x+h.x*m,y:p.y+h.y*m}),C=S.shape;if(C)return C;if(_=!!S.antialiased,!S.antialiased)break}if(_)m+=1;else return null}}_getIntersection(p){const m=this.hitCanvas.pixelRatio,_=this.hitCanvas.context.getImageData(Math.round(p.x*m),Math.round(p.y*m),1,1).data,c=_[3];if(c===255){const h=t.Util._rgbToHex(_[0],_[1],_[2]),S=n.shapes[l+h];return S?{shape:S}:{antialiased:!0}}else if(c>0)return{antialiased:!0};return{}}drawScene(p,m){const _=this.getLayer(),c=p||_&&_.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&c.getContext().clear(),e.Container.prototype.drawScene.call(this,c,m),this._fire(b,{node:this}),this}drawHit(p,m){const _=this.getLayer(),c=p||_&&_.hitCanvas;return _&&_.clearBeforeDraw()&&_.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,c,m),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(p){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(p)}getHitGraphEnabled(p){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const p=this.parent;!!this.hitCanvas._canvas.parentNode?p.content.removeChild(this.hitCanvas._canvas):p.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return on.Layer=f,f.prototype.nodeType="Layer",(0,s._registerNode)(f),i.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(f,"clearBeforeDraw",!0),i.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),on}var sn={},wo;function Kd(){if(wo)return sn;wo=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.FastLayer=void 0;const t=At(),e=$s(),r=ct();let i=class extends e.Layer{constructor(o){super(o),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return sn.FastLayer=i,i.prototype.nodeType="FastLayer",(0,r._registerNode)(i),sn}var an={},So;function Ci(){if(So)return an;So=1,Object.defineProperty(an,"__esModule",{value:!0}),an.Group=void 0;const t=At(),e=Er(),r=ct();class i extends e.Container{_validateAdd(o){const n=o.getType();n!=="Group"&&n!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}}return an.Group=i,i.prototype.nodeType="Group",(0,r._registerNode)(i),an}var ln={},xo;function Ai(){if(xo)return ln;xo=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.Animation=void 0;const t=ct(),e=At(),r=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class Le{constructor(o,n){this.id=Le.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=o,this.setLayers(n)}setLayers(o){let n=[];return o&&(n=Array.isArray(o)?o:[o]),this.layers=n,this}getLayers(){return this.layers}addLayer(o){const n=this.layers,s=n.length;for(let l=0;l<s;l++)if(n[l]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const n=Le.animations,s=n.length;for(let l=0;l<s;l++)if(n[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),Le._addAnimation(this),this}stop(){return Le._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const n=o.id,s=this.animations,l=s.length;for(let u=0;u<l;u++)if(s[u].id===n){this.animations.splice(u,1);break}}static _runFrames(){const o={},n=this.animations;for(let s=0;s<n.length;s++){const l=n[s],u=l.layers,b=l.func;l._updateFrameObject(r());const v=u.length;let y;if(b?y=b.call(l,l.frame)!==!1:y=!0,!!y)for(let f=0;f<v;f++){const a=u[f];a._id!==void 0&&(o[a._id]=a)}}for(const s in o)o.hasOwnProperty(s)&&o[s].batchDraw()}static _animationLoop(){const o=Le;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return ln.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,ln}var Wr={},Co;function Qd(){return Co||(Co=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=At(),r=Ai(),i=Et(),d=ct();let o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},n=1,s=2,l=3,u=0,b=["fill","stroke","shadowColor"];class v{constructor(a,p,m,_,c,h,S){this.prop=a,this.propFunc=p,this.begin=_,this._pos=_,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=S,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=m,this._change=c-this.begin,this.pause()}fire(a){const p=this[a];p&&p()}setTime(a){a>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():a<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=a,this.update())}getTime(){return this._time}setPosition(a){this.prevPos=this._pos,this.propFunc(a),this._pos=a}getPosition(a){return a===void 0&&(a=this._time),this.func(a,this.begin,this._change,this.duration)}play(){this.state=s,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(a){this.pause(),this._time=a,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const a=this.getTimer()-this._startTime;this.state===s?this.setTime(a):this.state===l&&this.setTime(this.duration-a)}pause(){this.state=n,this.fire("onPause")}getTimer(){return new Date().getTime()}}class y{constructor(a){let p=this,m=a.node,_=m._id,c,h=a.easing||t.Easings.Linear,S=!!a.yoyo,C;typeof a.duration>"u"?c=.3:a.duration===0?c=.001:c=a.duration,this.node=m,this._id=u++;const k=m.getLayer()||(m instanceof d.Konva.Stage?m.getLayers():null);k||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){p.tween.onEnterFrame()},k),this.tween=new v(C,function(M){p._tweenFunc(M)},h,0,1,c*1e3,S),this._addListeners(),y.attrs[_]||(y.attrs[_]={}),y.attrs[_][this._id]||(y.attrs[_][this._id]={}),y.tweens[_]||(y.tweens[_]={});for(C in a)o[C]===void 0&&this._addAttr(C,a[C]);this.reset(),this.onFinish=a.onFinish,this.onReset=a.onReset,this.onUpdate=a.onUpdate}_addAttr(a,p){let m=this.node,_=m._id,c,h,S,C,k,M,F,N;if(S=y.tweens[_][a],S&&delete y.attrs[_][S][a],c=m.getAttr(a),e.Util._isArray(p))if(h=[],k=Math.max(p.length,c.length),a==="points"&&p.length!==c.length&&(p.length>c.length?(F=c,c=e.Util._prepareArrayForTween(c,p,m.closed())):(M=p,p=e.Util._prepareArrayForTween(p,c,m.closed()))),a.indexOf("fill")===0)for(C=0;C<k;C++)if(C%2===0)h.push(p[C]-c[C]);else{const A=e.Util.colorToRGBA(c[C]);N=e.Util.colorToRGBA(p[C]),c[C]=A,h.push({r:N.r-A.r,g:N.g-A.g,b:N.b-A.b,a:N.a-A.a})}else for(C=0;C<k;C++)h.push(p[C]-c[C]);else b.indexOf(a)!==-1?(c=e.Util.colorToRGBA(c),N=e.Util.colorToRGBA(p),h={r:N.r-c.r,g:N.g-c.g,b:N.b-c.b,a:N.a-c.a}):h=p-c;y.attrs[_][this._id][a]={start:c,diff:h,end:p,trueEnd:M,trueStart:F},y.tweens[_][a]=this._id}_tweenFunc(a){let p=this.node,m=y.attrs[p._id][this._id],_,c,h,S,C,k,M,F;for(_ in m){if(c=m[_],h=c.start,S=c.diff,F=c.end,e.Util._isArray(h))if(C=[],M=Math.max(h.length,F.length),_.indexOf("fill")===0)for(k=0;k<M;k++)k%2===0?C.push((h[k]||0)+S[k]*a):C.push("rgba("+Math.round(h[k].r+S[k].r*a)+","+Math.round(h[k].g+S[k].g*a)+","+Math.round(h[k].b+S[k].b*a)+","+(h[k].a+S[k].a*a)+")");else for(k=0;k<M;k++)C.push((h[k]||0)+S[k]*a);else b.indexOf(_)!==-1?C="rgba("+Math.round(h.r+S.r*a)+","+Math.round(h.g+S.g*a)+","+Math.round(h.b+S.b*a)+","+(h.a+S.a*a)+")":C=h+S*a;p.setAttr(_,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const a=this.node,p=y.attrs[a._id][this._id];p.points&&p.points.trueEnd&&a.setAttr("points",p.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const a=this.node,p=y.attrs[a._id][this._id];p.points&&p.points.trueStart&&a.points(p.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(a){return this.tween.seek(a*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let a=this.node._id,p=this._id,m=y.tweens[a],_;this.pause();for(_ in m)delete y.tweens[a][_];delete y.attrs[a][p]}}t.Tween=y,y.attrs={},y.tweens={},i.Node.prototype.to=function(f){const a=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),a&&a()},new y(f).play()},t.Easings={BackEaseIn(f,a,p,m){return p*(f/=m)*f*((1.70158+1)*f-1.70158)+a},BackEaseOut(f,a,p,m){return p*((f=f/m-1)*f*((1.70158+1)*f+1.70158)+1)+a},BackEaseInOut(f,a,p,m){let _=1.70158;return(f/=m/2)<1?p/2*(f*f*(((_*=1.525)+1)*f-_))+a:p/2*((f-=2)*f*(((_*=1.525)+1)*f+_)+2)+a},ElasticEaseIn(f,a,p,m,_,c){let h=0;return f===0?a:(f/=m)===1?a+p:(c||(c=m*.3),!_||_<Math.abs(p)?(_=p,h=c/4):h=c/(2*Math.PI)*Math.asin(p/_),-(_*Math.pow(2,10*(f-=1))*Math.sin((f*m-h)*(2*Math.PI)/c))+a)},ElasticEaseOut(f,a,p,m,_,c){let h=0;return f===0?a:(f/=m)===1?a+p:(c||(c=m*.3),!_||_<Math.abs(p)?(_=p,h=c/4):h=c/(2*Math.PI)*Math.asin(p/_),_*Math.pow(2,-10*f)*Math.sin((f*m-h)*(2*Math.PI)/c)+p+a)},ElasticEaseInOut(f,a,p,m,_,c){let h=0;return f===0?a:(f/=m/2)===2?a+p:(c||(c=m*(.3*1.5)),!_||_<Math.abs(p)?(_=p,h=c/4):h=c/(2*Math.PI)*Math.asin(p/_),f<1?-.5*(_*Math.pow(2,10*(f-=1))*Math.sin((f*m-h)*(2*Math.PI)/c))+a:_*Math.pow(2,-10*(f-=1))*Math.sin((f*m-h)*(2*Math.PI)/c)*.5+p+a)},BounceEaseOut(f,a,p,m){return(f/=m)<1/2.75?p*(7.5625*f*f)+a:f<2/2.75?p*(7.5625*(f-=1.5/2.75)*f+.75)+a:f<2.5/2.75?p*(7.5625*(f-=2.25/2.75)*f+.9375)+a:p*(7.5625*(f-=2.625/2.75)*f+.984375)+a},BounceEaseIn(f,a,p,m){return p-t.Easings.BounceEaseOut(m-f,0,p,m)+a},BounceEaseInOut(f,a,p,m){return f<m/2?t.Easings.BounceEaseIn(f*2,0,p,m)*.5+a:t.Easings.BounceEaseOut(f*2-m,0,p,m)*.5+p*.5+a},EaseIn(f,a,p,m){return p*(f/=m)*f+a},EaseOut(f,a,p,m){return-p*(f/=m)*(f-2)+a},EaseInOut(f,a,p,m){return(f/=m/2)<1?p/2*f*f+a:-p/2*(--f*(f-2)-1)+a},StrongEaseIn(f,a,p,m){return p*(f/=m)*f*f*f*f+a},StrongEaseOut(f,a,p,m){return p*((f=f/m-1)*f*f*f*f+1)+a},StrongEaseInOut(f,a,p,m){return(f/=m/2)<1?p/2*f*f*f*f*f+a:p/2*((f-=2)*f*f*f*f+2)+a},Linear(f,a,p,m){return p*f/m+a}}}(Wr)),Wr}var Ao;function Jd(){return Ao||(Ao=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ct(),r=At(),i=Et(),d=Er(),o=Xd(),n=$s(),s=Kd(),l=Ci(),u=xi(),b=Lt(),v=Ai(),y=Qd(),f=Js(),a=Tr();t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:d.Container,Stage:o.Stage,stages:o.stages,Layer:n.Layer,FastLayer:s.FastLayer,Group:l.Group,DD:u.DD,Shape:b.Shape,shapes:b.shapes,Animation:v.Animation,Tween:y.Tween,Easings:y.Easings,Context:f.Context,Canvas:a.Canvas}),t.default=t.Konva}(Br)),Br}var cn={},ko;function Zd(){if(ko)return cn;ko=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.Arc=void 0;const t=dt(),e=Lt(),r=ct(),i=ut(),d=ct();let o=class extends e.Shape{_sceneFunc(s){const l=r.Konva.getAngle(this.angle()),u=this.clockwise();s.beginPath(),s.arc(0,0,this.outerRadius(),0,l,u),s.arc(0,0,this.innerRadius(),l,0,!u),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}getSelfRect(){const s=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),b=r.Konva.getAngle(u?360-this.angle():this.angle()),v=Math.cos(Math.min(b,Math.PI)),y=1,f=Math.sin(Math.min(Math.max(Math.PI,b),3*Math.PI/2)),a=Math.sin(Math.min(b,Math.PI/2)),p=v*(v>0?s:l),m=y*l,_=f*(f>0?s:l),c=a*(a>0?l:s);return{x:p,y:u?-1*c:_,width:m-p,height:c-_}}};return cn.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,d._registerNode)(o),t.Factory.addGetterSetter(o,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"outerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"clockwise",!1,(0,i.getBooleanValidator)()),cn}var dn={},un={},Po;function ta(){if(Po)return un;Po=1,Object.defineProperty(un,"__esModule",{value:!0}),un.Line=void 0;const t=dt(),e=ct(),r=Lt(),i=ut();function d(s,l,u,b,v,y,f){const a=Math.sqrt(Math.pow(u-s,2)+Math.pow(b-l,2)),p=Math.sqrt(Math.pow(v-u,2)+Math.pow(y-b,2)),m=f*a/(a+p),_=f*p/(a+p),c=u-m*(v-s),h=b-m*(y-l),S=u+_*(v-s),C=b+_*(y-l);return[c,h,S,C]}function o(s,l){const u=s.length,b=[];for(let v=2;v<u-2;v+=2){const y=d(s[v-2],s[v-1],s[v],s[v+1],s[v+2],s[v+3],l);isNaN(y[0])||(b.push(y[0]),b.push(y[1]),b.push(s[v]),b.push(s[v+1]),b.push(y[2]),b.push(y[3]))}return b}let n=class extends r.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let u=this.points(),b=u.length,v=this.tension(),y=this.closed(),f=this.bezier(),a,p,m;if(b){if(l.beginPath(),l.moveTo(u[0],u[1]),v!==0&&b>4){for(a=this.getTensionPoints(),p=a.length,m=y?0:4,y||l.quadraticCurveTo(a[0],a[1],a[2],a[3]);m<p-2;)l.bezierCurveTo(a[m++],a[m++],a[m++],a[m++],a[m++],a[m++]);y||l.quadraticCurveTo(a[p-2],a[p-1],u[b-2],u[b-1])}else if(f)for(m=2;m<b;)l.bezierCurveTo(u[m++],u[m++],u[m++],u[m++],u[m++],u[m++]);else for(m=2;m<b;m+=2)l.lineTo(u[m],u[m+1]);y?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),u=l.length,b=this.tension(),v=d(l[u-2],l[u-1],l[0],l[1],l[2],l[3],b),y=d(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],b),f=o(l,b);return[v[2],v[3]].concat(f).concat([y[0],y[1],l[u-2],l[u-1],y[2],y[3],v[0],v[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let u=l[0],b=l[0],v=l[1],y=l[1],f,a;for(let p=0;p<l.length/2;p++)f=l[p*2],a=l[p*2+1],u=Math.min(u,f),b=Math.max(b,f),v=Math.min(v,a),y=Math.max(y,a);return{x:u,y:v,width:b-u,height:y-v}}};return un.Line=n,n.prototype.className="Line",n.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(n),t.Factory.addGetterSetter(n,"closed",!1),t.Factory.addGetterSetter(n,"bezier",!1),t.Factory.addGetterSetter(n,"tension",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"points",[],(0,i.getNumberArrayValidator)()),un}var hn={},Yr={},To;function $d(){return To||(To=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(n,s,l)=>{let u,b;const y=l/2;u=0;for(let f=0;f<20;f++)b=y*t.tValues[20][f]+y,u+=t.cValues[20][f]*i(n,s,b);return y*u};t.getCubicArcLength=e;const r=(n,s,l)=>{l===void 0&&(l=1);const u=n[0]-2*n[1]+n[2],b=s[0]-2*s[1]+s[2],v=2*n[1]-2*n[0],y=2*s[1]-2*s[0],f=4*(u*u+b*b),a=4*(u*v+b*y),p=v*v+y*y;if(f===0)return l*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(s[2]-s[0],2));const m=a/(2*f),_=p/f,c=l+m,h=_-m*m,S=c*c+h>0?Math.sqrt(c*c+h):0,C=m*m+h>0?Math.sqrt(m*m+h):0,k=m+Math.sqrt(m*m+h)!==0?h*Math.log(Math.abs((c+S)/(m+C))):0;return Math.sqrt(f)/2*(c*S-m*C+k)};t.getQuadraticArcLength=r;function i(n,s,l){const u=d(1,l,n),b=d(1,l,s),v=u*u+b*b;return Math.sqrt(v)}const d=(n,s,l)=>{const u=l.length-1;let b,v;if(u===0)return 0;if(n===0){v=0;for(let y=0;y<=u;y++)v+=t.binomialCoefficients[u][y]*Math.pow(1-s,u-y)*Math.pow(s,y)*l[y];return v}else{b=new Array(u);for(let y=0;y<u;y++)b[y]=u*(l[y+1]-l[y]);return d(n-1,s,b)}},o=(n,s,l)=>{let u=1,b=n/s,v=(n-l(b))/s,y=0;for(;u>.001;){const f=l(b+v),a=Math.abs(n-f)/s;if(a<u)u=a,b+=v;else{const p=l(b-v),m=Math.abs(n-p)/s;m<u?(u=m,b-=v):v/=2}if(y++,y>500)break}return b};t.t2length=o}(Yr)),Yr}var Eo;function ki(){if(Eo)return hn;Eo=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.Path=void 0;const t=dt(),e=Lt(),r=ct(),i=$d();let d=class jt extends e.Shape{constructor(n){super(n),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=jt.parsePathData(this.data()),this.pathLength=jt.getPathLength(this.dataArray)}_sceneFunc(n){const s=this.dataArray;n.beginPath();let l=!1;for(let S=0;S<s.length;S++){const C=s[S].command,k=s[S].points;switch(C){case"L":n.lineTo(k[0],k[1]);break;case"M":n.moveTo(k[0],k[1]);break;case"C":n.bezierCurveTo(k[0],k[1],k[2],k[3],k[4],k[5]);break;case"Q":n.quadraticCurveTo(k[0],k[1],k[2],k[3]);break;case"A":var u=k[0],b=k[1],v=k[2],y=k[3],f=k[4],a=k[5],p=k[6],m=k[7],_=v>y?v:y,c=v>y?1:v/y,h=v>y?y/v:1;n.translate(u,b),n.rotate(p),n.scale(c,h),n.arc(0,0,_,f,f+a,1-m),n.scale(1/c,1/h),n.rotate(-p),n.translate(-u,-b);break;case"z":l=!0,n.closePath();break}}!l&&!this.hasFill()?n.strokeShape(this):n.fillStrokeShape(this)}getSelfRect(){let n=[];this.dataArray.forEach(function(f){if(f.command==="A"){const a=f.points[4],p=f.points[5],m=f.points[4]+p;let _=Math.PI/180;if(Math.abs(a-m)<_&&(_=Math.abs(a-m)),p<0)for(let c=a-_;c>m;c-=_){const h=jt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],c,0);n.push(h.x,h.y)}else for(let c=a+_;c<m;c+=_){const h=jt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],c,0);n.push(h.x,h.y)}}else if(f.command==="C")for(let a=0;a<=1;a+=.01){const p=jt.getPointOnCubicBezier(a,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);n.push(p.x,p.y)}else n=n.concat(f.points)});let s=n[0],l=n[0],u=n[1],b=n[1],v,y;for(let f=0;f<n.length/2;f++)v=n[f*2],y=n[f*2+1],isNaN(v)||(s=Math.min(s,v),l=Math.max(l,v)),isNaN(y)||(u=Math.min(u,y),b=Math.max(b,y));return{x:s,y:u,width:l-s,height:b-u}}getLength(){return this.pathLength}getPointAtLength(n){return jt.getPointAtLengthOfDataArray(n,this.dataArray)}static getLineLength(n,s,l,u){return Math.sqrt((l-n)*(l-n)+(u-s)*(u-s))}static getPathLength(n){let s=0;for(let l=0;l<n.length;++l)s+=n[l].pathLength;return s}static getPointAtLengthOfDataArray(n,s){let l,u=0,b=s.length;if(!b)return null;for(;u<b&&n>s[u].pathLength;)n-=s[u].pathLength,++u;if(u===b)return l=s[u-1].points.slice(-2),{x:l[0],y:l[1]};if(n<.01)return l=s[u].points.slice(0,2),{x:l[0],y:l[1]};const v=s[u],y=v.points;switch(v.command){case"L":return jt.getPointOnLine(n,v.start.x,v.start.y,y[0],y[1]);case"C":return jt.getPointOnCubicBezier((0,i.t2length)(n,jt.getPathLength(s),S=>(0,i.getCubicArcLength)([v.start.x,y[0],y[2],y[4]],[v.start.y,y[1],y[3],y[5]],S)),v.start.x,v.start.y,y[0],y[1],y[2],y[3],y[4],y[5]);case"Q":return jt.getPointOnQuadraticBezier((0,i.t2length)(n,jt.getPathLength(s),S=>(0,i.getQuadraticArcLength)([v.start.x,y[0],y[2]],[v.start.y,y[1],y[3]],S)),v.start.x,v.start.y,y[0],y[1],y[2],y[3]);case"A":var f=y[0],a=y[1],p=y[2],m=y[3],_=y[4],c=y[5],h=y[6];return _+=c*n/v.pathLength,jt.getPointOnEllipticalArc(f,a,p,m,_,h)}return null}static getPointOnLine(n,s,l,u,b,v,y){v=v??s,y=y??l;const f=this.getLineLength(s,l,u,b);if(f<1e-10)return{x:s,y:l};if(u===s)return{x:v,y:y+(b>l?n:-n)};const a=(b-l)/(u-s),p=Math.sqrt(n*n/(1+a*a))*(u<s?-1:1),m=a*p;if(Math.abs(y-l-a*(v-s))<1e-10)return{x:v+p,y:y+m};const _=((v-s)*(u-s)+(y-l)*(b-l))/(f*f),c=s+_*(u-s),h=l+_*(b-l),S=this.getLineLength(v,y,c,h),C=Math.sqrt(n*n-S*S),k=Math.sqrt(C*C/(1+a*a))*(u<s?-1:1),M=a*k;return{x:c+k,y:h+M}}static getPointOnCubicBezier(n,s,l,u,b,v,y,f,a){function p(C){return C*C*C}function m(C){return 3*C*C*(1-C)}function _(C){return 3*C*(1-C)*(1-C)}function c(C){return(1-C)*(1-C)*(1-C)}const h=f*p(n)+v*m(n)+u*_(n)+s*c(n),S=a*p(n)+y*m(n)+b*_(n)+l*c(n);return{x:h,y:S}}static getPointOnQuadraticBezier(n,s,l,u,b,v,y){function f(c){return c*c}function a(c){return 2*c*(1-c)}function p(c){return(1-c)*(1-c)}const m=v*f(n)+u*a(n)+s*p(n),_=y*f(n)+b*a(n)+l*p(n);return{x:m,y:_}}static getPointOnEllipticalArc(n,s,l,u,b,v){const y=Math.cos(v),f=Math.sin(v),a={x:l*Math.cos(b),y:u*Math.sin(b)};return{x:n+(a.x*y-a.y*f),y:s+(a.x*f+a.y*y)}}static parsePathData(n){if(!n)return[];let s=n;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];s=s.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)s=s.replace(new RegExp(l[u],"g"),"|"+l[u]);const b=s.split("|"),v=[],y=[];let f=0,a=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let m;for(u=1;u<b.length;u++){let g=b[u],w=g.charAt(0);for(g=g.slice(1),y.length=0;m=p.exec(g);)y.push(m[0]);const x=[];for(let P=0,E=y.length;P<E;P++){if(y[P]==="00"){x.push(0,0);continue}const I=parseFloat(y[P]);isNaN(I)?x.push(0):x.push(I)}for(;x.length>0&&!isNaN(x[0]);){let P="",E=[];const I=f,G=a;var _,c,h,S,C,k,M,F,N,A;switch(w){case"l":f+=x.shift(),a+=x.shift(),P="L",E.push(f,a);break;case"L":f=x.shift(),a=x.shift(),E.push(f,a);break;case"m":var T=x.shift(),R=x.shift();if(f+=T,a+=R,P="M",v.length>2&&v[v.length-1].command==="z"){for(let V=v.length-2;V>=0;V--)if(v[V].command==="M"){f=v[V].points[0]+T,a=v[V].points[1]+R;break}}E.push(f,a),w="l";break;case"M":f=x.shift(),a=x.shift(),P="M",E.push(f,a),w="L";break;case"h":f+=x.shift(),P="L",E.push(f,a);break;case"H":f=x.shift(),P="L",E.push(f,a);break;case"v":a+=x.shift(),P="L",E.push(f,a);break;case"V":a=x.shift(),P="L",E.push(f,a);break;case"C":E.push(x.shift(),x.shift(),x.shift(),x.shift()),f=x.shift(),a=x.shift(),E.push(f,a);break;case"c":E.push(f+x.shift(),a+x.shift(),f+x.shift(),a+x.shift()),f+=x.shift(),a+=x.shift(),P="C",E.push(f,a);break;case"S":c=f,h=a,_=v[v.length-1],_.command==="C"&&(c=f+(f-_.points[2]),h=a+(a-_.points[3])),E.push(c,h,x.shift(),x.shift()),f=x.shift(),a=x.shift(),P="C",E.push(f,a);break;case"s":c=f,h=a,_=v[v.length-1],_.command==="C"&&(c=f+(f-_.points[2]),h=a+(a-_.points[3])),E.push(c,h,f+x.shift(),a+x.shift()),f+=x.shift(),a+=x.shift(),P="C",E.push(f,a);break;case"Q":E.push(x.shift(),x.shift()),f=x.shift(),a=x.shift(),E.push(f,a);break;case"q":E.push(f+x.shift(),a+x.shift()),f+=x.shift(),a+=x.shift(),P="Q",E.push(f,a);break;case"T":c=f,h=a,_=v[v.length-1],_.command==="Q"&&(c=f+(f-_.points[0]),h=a+(a-_.points[1])),f=x.shift(),a=x.shift(),P="Q",E.push(c,h,f,a);break;case"t":c=f,h=a,_=v[v.length-1],_.command==="Q"&&(c=f+(f-_.points[0]),h=a+(a-_.points[1])),f+=x.shift(),a+=x.shift(),P="Q",E.push(c,h,f,a);break;case"A":S=x.shift(),C=x.shift(),k=x.shift(),M=x.shift(),F=x.shift(),N=f,A=a,f=x.shift(),a=x.shift(),P="A",E=this.convertEndpointToCenterParameterization(N,A,f,a,M,F,S,C,k);break;case"a":S=x.shift(),C=x.shift(),k=x.shift(),M=x.shift(),F=x.shift(),N=f,A=a,f+=x.shift(),a+=x.shift(),P="A",E=this.convertEndpointToCenterParameterization(N,A,f,a,M,F,S,C,k);break}v.push({command:P||w,points:E,start:{x:I,y:G},pathLength:this.calcLength(I,G,P||w,E)})}(w==="z"||w==="Z")&&v.push({command:"z",points:[],start:void 0,pathLength:0})}return v}static calcLength(n,s,l,u){let b,v,y,f;const a=jt;switch(l){case"L":return a.getLineLength(n,s,u[0],u[1]);case"C":return(0,i.getCubicArcLength)([n,u[0],u[2],u[4]],[s,u[1],u[3],u[5]],1);case"Q":return(0,i.getQuadraticArcLength)([n,u[0],u[2]],[s,u[1],u[3]],1);case"A":b=0;var p=u[4],m=u[5],_=u[4]+m,c=Math.PI/180;if(Math.abs(p-_)<c&&(c=Math.abs(p-_)),v=a.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],p,0),m<0)for(f=p-c;f>_;f-=c)y=a.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],f,0),b+=a.getLineLength(v.x,v.y,y.x,y.y),v=y;else for(f=p+c;f<_;f+=c)y=a.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],f,0),b+=a.getLineLength(v.x,v.y,y.x,y.y),v=y;return y=a.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],_,0),b+=a.getLineLength(v.x,v.y,y.x,y.y),b}return 0}static convertEndpointToCenterParameterization(n,s,l,u,b,v,y,f,a){const p=a*(Math.PI/180),m=Math.cos(p)*(n-l)/2+Math.sin(p)*(s-u)/2,_=-1*Math.sin(p)*(n-l)/2+Math.cos(p)*(s-u)/2,c=m*m/(y*y)+_*_/(f*f);c>1&&(y*=Math.sqrt(c),f*=Math.sqrt(c));let h=Math.sqrt((y*y*(f*f)-y*y*(_*_)-f*f*(m*m))/(y*y*(_*_)+f*f*(m*m)));b===v&&(h*=-1),isNaN(h)&&(h=0);const S=h*y*_/f,C=h*-f*m/y,k=(n+l)/2+Math.cos(p)*S-Math.sin(p)*C,M=(s+u)/2+Math.sin(p)*S+Math.cos(p)*C,F=function(x){return Math.sqrt(x[0]*x[0]+x[1]*x[1])},N=function(x,P){return(x[0]*P[0]+x[1]*P[1])/(F(x)*F(P))},A=function(x,P){return(x[0]*P[1]<x[1]*P[0]?-1:1)*Math.acos(N(x,P))},T=A([1,0],[(m-S)/y,(_-C)/f]),R=[(m-S)/y,(_-C)/f],g=[(-1*m-S)/y,(-1*_-C)/f];let w=A(R,g);return N(R,g)<=-1&&(w=Math.PI),N(R,g)>=1&&(w=0),v===0&&w>0&&(w=w-2*Math.PI),v===1&&w<0&&(w=w+2*Math.PI),[k,M,y,f,T,w,p,v]}};return hn.Path=d,d.prototype.className="Path",d.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(d),t.Factory.addGetterSetter(d,"data"),hn}var Ro;function tu(){if(Ro)return dn;Ro=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.Arrow=void 0;const t=dt(),e=ta(),r=ut(),i=ct(),d=ki();let o=class extends e.Line{_sceneFunc(s){super._sceneFunc(s);const l=Math.PI*2,u=this.points();let b=u;const v=this.tension()!==0&&u.length>4;v&&(b=this.getTensionPoints());const y=this.pointerLength(),f=u.length;let a,p;if(v){const c=[b[b.length-4],b[b.length-3],b[b.length-2],b[b.length-1],u[f-2],u[f-1]],h=d.Path.calcLength(b[b.length-4],b[b.length-3],"C",c),S=d.Path.getPointOnQuadraticBezier(Math.min(1,1-y/h),c[0],c[1],c[2],c[3],c[4],c[5]);a=u[f-2]-S.x,p=u[f-1]-S.y}else a=u[f-2]-u[f-4],p=u[f-1]-u[f-3];const m=(Math.atan2(p,a)+l)%l,_=this.pointerWidth();this.pointerAtEnding()&&(s.save(),s.beginPath(),s.translate(u[f-2],u[f-1]),s.rotate(m),s.moveTo(0,0),s.lineTo(-y,_/2),s.lineTo(-y,-_/2),s.closePath(),s.restore(),this.__fillStroke(s)),this.pointerAtBeginning()&&(s.save(),s.beginPath(),s.translate(u[0],u[1]),v?(a=(b[0]+b[2])/2-u[0],p=(b[1]+b[3])/2-u[1]):(a=u[2]-u[0],p=u[3]-u[1]),s.rotate((Math.atan2(-p,-a)+l)%l),s.moveTo(0,0),s.lineTo(-y,_/2),s.lineTo(-y,-_/2),s.closePath(),s.restore(),this.__fillStroke(s))}__fillStroke(s){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,s.setLineDash([])),s.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const s=super.getSelfRect(),l=this.pointerWidth()/2;return{x:s.x-l,y:s.y-l,width:s.width+l*2,height:s.height+l*2}}};return dn.Arrow=o,o.prototype.className="Arrow",(0,i._registerNode)(o),t.Factory.addGetterSetter(o,"pointerLength",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"pointerWidth",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"pointerAtBeginning",!1),t.Factory.addGetterSetter(o,"pointerAtEnding",!0),dn}var fn={},Fo;function eu(){if(Fo)return fn;Fo=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.Circle=void 0;const t=dt(),e=Lt(),r=ut(),i=ct();let d=class extends e.Shape{_sceneFunc(n){n.beginPath(),n.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(n){this.radius()!==n/2&&this.radius(n/2)}setHeight(n){this.radius()!==n/2&&this.radius(n/2)}};return fn.Circle=d,d.prototype._centroid=!0,d.prototype.className="Circle",d.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(d),t.Factory.addGetterSetter(d,"radius",0,(0,r.getNumberValidator)()),fn}var gn={},Mo;function nu(){if(Mo)return gn;Mo=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.Ellipse=void 0;const t=dt(),e=Lt(),r=ut(),i=ct();let d=class extends e.Shape{_sceneFunc(n){const s=this.radiusX(),l=this.radiusY();n.beginPath(),n.save(),s!==l&&n.scale(1,l/s),n.arc(0,0,s,0,Math.PI*2,!1),n.restore(),n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(n){this.radiusX(n/2)}setHeight(n){this.radiusY(n/2)}};return gn.Ellipse=d,d.prototype.className="Ellipse",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(d),t.Factory.addComponentsGetterSetter(d,"radius",["x","y"]),t.Factory.addGetterSetter(d,"radiusX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(d,"radiusY",0,(0,r.getNumberValidator)()),gn}var pn={},Oo;function ru(){if(Oo)return pn;Oo=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.Image=void 0;const t=At(),e=dt(),r=Lt(),i=ct(),d=ut();class o extends r.Shape{constructor(s){super(s),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const s=this.image();s&&s.complete||s&&s.readyState===4||s&&s.addEventListener&&s.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const s=!!this.cornerRadius(),l=this.hasShadow();return s&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(s){const l=this.getWidth(),u=this.getHeight(),b=this.cornerRadius(),v=this.attrs.image;let y;if(v){const f=this.attrs.cropWidth,a=this.attrs.cropHeight;f&&a?y=[v,this.cropX(),this.cropY(),f,a,0,0,l,u]:y=[v,0,0,l,u]}(this.hasFill()||this.hasStroke()||b)&&(s.beginPath(),b?t.Util.drawRoundedRectPath(s,l,u,b):s.rect(0,0,l,u),s.closePath(),s.fillStrokeShape(this)),v&&(b&&s.clip(),s.drawImage.apply(s,y))}_hitFunc(s){const l=this.width(),u=this.height(),b=this.cornerRadius();s.beginPath(),b?t.Util.drawRoundedRectPath(s,l,u,b):s.rect(0,0,l,u),s.closePath(),s.fillStrokeShape(this)}getWidth(){var s,l;return(s=this.attrs.width)!==null&&s!==void 0?s:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var s,l;return(s=this.attrs.height)!==null&&s!==void 0?s:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(s,l,u=null){const b=t.Util.createImageElement();b.onload=function(){const v=new o({image:b});l(v)},b.onerror=u,b.crossOrigin="Anonymous",b.src=s}}return pn.Image=o,o.prototype.className="Image",(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,d.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,d.getNumberValidator)()),pn}var Ae={},No;function iu(){if(No)return Ae;No=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Tag=Ae.Label=void 0;const t=dt(),e=Lt(),r=Ci(),i=ut(),d=ct(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],n="Change.konva",s="none",l="up",u="right",b="down",v="left",y=o.length;let f=class extends r.Group{constructor(m){super(m),this.on("add.konva",function(_){this._addListeners(_.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(m){let _=this,c;const h=function(){_._sync()};for(c=0;c<y;c++)m.on(o[c]+n,h)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let m=this.getText(),_=this.getTag(),c,h,S,C,k,M,F;if(m&&_){switch(c=m.width(),h=m.height(),S=_.pointerDirection(),C=_.pointerWidth(),F=_.pointerHeight(),k=0,M=0,S){case l:k=c/2,M=-1*F;break;case u:k=c+C,M=h/2;break;case b:k=c/2,M=h+F;break;case v:k=-1*C,M=h/2;break}_.setAttrs({x:-1*k,y:-1*M,width:c,height:h}),m.setAttrs({x:-1*k,y:-1*M})}}};Ae.Label=f,f.prototype.className="Label",(0,d._registerNode)(f);class a extends e.Shape{_sceneFunc(m){const _=this.width(),c=this.height(),h=this.pointerDirection(),S=this.pointerWidth(),C=this.pointerHeight(),k=this.cornerRadius();let M=0,F=0,N=0,A=0;typeof k=="number"?M=F=N=A=Math.min(k,_/2,c/2):(M=Math.min(k[0]||0,_/2,c/2),F=Math.min(k[1]||0,_/2,c/2),A=Math.min(k[2]||0,_/2,c/2),N=Math.min(k[3]||0,_/2,c/2)),m.beginPath(),m.moveTo(M,0),h===l&&(m.lineTo((_-S)/2,0),m.lineTo(_/2,-1*C),m.lineTo((_+S)/2,0)),m.lineTo(_-F,0),m.arc(_-F,F,F,Math.PI*3/2,0,!1),h===u&&(m.lineTo(_,(c-C)/2),m.lineTo(_+S,c/2),m.lineTo(_,(c+C)/2)),m.lineTo(_,c-A),m.arc(_-A,c-A,A,0,Math.PI/2,!1),h===b&&(m.lineTo((_+S)/2,c),m.lineTo(_/2,c+C),m.lineTo((_-S)/2,c)),m.lineTo(N,c),m.arc(N,c-N,N,Math.PI/2,Math.PI,!1),h===v&&(m.lineTo(0,(c+C)/2),m.lineTo(-1*S,c/2),m.lineTo(0,(c-C)/2)),m.lineTo(0,M),m.arc(M,M,M,Math.PI,Math.PI*3/2,!1),m.closePath(),m.fillStrokeShape(this)}getSelfRect(){let m=0,_=0,c=this.pointerWidth(),h=this.pointerHeight(),S=this.pointerDirection(),C=this.width(),k=this.height();return S===l?(_-=h,k+=h):S===b?k+=h:S===v?(m-=c*1.5,C+=c):S===u&&(C+=c*1.5),{x:m,y:_,width:C,height:k}}}return Ae.Tag=a,a.prototype.className="Tag",(0,d._registerNode)(a),t.Factory.addGetterSetter(a,"pointerDirection",s),t.Factory.addGetterSetter(a,"pointerWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"pointerHeight",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Ae}var mn={},Lo;function ea(){if(Lo)return mn;Lo=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.Rect=void 0;const t=dt(),e=Lt(),r=ct(),i=At(),d=ut();let o=class extends e.Shape{_sceneFunc(s){const l=this.cornerRadius(),u=this.width(),b=this.height();s.beginPath(),l?i.Util.drawRoundedRectPath(s,u,b,l):s.rect(0,0,u,b),s.closePath(),s.fillStrokeShape(this)}};return mn.Rect=o,o.prototype.className="Rect",(0,r._registerNode)(o),t.Factory.addGetterSetter(o,"cornerRadius",0,(0,d.getNumberOrArrayOfNumbersValidator)(4)),mn}var bn={},Go;function ou(){if(Go)return bn;Go=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.RegularPolygon=void 0;const t=dt(),e=Lt(),r=ut(),i=ct();let d=class extends e.Shape{_sceneFunc(n){const s=this._getPoints();n.beginPath(),n.moveTo(s[0].x,s[0].y);for(let l=1;l<s.length;l++)n.lineTo(s[l].x,s[l].y);n.closePath(),n.fillStrokeShape(this)}_getPoints(){const n=this.attrs.sides,s=this.attrs.radius||0,l=[];for(let u=0;u<n;u++)l.push({x:s*Math.sin(u*2*Math.PI/n),y:-1*s*Math.cos(u*2*Math.PI/n)});return l}getSelfRect(){const n=this._getPoints();let s=n[0].x,l=n[0].y,u=n[0].x,b=n[0].y;return n.forEach(v=>{s=Math.min(s,v.x),l=Math.max(l,v.x),u=Math.min(u,v.y),b=Math.max(b,v.y)}),{x:s,y:u,width:l-s,height:b-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(n){this.radius(n/2)}setHeight(n){this.radius(n/2)}};return bn.RegularPolygon=d,d.prototype.className="RegularPolygon",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(d),t.Factory.addGetterSetter(d,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(d,"sides",0,(0,r.getNumberValidator)()),bn}var vn={},Do;function su(){if(Do)return vn;Do=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.Ring=void 0;const t=dt(),e=Lt(),r=ut(),i=ct(),d=Math.PI*2;let o=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.innerRadius(),0,d,!1),s.moveTo(this.outerRadius(),0),s.arc(0,0,this.outerRadius(),d,0,!0),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return vn.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(o),t.Factory.addGetterSetter(o,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"outerRadius",0,(0,r.getNumberValidator)()),vn}var yn={},Io;function au(){if(Io)return yn;Io=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.Sprite=void 0;const t=dt(),e=Lt(),r=Ai(),i=ut(),d=ct();let o=class extends e.Shape{constructor(s){super(s),this._updated=!0,this.anim=new r.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(s){const l=this.animation(),u=this.frameIndex(),b=u*4,v=this.animations()[l],y=this.frameOffsets(),f=v[b+0],a=v[b+1],p=v[b+2],m=v[b+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(s.beginPath(),s.rect(0,0,p,m),s.closePath(),s.fillStrokeShape(this)),_)if(y){const c=y[l],h=u*2;s.drawImage(_,f,a,p,m,c[h+0],c[h+1],p,m)}else s.drawImage(_,f,a,p,m,0,0,p,m)}_hitFunc(s){const l=this.animation(),u=this.frameIndex(),b=u*4,v=this.animations()[l],y=this.frameOffsets(),f=v[b+2],a=v[b+3];if(s.beginPath(),y){const p=y[l],m=u*2;s.rect(p[m+0],p[m+1],f,a)}else s.rect(0,0,f,a);s.closePath(),s.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const s=this;this.interval=setInterval(function(){s._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const s=this.getLayer();this.anim.setLayers(s),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const s=this.frameIndex(),l=this.animation(),u=this.animations(),b=u[l],v=b.length/4;s<v-1?this.frameIndex(s+1):this.frameIndex(0)}};return yn.Sprite=o,o.prototype.className="Sprite",(0,d._registerNode)(o),t.Factory.addGetterSetter(o,"animation"),t.Factory.addGetterSetter(o,"animations"),t.Factory.addGetterSetter(o,"frameOffsets"),t.Factory.addGetterSetter(o,"image"),t.Factory.addGetterSetter(o,"frameIndex",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"frameRate",17,(0,i.getNumberValidator)()),t.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),yn}var _n={},Bo;function lu(){if(Bo)return _n;Bo=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.Star=void 0;const t=dt(),e=Lt(),r=ut(),i=ct();let d=class extends e.Shape{_sceneFunc(n){const s=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();n.beginPath(),n.moveTo(0,0-l);for(let b=1;b<u*2;b++){const v=b%2===0?l:s,y=v*Math.sin(b*Math.PI/u),f=-1*v*Math.cos(b*Math.PI/u);n.lineTo(y,f)}n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(n){this.outerRadius(n/2)}setHeight(n){this.outerRadius(n/2)}};return _n.Star=d,d.prototype.className="Star",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(d),t.Factory.addGetterSetter(d,"numPoints",5,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(d,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(d,"outerRadius",0,(0,r.getNumberValidator)()),_n}var Ne={},Uo;function na(){if(Uo)return Ne;Uo=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.Text=void 0,Ne.stringToArray=n;const t=At(),e=dt(),r=Lt(),i=ct(),d=ut(),o=ct();function n(D){return[...D].reduce((U,z,q,Y)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(z)?U.push(z):new RegExp("\\p{Regional_Indicator}{2}","u").test(z+(Y[q+1]||""))?U.push(z+Y[q+1]):q>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(z)?U[U.length-1]+=z:U.push(z),U),[])}const s="auto",l="center",u="inherit",b="justify",v="Change.konva",y="2d",f="-",a="left",p="text",m="Text",_="top",c="bottom",h="middle",S="normal",C="px ",k=" ",M="right",F="rtl",N="word",A="char",T="none",R="",g=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],w=g.length;function x(D){return D.split(",").map(U=>{U=U.trim();const z=U.indexOf(" ")>=0,q=U.indexOf('"')>=0||U.indexOf("'")>=0;return z&&!q&&(U=`"${U}"`),U}).join(", ")}let P;function E(){return P||(P=t.Util.createCanvasElement().getContext(y),P)}function I(D){D.fillText(this._partialText,this._partialTextX,this._partialTextY)}function G(D){D.setAttr("miterLimit",2),D.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function V(D){return D=D||{},!D.fillLinearGradientColorStops&&!D.fillRadialGradientColorStops&&!D.fillPatternImage&&(D.fill=D.fill||"black"),D}class O extends r.Shape{constructor(U){super(V(U)),this._partialTextX=0,this._partialTextY=0;for(let z=0;z<w;z++)this.on(g[z]+v,this._setTextData);this._setTextData()}_sceneFunc(U){const z=this.textArr,q=z.length;if(!this.text())return;let Y=this.padding(),L=this.fontSize(),B=this.lineHeight()*L,j=this.verticalAlign(),X=this.direction(),K=0,H=this.align(),Q=this.getWidth(),$=this.letterSpacing(),J=this.fill(),ht=this.textDecoration(),tt=ht.indexOf("underline")!==-1,nt=ht.indexOf("line-through")!==-1,Rt;X=X===u?U.direction:X;let St=B/2,kt=h;if(i.Konva._fixTextRendering){const Wt=this.measureSize("M");kt="alphabetic",St=(Wt.fontBoundingBoxAscent-Wt.fontBoundingBoxDescent)/2+B/2}var vt=0,ot=0;for(X===F&&U.setAttr("direction",X),U.setAttr("font",this._getContextFont()),U.setAttr("textBaseline",kt),U.setAttr("textAlign",a),j===h?K=(this.getHeight()-q*B-Y*2)/2:j===c&&(K=this.getHeight()-q*B-Y*2),U.translate(Y,K+Y),Rt=0;Rt<q;Rt++){var vt=0,ot=0,Gt=z[Rt],Ft=Gt.text,Pt=Gt.width,pt=Gt.lastInParagraph,Mt,Ut,xt;if(U.save(),H===M?vt+=Q-Pt-Y*2:H===l&&(vt+=(Q-Pt-Y*2)/2),tt){U.save(),U.beginPath();const Jt=i.Konva._fixTextRendering?Math.round(L/4):Math.round(L/2),ie=vt,me=St+ot+Jt;U.moveTo(ie,me),Mt=Ft.split(" ").length-1,Ut=Mt===0,xt=H===b&&!pt?Q-Y*2:Pt,U.lineTo(ie+Math.round(xt),me),U.lineWidth=L/15;const Rr=this._getLinearGradient();U.strokeStyle=Rr||J,U.stroke(),U.restore()}if(nt){U.save(),U.beginPath();const Jt=i.Konva._fixTextRendering?-Math.round(L/4):0;U.moveTo(vt,St+ot+Jt),Mt=Ft.split(" ").length-1,Ut=Mt===0,xt=H===b&&pt&&!Ut?Q-Y*2:Pt,U.lineTo(vt+Math.round(xt),St+ot+Jt),U.lineWidth=L/15;const ie=this._getLinearGradient();U.strokeStyle=ie||J,U.stroke(),U.restore()}if(X!==F&&($!==0||H===b)){Mt=Ft.split(" ").length-1;const Jt=n(Ft);for(let ie=0;ie<Jt.length;ie++){const me=Jt[ie];me===" "&&!pt&&H===b&&(vt+=(Q-Y*2-Pt)/Mt),this._partialTextX=vt,this._partialTextY=St+ot,this._partialText=me,U.fillStrokeShape(this),vt+=this.measureSize(me).width+$}}else $!==0&&U.setAttr("letterSpacing",`${$}px`),this._partialTextX=vt,this._partialTextY=St+ot,this._partialText=Ft,U.fillStrokeShape(this);U.restore(),q>1&&(St+=B)}}_hitFunc(U){const z=this.getWidth(),q=this.getHeight();U.beginPath(),U.rect(0,0,z,q),U.closePath(),U.fillStrokeShape(this)}setText(U){const z=t.Util._isString(U)?U:U==null?"":U+"";return this._setAttr(p,z),this}getWidth(){return this.attrs.width===s||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===s||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(U){var z,q,Y,L,B,j,X,K,H,Q,$;let J=E(),ht=this.fontSize(),tt;J.save(),J.font=this._getContextFont(),tt=J.measureText(U),J.restore();const nt=ht/100;return{actualBoundingBoxAscent:(z=tt.actualBoundingBoxAscent)!==null&&z!==void 0?z:71.58203125*nt,actualBoundingBoxDescent:(q=tt.actualBoundingBoxDescent)!==null&&q!==void 0?q:0,actualBoundingBoxLeft:(Y=tt.actualBoundingBoxLeft)!==null&&Y!==void 0?Y:-7.421875*nt,actualBoundingBoxRight:(L=tt.actualBoundingBoxRight)!==null&&L!==void 0?L:75.732421875*nt,alphabeticBaseline:(B=tt.alphabeticBaseline)!==null&&B!==void 0?B:0,emHeightAscent:(j=tt.emHeightAscent)!==null&&j!==void 0?j:100*nt,emHeightDescent:(X=tt.emHeightDescent)!==null&&X!==void 0?X:-20*nt,fontBoundingBoxAscent:(K=tt.fontBoundingBoxAscent)!==null&&K!==void 0?K:91*nt,fontBoundingBoxDescent:(H=tt.fontBoundingBoxDescent)!==null&&H!==void 0?H:21*nt,hangingBaseline:(Q=tt.hangingBaseline)!==null&&Q!==void 0?Q:72.80000305175781*nt,ideographicBaseline:($=tt.ideographicBaseline)!==null&&$!==void 0?$:-21*nt,width:tt.width,height:ht}}_getContextFont(){return this.fontStyle()+k+this.fontVariant()+k+(this.fontSize()+C)+x(this.fontFamily())}_addTextLine(U){this.align()===b&&(U=U.trim());const q=this._getTextWidth(U);return this.textArr.push({text:U,width:q,lastInParagraph:!1})}_getTextWidth(U){const z=this.letterSpacing(),q=U.length;return E().measureText(U).width+(q?z*(q-1):0)}_setTextData(){let U=this.text().split(`
`),z=+this.fontSize(),q=0,Y=this.lineHeight()*z,L=this.attrs.width,B=this.attrs.height,j=L!==s&&L!==void 0,X=B!==s&&B!==void 0,K=this.padding(),H=L-K*2,Q=B-K*2,$=0,J=this.wrap(),ht=J!==T,tt=J!==A&&ht,nt=this.ellipsis();this.textArr=[],E().font=this._getContextFont();const Rt=nt?this._getTextWidth(R):0;for(let kt=0,vt=U.length;kt<vt;++kt){let ot=U[kt],Gt=this._getTextWidth(ot);if(j&&Gt>H)for(;ot.length>0;){let Ft=0,Pt=ot.length,pt="",Mt=0;for(;Ft<Pt;){const Ut=Ft+Pt>>>1,xt=ot.slice(0,Ut+1),Wt=this._getTextWidth(xt)+Rt;Wt<=H?(Ft=Ut+1,pt=xt,Mt=Wt):Pt=Ut}if(pt){if(tt){var St;const xt=ot[pt.length];(xt===k||xt===f)&&Mt<=H?St=pt.length:St=Math.max(pt.lastIndexOf(k),pt.lastIndexOf(f))+1,St>0&&(Ft=St,pt=pt.slice(0,Ft),Mt=this._getTextWidth(pt))}if(pt=pt.trimRight(),this._addTextLine(pt),q=Math.max(q,Mt),$+=Y,this._shouldHandleEllipsis($)){this._tryToAddEllipsisToLastLine();break}if(ot=ot.slice(Ft),ot=ot.trimLeft(),ot.length>0&&(Gt=this._getTextWidth(ot),Gt<=H)){this._addTextLine(ot),$+=Y,q=Math.max(q,Gt);break}}else break}else this._addTextLine(ot),$+=Y,q=Math.max(q,Gt),this._shouldHandleEllipsis($)&&kt<vt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),X&&$+Y>Q)break}this.textHeight=z,this.textWidth=q}_shouldHandleEllipsis(U){const z=+this.fontSize(),q=this.lineHeight()*z,Y=this.attrs.height,L=Y!==s&&Y!==void 0,B=this.padding(),j=Y-B*2;return!(this.wrap()!==T)||L&&U+q>j}_tryToAddEllipsisToLastLine(){const U=this.attrs.width,z=U!==s&&U!==void 0,q=this.padding(),Y=U-q*2,L=this.ellipsis(),B=this.textArr[this.textArr.length-1];!B||!L||(z&&(this._getTextWidth(B.text+R)<Y||(B.text=B.text.slice(0,B.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(B.text+R))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const U=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,z=this.hasShadow();return U&&z?!0:super._useBufferCanvas()}}return Ne.Text=O,O.prototype._fillFunc=I,O.prototype._strokeFunc=G,O.prototype.className=m,O.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(O),e.Factory.overWriteSetter(O,"width",(0,d.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(O,"height",(0,d.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(O,"direction",u),e.Factory.addGetterSetter(O,"fontFamily","Arial"),e.Factory.addGetterSetter(O,"fontSize",12,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(O,"fontStyle",S),e.Factory.addGetterSetter(O,"fontVariant",S),e.Factory.addGetterSetter(O,"padding",0,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(O,"align",a),e.Factory.addGetterSetter(O,"verticalAlign",_),e.Factory.addGetterSetter(O,"lineHeight",1,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(O,"wrap",N),e.Factory.addGetterSetter(O,"ellipsis",!1,(0,d.getBooleanValidator)()),e.Factory.addGetterSetter(O,"letterSpacing",0,(0,d.getNumberValidator)()),e.Factory.addGetterSetter(O,"text","",(0,d.getStringValidator)()),e.Factory.addGetterSetter(O,"textDecoration",""),Ne}var wn={},Vo;function cu(){if(Vo)return wn;Vo=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.TextPath=void 0;const t=At(),e=dt(),r=Lt(),i=ki(),d=na(),o=ut(),n=ct(),s="",l="normal";function u(y){y.fillText(this.partialText,0,0)}function b(y){y.strokeText(this.partialText,0,0)}let v=class extends r.Shape{constructor(f){super(f),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const a=this.pathLength;return f-1>a?null:i.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const a=this.textDecoration(),p=this.fill(),m=this.fontSize(),_=this.glyphInfo;a==="underline"&&f.beginPath();for(let c=0;c<_.length;c++){f.save();const h=_[c].p0;f.translate(h.x,h.y),f.rotate(_[c].rotation),this.partialText=_[c].text,f.fillStrokeShape(this),a==="underline"&&(c===0&&f.moveTo(0,m/2+1),f.lineTo(m,m/2+1)),f.restore()}a==="underline"&&(f.strokeStyle=p,f.lineWidth=m/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const a=this.glyphInfo;if(a.length>=1){const p=a[0].p0;f.moveTo(p.x,p.y)}for(let p=0;p<a.length;p++){const m=a[p].p1;f.lineTo(m.x,m.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return d.Text.prototype.setText.call(this,f)}_getContextFont(){return d.Text.prototype._getContextFont.call(this)}_getTextSize(f){const p=this.dummyCanvas.getContext("2d");p.save(),p.font=this._getContextFont();const m=p.measureText(f);return p.restore(),{width:m.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:f,height:a}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=a,this.glyphInfo=[],!this.attrs.data)return null;const p=this.letterSpacing(),m=this.align(),_=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*p,0);let h=0;m==="center"&&(h=Math.max(0,this.pathLength/2-c/2)),m==="right"&&(h=Math.max(0,this.pathLength-c));const S=(0,d.stringToArray)(this.text());let C=h;for(let k=0;k<S.length;k++){const M=this._getPointAtLength(C);if(!M)return;let F=this._getTextSize(S[k]).width+p;if(S[k]===" "&&m==="justify"){const w=this.text().split(" ").length-1;F+=(this.pathLength-c)/w}const N=this._getPointAtLength(C+F);if(!N)return;const A=i.Path.getLineLength(M.x,M.y,N.x,N.y);let T=0;if(_)try{T=_(S[k-1],S[k])*this.fontSize()}catch{T=0}M.x+=T,N.x+=T,this.textWidth+=T;const R=i.Path.getPointOnLine(T+A/2,M.x,M.y,N.x,N.y),g=Math.atan2(N.y-M.y,N.x-M.x);this.glyphInfo.push({transposeX:R.x,transposeY:R.y,text:S[k],rotation:g,p0:M,p1:N}),C+=F}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(C){f.push(C.p0.x),f.push(C.p0.y),f.push(C.p1.x),f.push(C.p1.y)});let a=f[0]||0,p=f[0]||0,m=f[1]||0,_=f[1]||0,c,h;for(let C=0;C<f.length/2;C++)c=f[C*2],h=f[C*2+1],a=Math.min(a,c),p=Math.max(p,c),m=Math.min(m,h),_=Math.max(_,h);const S=this.fontSize();return{x:a-S/2,y:m-S/2,width:p-a+S,height:_-m+S}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return wn.TextPath=v,v.prototype._fillFunc=u,v.prototype._strokeFunc=b,v.prototype._fillFuncHit=u,v.prototype._strokeFuncHit=b,v.prototype.className="TextPath",v.prototype._attrsAffectingSize=["text","fontSize","data"],(0,n._registerNode)(v),e.Factory.addGetterSetter(v,"data"),e.Factory.addGetterSetter(v,"fontFamily","Arial"),e.Factory.addGetterSetter(v,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(v,"fontStyle",l),e.Factory.addGetterSetter(v,"align","left"),e.Factory.addGetterSetter(v,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(v,"textBaseline","middle"),e.Factory.addGetterSetter(v,"fontVariant",l),e.Factory.addGetterSetter(v,"text",s),e.Factory.addGetterSetter(v,"textDecoration",null),e.Factory.addGetterSetter(v,"kerningFunc",null),wn}var Sn={},zo;function du(){if(zo)return Sn;zo=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.Transformer=void 0;const t=At(),e=dt(),r=Et(),i=Lt(),d=ea(),o=Ci(),n=ct(),s=ut(),l=ct(),u="tr-konva",b=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(N=>N+`.${u}`).join(" "),v="nodesRect",y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},a="ontouchstart"in n.Konva._global;function p(N,A,T){if(N==="rotater")return T;A+=t.Util.degToRad(f[N]||0);const R=(t.Util.radToDeg(A)%360+360)%360;return t.Util._inRange(R,315+22.5,360)||t.Util._inRange(R,0,22.5)?"ns-resize":t.Util._inRange(R,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(R,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(R,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(R,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(R,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(R,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(R,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+R),"pointer")}const m=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],_=1e8;function c(N){return{x:N.x+N.width/2*Math.cos(N.rotation)+N.height/2*Math.sin(-N.rotation),y:N.y+N.height/2*Math.cos(N.rotation)+N.width/2*Math.sin(N.rotation)}}function h(N,A,T){const R=T.x+(N.x-T.x)*Math.cos(A)-(N.y-T.y)*Math.sin(A),g=T.y+(N.x-T.x)*Math.sin(A)+(N.y-T.y)*Math.cos(A);return{...N,rotation:N.rotation+A,x:R,y:g}}function S(N,A){const T=c(N);return h(N,A,T)}function C(N,A,T){let R=A;for(let g=0;g<N.length;g++){const w=n.Konva.getAngle(N[g]),x=Math.abs(w-A)%(Math.PI*2);Math.min(x,Math.PI*2-x)<T&&(R=w)}return R}let k=0,M=class extends o.Group{constructor(A){super(A),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(b,this.update),this.getNode()&&this.update()}attachTo(A){return this.setNode(A),this}setNode(A){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([A])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(A=[]){this._nodes&&this._nodes.length&&this.detach();const T=A.filter(g=>g.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=A=T,A.length===1&&this.useSingleNodeRotation()?this.rotation(A[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(g=>{const w=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},x=g._attrsAffectingSize.map(P=>P+"Change."+this._getEventNamespace()).join(" ");g.on(x,w),g.on(y.map(P=>P+`.${this._getEventNamespace()}`).join(" "),w),g.on(`absoluteTransformChange.${this._getEventNamespace()}`,w),this._proxyDrag(g)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(A){let T;A.on(`dragstart.${this._getEventNamespace()}`,R=>{T=A.getAbsolutePosition(),!this.isDragging()&&A!==this.findOne(".back")&&this.startDrag(R,!1)}),A.on(`dragmove.${this._getEventNamespace()}`,R=>{if(!T)return;const g=A.getAbsolutePosition(),w=g.x-T.x,x=g.y-T.y;this.nodes().forEach(P=>{if(P===A||P.isDragging())return;const E=P.getAbsolutePosition();P.setAbsolutePosition({x:E.x+w,y:E.y+x}),P.startDrag(R)}),T=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(A=>{A.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(v),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(v,this.__getNodeRect)}__getNodeShape(A,T=this.rotation(),R){const g=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),w=A.getAbsoluteScale(R),x=A.getAbsolutePosition(R),P=g.x*w.x-A.offsetX()*w.x,E=g.y*w.y-A.offsetY()*w.y,I=(n.Konva.getAngle(A.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),G={x:x.x+P*Math.cos(I)+E*Math.sin(-I),y:x.y+E*Math.cos(I)+P*Math.sin(I),width:g.width*w.x,height:g.height*w.y,rotation:I};return h(G,-n.Konva.getAngle(T),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-_,y:-_,width:0,height:0,rotation:0};const T=[];this.nodes().map(I=>{const G=I.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),V=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}],O=I.getAbsoluteTransform();V.forEach(function(D){const U=O.point(D);T.push(U)})});const R=new t.Transform;R.rotate(-n.Konva.getAngle(this.rotation()));let g=1/0,w=1/0,x=-1/0,P=-1/0;T.forEach(function(I){const G=R.point(I);g===void 0&&(g=x=G.x,w=P=G.y),g=Math.min(g,G.x),w=Math.min(w,G.y),x=Math.max(x,G.x),P=Math.max(P,G.y)}),R.invert();const E=R.point({x:g,y:w});return{x:E.x,y:E.y,width:x-g,height:P-w,rotation:n.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),m.forEach(A=>{this._createAnchor(A)}),this._createAnchor("rotater")}_createAnchor(A){const T=new d.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:A+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:a?10:"auto"}),R=this;T.on("mousedown touchstart",function(g){R._handleMouseDown(g)}),T.on("dragstart",g=>{T.stopDrag(),g.cancelBubble=!0}),T.on("dragend",g=>{g.cancelBubble=!0}),T.on("mouseenter",()=>{const g=n.Konva.getAngle(this.rotation()),w=this.rotateAnchorCursor(),x=p(A,g,w);T.getStage().content&&(T.getStage().content.style.cursor=x),this._cursorChange=!0}),T.on("mouseout",()=>{T.getStage().content&&(T.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(T)}_createBack(){const A=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(T,R){const g=R.getParent(),w=g.padding();T.beginPath(),T.rect(-w,-w,R.width()+w*2,R.height()+w*2),T.moveTo(R.width()/2,-w),g.rotateEnabled()&&g.rotateLineVisible()&&T.lineTo(R.width()/2,-g.rotateAnchorOffset()*t.Util._sign(R.height())-w),T.fillStrokeShape(R)},hitFunc:(T,R)=>{if(!this.shouldOverdrawWholeArea())return;const g=this.padding();T.beginPath(),T.rect(-g,-g,R.width()+g*2,R.height()+g*2),T.fillStrokeShape(R)}});this.add(A),this._proxyDrag(A),A.on("dragstart",T=>{T.cancelBubble=!0}),A.on("dragmove",T=>{T.cancelBubble=!0}),A.on("dragend",T=>{T.cancelBubble=!0}),this.on("dragmove",T=>{this.update()})}_handleMouseDown(A){if(this._transforming)return;this._movingAnchorName=A.target.name().split(" ")[0];const T=this._getNodeRect(),R=T.width,g=T.height,w=Math.sqrt(Math.pow(R,2)+Math.pow(g,2));this.sin=Math.abs(g/w),this.cos=Math.abs(R/w),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const x=A.target.getAbsolutePosition(),P=A.target.getStage().getPointerPosition();this._anchorDragOffset={x:P.x-x.x,y:P.y-x.y},k++,this._fire("transformstart",{evt:A.evt,target:this.getNode()}),this._nodes.forEach(E=>{E._fire("transformstart",{evt:A.evt,target:E})})}_handleMouseMove(A){let T,R,g;const w=this.findOne("."+this._movingAnchorName),x=w.getStage();x.setPointersPositions(A);const P=x.getPointerPosition();let E={x:P.x-this._anchorDragOffset.x,y:P.y-this._anchorDragOffset.y};const I=w.getAbsolutePosition();this.anchorDragBoundFunc()&&(E=this.anchorDragBoundFunc()(I,E,A)),w.setAbsolutePosition(E);const G=w.getAbsolutePosition();if(I.x===G.x&&I.y===G.y)return;if(this._movingAnchorName==="rotater"){const X=this._getNodeRect();T=w.x()-X.width/2,R=-w.y()+X.height/2;let K=Math.atan2(-R,T)+Math.PI/2;X.height<0&&(K-=Math.PI);const Q=n.Konva.getAngle(this.rotation())+K,$=n.Konva.getAngle(this.rotationSnapTolerance()),ht=C(this.rotationSnaps(),Q,$)-X.rotation,tt=S(X,ht);this._fitNodesInto(tt,A);return}const V=this.shiftBehavior();let O;V==="inverted"?O=this.keepRatio()&&!A.shiftKey:V==="none"?O=this.keepRatio():O=this.keepRatio()||A.shiftKey;var Y=this.centeredScaling()||A.altKey;if(this._movingAnchorName==="top-left"){if(O){var D=Y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};g=Math.sqrt(Math.pow(D.x-w.x(),2)+Math.pow(D.y-w.y(),2));var U=this.findOne(".top-left").x()>D.x?-1:1,z=this.findOne(".top-left").y()>D.y?-1:1;T=g*this.cos*U,R=g*this.sin*z,this.findOne(".top-left").x(D.x-T),this.findOne(".top-left").y(D.y-R)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(w.y());else if(this._movingAnchorName==="top-right"){if(O){var D=Y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};g=Math.sqrt(Math.pow(w.x()-D.x,2)+Math.pow(D.y-w.y(),2));var U=this.findOne(".top-right").x()<D.x?-1:1,z=this.findOne(".top-right").y()>D.y?-1:1;T=g*this.cos*U,R=g*this.sin*z,this.findOne(".top-right").x(D.x+T),this.findOne(".top-right").y(D.y-R)}var q=w.position();this.findOne(".top-left").y(q.y),this.findOne(".bottom-right").x(q.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(w.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(w.x());else if(this._movingAnchorName==="bottom-left"){if(O){var D=Y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};g=Math.sqrt(Math.pow(D.x-w.x(),2)+Math.pow(w.y()-D.y,2));var U=D.x<w.x()?-1:1,z=w.y()<D.y?-1:1;T=g*this.cos*U,R=g*this.sin*z,w.x(D.x-T),w.y(D.y+R)}q=w.position(),this.findOne(".top-left").x(q.x),this.findOne(".bottom-right").y(q.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(w.y());else if(this._movingAnchorName==="bottom-right"){if(O){var D=Y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};g=Math.sqrt(Math.pow(w.x()-D.x,2)+Math.pow(w.y()-D.y,2));var U=this.findOne(".bottom-right").x()<D.x?-1:1,z=this.findOne(".bottom-right").y()<D.y?-1:1;T=g*this.cos*U,R=g*this.sin*z,this.findOne(".bottom-right").x(D.x+T),this.findOne(".bottom-right").y(D.y+R)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Y=this.centeredScaling()||A.altKey;if(Y){const X=this.findOne(".top-left"),K=this.findOne(".bottom-right"),H=X.x(),Q=X.y(),$=this.getWidth()-K.x(),J=this.getHeight()-K.y();K.move({x:-H,y:-Q}),X.move({x:$,y:J})}const L=this.findOne(".top-left").getAbsolutePosition();T=L.x,R=L.y;const B=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:T,y:R,width:B,height:j,rotation:n.Konva.getAngle(this.rotation())},A)}_handleMouseUp(A){this._removeEvents(A)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(A){var T;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const R=this.getNode();k--,this._fire("transformend",{evt:A,target:R}),(T=this.getLayer())===null||T===void 0||T.batchDraw(),R&&this._nodes.forEach(g=>{var w;g._fire("transformend",{evt:A,target:g}),(w=g.getLayer())===null||w===void 0||w.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(A,T){const R=this._getNodeRect(),g=1;if(t.Util._inRange(A.width,-this.padding()*2-g,g)){this.update();return}if(t.Util._inRange(A.height,-this.padding()*2-g,g)){this.update();return}const w=new t.Transform;if(w.rotate(n.Konva.getAngle(this.rotation())),this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("left")>=0){const O=w.point({x:-this.padding()*2,y:0});A.x+=O.x,A.y+=O.y,A.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=O.x,this._anchorDragOffset.y-=O.y}else if(this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("right")>=0){const O=w.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=O.x,this._anchorDragOffset.y-=O.y,A.width+=this.padding()*2}if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("top")>=0){const O=w.point({x:0,y:-this.padding()*2});A.x+=O.x,A.y+=O.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=O.x,this._anchorDragOffset.y-=O.y,A.height+=this.padding()*2}else if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const O=w.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=O.x,this._anchorDragOffset.y-=O.y,A.height+=this.padding()*2}if(this.boundBoxFunc()){const O=this.boundBoxFunc()(R,A);O?A=O:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const x=1e7,P=new t.Transform;P.translate(R.x,R.y),P.rotate(R.rotation),P.scale(R.width/x,R.height/x);const E=new t.Transform,I=A.width/x,G=A.height/x;this.flipEnabled()===!1?(E.translate(A.x,A.y),E.rotate(A.rotation),E.translate(A.width<0?A.width:0,A.height<0?A.height:0),E.scale(Math.abs(I),Math.abs(G))):(E.translate(A.x,A.y),E.rotate(A.rotation),E.scale(I,G));const V=E.multiply(P.invert());this._nodes.forEach(O=>{var D;const U=O.getParent().getAbsoluteTransform(),z=O.getTransform().copy();z.translate(O.offsetX(),O.offsetY());const q=new t.Transform;q.multiply(U.copy().invert()).multiply(V).multiply(U).multiply(z);const Y=q.decompose();O.setAttrs(Y),(D=O.getLayer())===null||D===void 0||D.batchDraw()}),this.rotation(t.Util._getRotation(A.rotation)),this._nodes.forEach(O=>{this._fire("transform",{evt:T,target:O}),O._fire("transform",{evt:T,target:O})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(A,T){this.findOne(A).setAttrs(T)}update(){var A;const T=this._getNodeRect();this.rotation(t.Util._getRotation(T.rotation));const R=T.width,g=T.height,w=this.enabledAnchors(),x=this.resizeEnabled(),P=this.padding(),E=this.anchorSize(),I=this.find("._anchor");I.forEach(V=>{V.setAttrs({width:E,height:E,offsetX:E/2,offsetY:E/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:E/2+P,offsetY:E/2+P,visible:x&&w.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:R/2,y:0,offsetY:E/2+P,visible:x&&w.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:R,y:0,offsetX:E/2-P,offsetY:E/2+P,visible:x&&w.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:g/2,offsetX:E/2+P,visible:x&&w.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:R,y:g/2,offsetX:E/2-P,visible:x&&w.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:g,offsetX:E/2+P,offsetY:E/2-P,visible:x&&w.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:R/2,y:g,offsetY:E/2-P,visible:x&&w.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:R,y:g,offsetX:E/2-P,offsetY:E/2-P,visible:x&&w.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:R/2,y:-this.rotateAnchorOffset()*t.Util._sign(g)-P,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:R,height:g,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const G=this.anchorStyleFunc();G&&I.forEach(V=>{G(V)}),(A=this.getLayer())===null||A===void 0||A.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const A=this.findOne("."+this._movingAnchorName);A&&A.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(A){return r.Node.prototype.clone.call(this,A)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Sn.Transformer=M,M.isTransforming=()=>k>0;function F(N){return N instanceof Array||t.Util.warn("enabledAnchors value should be an array"),N instanceof Array&&N.forEach(function(A){m.indexOf(A)===-1&&t.Util.warn("Unknown anchor name: "+A+". Available names are: "+m.join(", "))}),N||[]}return M.prototype.className="Transformer",(0,l._registerNode)(M),e.Factory.addGetterSetter(M,"enabledAnchors",m,F),e.Factory.addGetterSetter(M,"flipEnabled",!0,(0,s.getBooleanValidator)()),e.Factory.addGetterSetter(M,"resizeEnabled",!0),e.Factory.addGetterSetter(M,"anchorSize",10,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"rotateEnabled",!0),e.Factory.addGetterSetter(M,"rotateLineVisible",!0),e.Factory.addGetterSetter(M,"rotationSnaps",[]),e.Factory.addGetterSetter(M,"rotateAnchorOffset",50,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(M,"rotationSnapTolerance",5,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"borderEnabled",!0),e.Factory.addGetterSetter(M,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(M,"anchorStrokeWidth",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"anchorFill","white"),e.Factory.addGetterSetter(M,"anchorCornerRadius",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(M,"borderStrokeWidth",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"borderDash"),e.Factory.addGetterSetter(M,"keepRatio",!0),e.Factory.addGetterSetter(M,"shiftBehavior","default"),e.Factory.addGetterSetter(M,"centeredScaling",!1),e.Factory.addGetterSetter(M,"ignoreStroke",!1),e.Factory.addGetterSetter(M,"padding",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"node"),e.Factory.addGetterSetter(M,"nodes"),e.Factory.addGetterSetter(M,"boundBoxFunc"),e.Factory.addGetterSetter(M,"anchorDragBoundFunc"),e.Factory.addGetterSetter(M,"anchorStyleFunc"),e.Factory.addGetterSetter(M,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(M,"useSingleNodeRotation",!0),e.Factory.backCompat(M,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Sn}var xn={},jo;function uu(){if(jo)return xn;jo=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.Wedge=void 0;const t=dt(),e=Lt(),r=ct(),i=ut(),d=ct();let o=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),s.lineTo(0,0),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return xn.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,d._registerNode)(o),t.Factory.addGetterSetter(o,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"clockwise",!1),t.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),xn}var Cn={},Ho;function hu(){if(Ho)return Cn;Ho=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Blur=void 0;const t=dt(),e=Et(),r=ut();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const d=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(l,u){const b=l.data,v=l.width,y=l.height;let f,a,p,m,_,c,h,S,C,k,M,F,N,A,T,R,g,w,x,P,E,I,G,V,O=u+u+1,D=v-1,U=y-1,z=u+1,q=z*(z+1)/2,Y=new i,L=null,B=Y,j=null,X=null,K=d[u],H=o[u];for(p=1;p<O;p++)B=B.next=new i,p===z&&(L=B);for(B.next=Y,h=c=0,a=0;a<y;a++){for(R=g=w=x=S=C=k=M=0,F=z*(P=b[c]),N=z*(E=b[c+1]),A=z*(I=b[c+2]),T=z*(G=b[c+3]),S+=q*P,C+=q*E,k+=q*I,M+=q*G,B=Y,p=0;p<z;p++)B.r=P,B.g=E,B.b=I,B.a=G,B=B.next;for(p=1;p<z;p++)m=c+((D<p?D:p)<<2),S+=(B.r=P=b[m])*(V=z-p),C+=(B.g=E=b[m+1])*V,k+=(B.b=I=b[m+2])*V,M+=(B.a=G=b[m+3])*V,R+=P,g+=E,w+=I,x+=G,B=B.next;for(j=Y,X=L,f=0;f<v;f++)b[c+3]=G=M*K>>H,G!==0?(G=255/G,b[c]=(S*K>>H)*G,b[c+1]=(C*K>>H)*G,b[c+2]=(k*K>>H)*G):b[c]=b[c+1]=b[c+2]=0,S-=F,C-=N,k-=A,M-=T,F-=j.r,N-=j.g,A-=j.b,T-=j.a,m=h+((m=f+u+1)<D?m:D)<<2,R+=j.r=b[m],g+=j.g=b[m+1],w+=j.b=b[m+2],x+=j.a=b[m+3],S+=R,C+=g,k+=w,M+=x,j=j.next,F+=P=X.r,N+=E=X.g,A+=I=X.b,T+=G=X.a,R-=P,g-=E,w-=I,x-=G,X=X.next,c+=4;h+=v}for(f=0;f<v;f++){for(g=w=x=R=C=k=M=S=0,c=f<<2,F=z*(P=b[c]),N=z*(E=b[c+1]),A=z*(I=b[c+2]),T=z*(G=b[c+3]),S+=q*P,C+=q*E,k+=q*I,M+=q*G,B=Y,p=0;p<z;p++)B.r=P,B.g=E,B.b=I,B.a=G,B=B.next;for(_=v,p=1;p<=u;p++)c=_+f<<2,S+=(B.r=P=b[c])*(V=z-p),C+=(B.g=E=b[c+1])*V,k+=(B.b=I=b[c+2])*V,M+=(B.a=G=b[c+3])*V,R+=P,g+=E,w+=I,x+=G,B=B.next,p<U&&(_+=v);for(c=f,j=Y,X=L,a=0;a<y;a++)m=c<<2,b[m+3]=G=M*K>>H,G>0?(G=255/G,b[m]=(S*K>>H)*G,b[m+1]=(C*K>>H)*G,b[m+2]=(k*K>>H)*G):b[m]=b[m+1]=b[m+2]=0,S-=F,C-=N,k-=A,M-=T,F-=j.r,N-=j.g,A-=j.b,T-=j.a,m=f+((m=a+z)<U?m:U)*v<<2,S+=R+=j.r=b[m],C+=g+=j.g=b[m+1],k+=w+=j.b=b[m+2],M+=x+=j.a=b[m+3],j=j.next,F+=P=X.r,N+=E=X.g,A+=I=X.b,T+=G=X.a,R-=P,g-=E,w-=I,x-=G,X=X.next,c+=v}}const s=function(u){const b=Math.round(this.blurRadius());b>0&&n(u,b)};return Cn.Blur=s,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Cn}var An={},qo;function fu(){if(qo)return An;qo=1,Object.defineProperty(An,"__esModule",{value:!0}),An.Brighten=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){let o=this.brightness()*255,n=d.data,s=n.length,l;for(l=0;l<s;l+=4)n[l]+=o,n[l+1]+=o,n[l+2]+=o};return An.Brighten=i,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),An}var kn={},Wo;function gu(){if(Wo)return kn;Wo=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.Contrast=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){const o=Math.pow((this.contrast()+100)/100,2);let n=d.data,s=n.length,l=150,u=150,b=150,v;for(v=0;v<s;v+=4)l=n[v],u=n[v+1],b=n[v+2],l/=255,l-=.5,l*=o,l+=.5,l*=255,u/=255,u-=.5,u*=o,u+=.5,u*=255,b/=255,b-=.5,b*=o,b+=.5,b*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,b=b<0?0:b>255?255:b,n[v]=l,n[v+1]=u,n[v+2]=b};return kn.Contrast=i,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),kn}var Pn={},Yo;function pu(){if(Yo)return Pn;Yo=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.Emboss=void 0;const t=dt(),e=Et(),r=At(),i=ut(),d=function(o){let n=this.embossStrength()*10,s=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),b=0,v=0,y=o.data,f=o.width,a=o.height,p=f*4,m=a;switch(l){case"top-left":b=-1,v=-1;break;case"top":b=-1,v=0;break;case"top-right":b=-1,v=1;break;case"right":b=0,v=1;break;case"bottom-right":b=1,v=1;break;case"bottom":b=1,v=0;break;case"bottom-left":b=1,v=-1;break;case"left":b=0,v=-1;break;default:r.Util.error("Unknown emboss direction: "+l)}do{const _=(m-1)*p;let c=b;m+c<1&&(c=0),m+c>a&&(c=0);const h=(m-1+c)*f*4;let S=f;do{const C=_+(S-1)*4;let k=v;S+k<1&&(k=0),S+k>f&&(k=0);const M=h+(S-1+k)*4,F=y[C]-y[M],N=y[C+1]-y[M+1],A=y[C+2]-y[M+2];let T=F;const R=T>0?T:-T,g=N>0?N:-N,w=A>0?A:-A;if(g>R&&(T=N),w>R&&(T=A),T*=n,u){const x=y[C]+T,P=y[C+1]+T,E=y[C+2]+T;y[C]=x>255?255:x<0?0:x,y[C+1]=P>255?255:P<0?0:P,y[C+2]=E>255?255:E<0?0:E}else{let x=s-T;x<0?x=0:x>255&&(x=255),y[C]=y[C+1]=y[C+2]=x}}while(--S)}while(--m)};return Pn.Emboss=d,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),Pn}var Tn={},Xo;function mu(){if(Xo)return Tn;Xo=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.Enhance=void 0;const t=dt(),e=Et(),r=ut();function i(o,n,s,l,u){let b=s-n,v=u-l,y;return b===0?l+v/2:v===0?l:(y=(o-n)/b,y=v*y+l,y)}const d=function(o){let n=o.data,s=n.length,l=n[0],u=l,b,v=n[1],y=v,f,a=n[2],p=a,m,_;const c=this.enhance();if(c===0)return;for(_=0;_<s;_+=4)b=n[_+0],b<l?l=b:b>u&&(u=b),f=n[_+1],f<v?v=f:f>y&&(y=f),m=n[_+2],m<a?a=m:m>p&&(p=m);u===l&&(u=255,l=0),y===v&&(y=255,v=0),p===a&&(p=255,a=0);let h,S,C,k,M,F,N,A,T;for(c>0?(S=u+c*(255-u),C=l-c*(l-0),M=y+c*(255-y),F=v-c*(v-0),A=p+c*(255-p),T=a-c*(a-0)):(h=(u+l)*.5,S=u+c*(u-h),C=l+c*(l-h),k=(y+v)*.5,M=y+c*(y-k),F=v+c*(v-k),N=(p+a)*.5,A=p+c*(p-N),T=a+c*(a-N)),_=0;_<s;_+=4)n[_+0]=i(n[_+0],l,u,C,S),n[_+1]=i(n[_+1],v,y,F,M),n[_+2]=i(n[_+2],a,p,T,A)};return Tn.Enhance=d,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Tn}var En={},Ko;function bu(){if(Ko)return En;Ko=1,Object.defineProperty(En,"__esModule",{value:!0}),En.Grayscale=void 0;const t=function(e){let r=e.data,i=r.length,d,o;for(d=0;d<i;d+=4)o=.34*r[d]+.5*r[d+1]+.16*r[d+2],r[d]=o,r[d+1]=o,r[d+2]=o};return En.Grayscale=t,En}var Rn={},Qo;function vu(){if(Qo)return Rn;Qo=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.HSL=void 0;const t=dt(),e=Et(),r=ut();t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter);const i=function(d){let o=d.data,n=o.length,s=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,b=this.luminance()*127,v;const y=s*l*Math.cos(u*Math.PI/180),f=s*l*Math.sin(u*Math.PI/180),a=.299*s+.701*y+.167*f,p=.587*s-.587*y+.33*f,m=.114*s-.114*y-.497*f,_=.299*s-.299*y-.328*f,c=.587*s+.413*y+.035*f,h=.114*s-.114*y+.293*f,S=.299*s-.3*y+1.25*f,C=.587*s-.586*y-1.05*f,k=.114*s+.886*y-.2*f;let M,F,N,A;for(v=0;v<n;v+=4)M=o[v+0],F=o[v+1],N=o[v+2],A=o[v+3],o[v+0]=a*M+p*F+m*N+b,o[v+1]=_*M+c*F+h*N+b,o[v+2]=S*M+C*F+k*N+b,o[v+3]=A};return Rn.HSL=i,Rn}var Fn={},Jo;function yu(){if(Jo)return Fn;Jo=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.HSV=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){const o=d.data,n=o.length,s=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,b=s*l*Math.cos(u*Math.PI/180),v=s*l*Math.sin(u*Math.PI/180),y=.299*s+.701*b+.167*v,f=.587*s-.587*b+.33*v,a=.114*s-.114*b-.497*v,p=.299*s-.299*b-.328*v,m=.587*s+.413*b+.035*v,_=.114*s-.114*b+.293*v,c=.299*s-.3*b+1.25*v,h=.587*s-.586*b-1.05*v,S=.114*s+.886*b-.2*v;let C,k,M,F;for(let N=0;N<n;N+=4)C=o[N+0],k=o[N+1],M=o[N+2],F=o[N+3],o[N+0]=y*C+f*k+a*M,o[N+1]=p*C+m*k+_*M,o[N+2]=c*C+h*k+S*M,o[N+3]=F};return Fn.HSV=i,t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Fn}var Mn={},Zo;function _u(){if(Zo)return Mn;Zo=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.Invert=void 0;const t=function(e){let r=e.data,i=r.length,d;for(d=0;d<i;d+=4)r[d]=255-r[d],r[d+1]=255-r[d+1],r[d+2]=255-r[d+2]};return Mn.Invert=t,Mn}var On={},$o;function wu(){if($o)return On;$o=1,Object.defineProperty(On,"__esModule",{value:!0}),On.Kaleidoscope=void 0;const t=dt(),e=Et(),r=At(),i=ut(),d=function(s,l,u){let b=s.data,v=l.data,y=s.width,f=s.height,a=u.polarCenterX||y/2,p=u.polarCenterY||f/2,m,_,c,h=0,S=0,C=0,k=0,M,F=Math.sqrt(a*a+p*p);_=y-a,c=f-p,M=Math.sqrt(_*_+c*c),F=M>F?M:F;let N=f,A=y,T,R,g=360/A*Math.PI/180,w,x;for(R=0;R<A;R+=1)for(w=Math.sin(R*g),x=Math.cos(R*g),T=0;T<N;T+=1)_=Math.floor(a+F*T/N*x),c=Math.floor(p+F*T/N*w),m=(c*y+_)*4,h=b[m+0],S=b[m+1],C=b[m+2],k=b[m+3],m=(R+T*y)*4,v[m+0]=h,v[m+1]=S,v[m+2]=C,v[m+3]=k},o=function(s,l,u){let b=s.data,v=l.data,y=s.width,f=s.height,a=u.polarCenterX||y/2,p=u.polarCenterY||f/2,m,_,c,h,S,C=0,k=0,M=0,F=0,N,A=Math.sqrt(a*a+p*p);_=y-a,c=f-p,N=Math.sqrt(_*_+c*c),A=N>A?N:A;let T=f,R=y,g,w,x=0,P,E;for(_=0;_<y;_+=1)for(c=0;c<f;c+=1)h=_-a,S=c-p,g=Math.sqrt(h*h+S*S)*T/A,w=(Math.atan2(S,h)*180/Math.PI+360+x)%360,w=w*R/360,P=Math.floor(w),E=Math.floor(g),m=(E*y+P)*4,C=b[m+0],k=b[m+1],M=b[m+2],F=b[m+3],m=(c*y+_)*4,v[m+0]=C,v[m+1]=k,v[m+2]=M,v[m+3]=F},n=function(s){const l=s.width,u=s.height;let b,v,y,f,a,p,m,_,c,h,S=Math.round(this.kaleidoscopePower());const C=Math.round(this.kaleidoscopeAngle()),k=Math.floor(l*(C%360)/360);if(S<1)return;const M=r.Util.createCanvasElement();M.width=l,M.height=u;const F=M.getContext("2d").getImageData(0,0,l,u);r.Util.releaseCanvas(M),d(s,F,{polarCenterX:l/2,polarCenterY:u/2});let N=l/Math.pow(2,S);for(;N<=8;)N=N*2,S-=1;N=Math.ceil(N);let A=N,T=0,R=A,g=1;for(k+N>l&&(T=A,R=0,g=-1),v=0;v<u;v+=1)for(b=T;b!==R;b+=g)y=Math.round(b+k)%l,c=(l*v+y)*4,a=F.data[c+0],p=F.data[c+1],m=F.data[c+2],_=F.data[c+3],h=(l*v+b)*4,F.data[h+0]=a,F.data[h+1]=p,F.data[h+2]=m,F.data[h+3]=_;for(v=0;v<u;v+=1)for(A=Math.floor(N),f=0;f<S;f+=1){for(b=0;b<A+1;b+=1)c=(l*v+b)*4,a=F.data[c+0],p=F.data[c+1],m=F.data[c+2],_=F.data[c+3],h=(l*v+A*2-b-1)*4,F.data[h+0]=a,F.data[h+1]=p,F.data[h+2]=m,F.data[h+3]=_;A*=2}o(F,s,{polarRotation:0})};return On.Kaleidoscope=n,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),On}var Nn={},ts;function Su(){if(ts)return Nn;ts=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Mask=void 0;const t=dt(),e=Et(),r=ut();function i(y,f,a){let p=(a*y.width+f)*4;const m=[];return m.push(y.data[p++],y.data[p++],y.data[p++],y.data[p++]),m}function d(y,f){return Math.sqrt(Math.pow(y[0]-f[0],2)+Math.pow(y[1]-f[1],2)+Math.pow(y[2]-f[2],2))}function o(y){const f=[0,0,0];for(let a=0;a<y.length;a++)f[0]+=y[a][0],f[1]+=y[a][1],f[2]+=y[a][2];return f[0]/=y.length,f[1]/=y.length,f[2]/=y.length,f}function n(y,f){const a=i(y,0,0),p=i(y,y.width-1,0),m=i(y,0,y.height-1),_=i(y,y.width-1,y.height-1),c=f||10;if(d(a,p)<c&&d(p,_)<c&&d(_,m)<c&&d(m,a)<c){const h=o([p,a,_,m]),S=[];for(let C=0;C<y.width*y.height;C++){const k=d(h,[y.data[C*4],y.data[C*4+1],y.data[C*4+2]]);S[C]=k<c?0:255}return S}}function s(y,f){for(let a=0;a<y.width*y.height;a++)y.data[4*a+3]=f[a]}function l(y,f,a){const p=[1,1,1,1,0,1,1,1,1],m=Math.round(Math.sqrt(p.length)),_=Math.floor(m/2),c=[];for(let h=0;h<a;h++)for(let S=0;S<f;S++){const C=h*f+S;let k=0;for(let M=0;M<m;M++)for(let F=0;F<m;F++){const N=h+M-_,A=S+F-_;if(N>=0&&N<a&&A>=0&&A<f){const T=N*f+A,R=p[M*m+F];k+=y[T]*R}}c[C]=k===255*8?255:0}return c}function u(y,f,a){const p=[1,1,1,1,1,1,1,1,1],m=Math.round(Math.sqrt(p.length)),_=Math.floor(m/2),c=[];for(let h=0;h<a;h++)for(let S=0;S<f;S++){const C=h*f+S;let k=0;for(let M=0;M<m;M++)for(let F=0;F<m;F++){const N=h+M-_,A=S+F-_;if(N>=0&&N<a&&A>=0&&A<f){const T=N*f+A,R=p[M*m+F];k+=y[T]*R}}c[C]=k>=255*4?255:0}return c}function b(y,f,a){const p=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],m=Math.round(Math.sqrt(p.length)),_=Math.floor(m/2),c=[];for(let h=0;h<a;h++)for(let S=0;S<f;S++){const C=h*f+S;let k=0;for(let M=0;M<m;M++)for(let F=0;F<m;F++){const N=h+M-_,A=S+F-_;if(N>=0&&N<a&&A>=0&&A<f){const T=N*f+A,R=p[M*m+F];k+=y[T]*R}}c[C]=k}return c}const v=function(y){let f=this.threshold(),a=n(y,f);return a&&(a=l(a,y.width,y.height),a=u(a,y.width,y.height),a=b(a,y.width,y.height),s(y,a)),y};return Nn.Mask=v,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Nn}var Ln={},es;function xu(){if(es)return Ln;es=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.Noise=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){const o=this.noise()*255,n=d.data,s=n.length,l=o/2;for(let u=0;u<s;u+=4)n[u+0]+=l-2*l*Math.random(),n[u+1]+=l-2*l*Math.random(),n[u+2]+=l-2*l*Math.random()};return Ln.Noise=i,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Ln}var Gn={},ns;function Cu(){if(ns)return Gn;ns=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.Pixelate=void 0;const t=dt(),e=At(),r=Et(),i=ut(),d=function(o){let n=Math.ceil(this.pixelSize()),s=o.width,l=o.height,u,b,v,y,f,a,p,m=Math.ceil(s/n),_=Math.ceil(l/n),c,h,S,C,k,M,F,N=o.data;if(n<=0){e.Util.error("pixelSize value can not be <= 0");return}for(k=0;k<m;k+=1)for(M=0;M<_;M+=1){for(y=0,f=0,a=0,p=0,c=k*n,h=c+n,S=M*n,C=S+n,F=0,u=c;u<h;u+=1)if(!(u>=s))for(b=S;b<C;b+=1)b>=l||(v=(s*b+u)*4,y+=N[v+0],f+=N[v+1],a+=N[v+2],p+=N[v+3],F+=1);for(y=y/F,f=f/F,a=a/F,p=p/F,u=c;u<h;u+=1)if(!(u>=s))for(b=S;b<C;b+=1)b>=l||(v=(s*b+u)*4,N[v+0]=y,N[v+1]=f,N[v+2]=a,N[v+3]=p)}};return Gn.Pixelate=d,t.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Gn}var Dn={},rs;function Au(){if(rs)return Dn;rs=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.Posterize=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){let o=Math.round(this.levels()*254)+1,n=d.data,s=n.length,l=255/o,u;for(u=0;u<s;u+=1)n[u]=Math.floor(n[u]/l)*l};return Dn.Posterize=i,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Dn}var In={},is;function ku(){if(is)return In;is=1,Object.defineProperty(In,"__esModule",{value:!0}),In.RGB=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){let o=d.data,n=o.length,s=this.red(),l=this.green(),u=this.blue(),b,v;for(b=0;b<n;b+=4)v=(.34*o[b]+.5*o[b+1]+.16*o[b+2])/255,o[b]=v*s,o[b+1]=v*l,o[b+2]=v*u,o[b+3]=o[b+3]};return In.RGB=i,t.Factory.addGetterSetter(e.Node,"red",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),t.Factory.addGetterSetter(e.Node,"green",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),In}var Bn={},os;function Pu(){if(os)return Bn;os=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.RGBA=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){const o=d.data,n=o.length,s=this.red(),l=this.green(),u=this.blue(),b=this.alpha();for(let v=0;v<n;v+=4){const y=1-b;o[v]=s*b+o[v]*y,o[v+1]=l*b+o[v+1]*y,o[v+2]=u*b+o[v+2]*y}};return Bn.RGBA=i,t.Factory.addGetterSetter(e.Node,"red",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),t.Factory.addGetterSetter(e.Node,"green",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(d){return this._filterUpToDate=!1,d>1?1:d<0?0:d}),Bn}var Un={},ss;function Tu(){if(ss)return Un;ss=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.Sepia=void 0;const t=function(e){let r=e.data,i=r.length,d,o,n,s;for(d=0;d<i;d+=4)o=r[d+0],n=r[d+1],s=r[d+2],r[d+0]=Math.min(255,o*.393+n*.769+s*.189),r[d+1]=Math.min(255,o*.349+n*.686+s*.168),r[d+2]=Math.min(255,o*.272+n*.534+s*.131)};return Un.Sepia=t,Un}var Vn={},as;function Eu(){if(as)return Vn;as=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.Solarize=void 0;const t=function(e){const r=e.data,i=e.width,d=e.height,o=i*4;let n=d;do{const s=(n-1)*o;let l=i;do{const u=s+(l-1)*4;let b=r[u],v=r[u+1],y=r[u+2];b>127&&(b=255-b),v>127&&(v=255-v),y>127&&(y=255-y),r[u]=b,r[u+1]=v,r[u+2]=y}while(--l)}while(--n)};return Vn.Solarize=t,Vn}var zn={},ls;function Ru(){if(ls)return zn;ls=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.Threshold=void 0;const t=dt(),e=Et(),r=ut(),i=function(d){const o=this.threshold()*255,n=d.data,s=n.length;for(let l=0;l<s;l+=1)n[l]=n[l]<o?0:255};return zn.Threshold=i,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),zn}var cs;function Fu(){if(cs)return en;cs=1,Object.defineProperty(en,"__esModule",{value:!0}),en.Konva=void 0;const t=Jd(),e=Zd(),r=tu(),i=eu(),d=nu(),o=ru(),n=iu(),s=ta(),l=ki(),u=ea(),b=ou(),v=su(),y=au(),f=lu(),a=na(),p=cu(),m=du(),_=uu(),c=hu(),h=fu(),S=gu(),C=pu(),k=mu(),M=bu(),F=vu(),N=yu(),A=_u(),T=wu(),R=Su(),g=xu(),w=Cu(),x=Au(),P=ku(),E=Pu(),I=Tu(),G=Eu(),V=Ru();return en.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:r.Arrow,Circle:i.Circle,Ellipse:d.Ellipse,Image:o.Image,Label:n.Label,Tag:n.Tag,Line:s.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:b.RegularPolygon,Ring:v.Ring,Sprite:y.Sprite,Star:f.Star,Text:a.Text,TextPath:p.TextPath,Transformer:m.Transformer,Wedge:_.Wedge,Filters:{Blur:c.Blur,Brighten:h.Brighten,Contrast:S.Contrast,Emboss:C.Emboss,Enhance:k.Enhance,Grayscale:M.Grayscale,HSL:F.HSL,HSV:N.HSV,Invert:A.Invert,Kaleidoscope:T.Kaleidoscope,Mask:R.Mask,Noise:g.Noise,Pixelate:w.Pixelate,Posterize:x.Posterize,RGB:P.RGB,RGBA:E.RGBA,Sepia:I.Sepia,Solarize:G.Solarize,Threshold:V.Threshold}}),en}var Mu=cr.exports,ds;function Ou(){if(ds)return cr.exports;ds=1,Object.defineProperty(Mu,"__esModule",{value:!0});const t=Fu();return cr.exports=t.Konva,cr.exports}var Nu=Ou();const rr=ya(Nu),Lu=["mouseover","mouseout","mouseenter","mouseleave","mousemove","mousedown","mouseup","wheel","click","dblclick","touchstart","touchmove","touchend","tap","dbltap","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerenter","pointerout","pointerleave","pointerclick","pointerdblclick","dragstart","dragmove","dragend","transformstart","transform","transformend"];function ir(t,e){Lu.forEach(r=>{const i=t[`on${r}`];typeof i=="function"&&e.on(r,d=>{i(d)})})}const _r=["svelte-konva-stage","svelte-konva-layer","svelte-konva-group","svelte-konva-label"];var Ue;(function(t){t[t.Stage=0]="Stage",t[t.Layer=1]="Layer",t[t.Group=2]="Group",t[t.Label=3]="Label"})(Ue||(Ue={}));const Gu="svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.",Du="svelte-konva: A Layer needs to have a Stage as parent.";function Pi(t,e){_r.forEach(r=>{dr(r,null)}),dr(_r[t],e)}function Ti(){for(let t=1;t<4;t++){const e=wr(_r[t]);if(e)return e}throw new Error(Gu)}function Iu(){const t=wr(_r[Ue.Stage]);if(t)return t;throw new Error(Du)}function Th(t,e){Ht(e,!0);const r=ne(),i=()=>Qt(_,"$parent",r);let d=W(e,"staticConfig",3,!1),o=W(e,"x",15),n=W(e,"y",15),s=W(e,"scale",15),l=W(e,"scaleX",15),u=W(e,"scaleY",15),b=W(e,"rotation",15),v=W(e,"skewX",15),y=W(e,"skewY",15),f=tr(e,["$$slots","$$events","$$legacy","children","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const a=new rr.Group({x:o(),y:n(),scale:s(),scaleX:l(),scaleY:u(),rotation:b(),skewX:v(),skewY:y(),...f}),p=li(null);let m=ur(!1);const _=Ti();Zn(()=>{if(i().add(a),!d()){const C=a.getAttrs();a.on("transformend",()=>{o()!==void 0&&o(C.x),n()!==void 0&&n(C.y),s()!==void 0&&s(C.scale),l()!==void 0&&l(C.scaleX),u()!==void 0&&u(C.scaleY),b()!==void 0&&b(C.rotation),v()!==void 0&&v(C.skewX),y()!==void 0&&y(C.skewY)}),a.on("dragend",()=>{o()!==void 0&&o(C.x),n()!==void 0&&n(C.y)})}Object.keys(f).filter(C=>!C.startsWith("on")).forEach(C=>{at(()=>{a.setAttr(C,f[C])})}),at(()=>{a.setAttr("x",o())}),at(()=>{a.setAttr("y",n())}),at(()=>{a.setAttr("scale",s())}),at(()=>{a.setAttr("scaleX",l())}),at(()=>{a.setAttr("scaleY",u())}),at(()=>{a.setAttr("rotation",b())}),at(()=>{a.setAttr("skewX",v())}),at(()=>{a.setAttr("skewY",y())}),ir(f,a),p.set(a),se(m,!0)}),$n(()=>{a.destroy()}),Pi(Ue.Group,p);var c=ft(),h=gt(c);{var S=C=>{var k=ft(),M=gt(k);ci(M,()=>e.children),et(C,k)};Dt(h,C=>{Z(m)&&e.children&&C(S)})}return et(t,c),qt({handle:a})}function Eh(t,e){Ht(e,!0);const r=ne(),i=()=>Qt(p,"$parent",r);let d=W(e,"staticConfig",3,!1),o=W(e,"x",15),n=W(e,"y",15),s=W(e,"scale",15),l=W(e,"scaleX",15),u=W(e,"scaleY",15),b=W(e,"rotation",15),v=W(e,"skewX",15),y=W(e,"skewY",15),f=tr(e,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const a=new rr.Image({x:o(),y:n(),scale:s(),scaleX:l(),scaleY:u(),rotation:b(),skewX:v(),skewY:y(),...f}),p=Ti();return Zn(()=>{if(i().add(a),!d()){const m=a.getAttrs();a.on("transformend",()=>{o()!==void 0&&o(m.x),n()!==void 0&&n(m.y),s()!==void 0&&s(m.scale),l()!==void 0&&l(m.scaleX),u()!==void 0&&u(m.scaleY),b()!==void 0&&b(m.rotation),v()!==void 0&&v(m.skewX),y()!==void 0&&y(m.skewY)}),a.on("dragend",()=>{o()!==void 0&&o(m.x),n()!==void 0&&n(m.y)})}Object.keys(f).filter(m=>!m.startsWith("on")).forEach(m=>{at(()=>{a.setAttr(m,f[m])})}),at(()=>{a.setAttr("x",o())}),at(()=>{a.setAttr("y",n())}),at(()=>{a.setAttr("scale",s())}),at(()=>{a.setAttr("scaleX",l())}),at(()=>{a.setAttr("scaleY",u())}),at(()=>{a.setAttr("rotation",b())}),at(()=>{a.setAttr("skewX",v())}),at(()=>{a.setAttr("skewY",y())}),ir(f,a)}),$n(()=>{a.destroy()}),qt({handle:a})}function Rh(t,e){Ht(e,!0);const r=ne(),i=()=>Qt(_,"$parent",r);let d=W(e,"staticConfig",3,!1),o=W(e,"x",15),n=W(e,"y",15),s=W(e,"scale",15),l=W(e,"scaleX",15),u=W(e,"scaleY",15),b=W(e,"rotation",15),v=W(e,"skewX",15),y=W(e,"skewY",15),f=tr(e,["$$slots","$$events","$$legacy","children","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const a=new rr.Layer({x:o(),y:n(),scale:s(),scaleX:l(),scaleY:u(),rotation:b(),skewX:v(),skewY:y(),...f}),p=li(null);let m=ur(!1),_=Iu();Zn(()=>{if(i().add(a),!d()){const C=a.getAttrs();a.on("transformend",()=>{o()!==void 0&&o(C.x),n()!==void 0&&n(C.y),s()!==void 0&&s(C.scale),l()!==void 0&&l(C.scaleX),u()!==void 0&&u(C.scaleY),b()!==void 0&&b(C.rotation),v()!==void 0&&v(C.skewX),y()!==void 0&&y(C.skewY)}),a.on("dragend",()=>{o()!==void 0&&o(C.x),n()!==void 0&&n(C.y)})}Object.keys(f).filter(C=>!C.startsWith("on")).forEach(C=>{at(()=>{a.setAttr(C,f[C])})}),at(()=>{a.setAttr("x",o())}),at(()=>{a.setAttr("y",n())}),at(()=>{a.setAttr("scale",s())}),at(()=>{a.setAttr("scaleX",l())}),at(()=>{a.setAttr("scaleY",u())}),at(()=>{a.setAttr("rotation",b())}),at(()=>{a.setAttr("skewX",v())}),at(()=>{a.setAttr("skewY",y())}),ir(f,a),p.set(a),se(m,!0)}),$n(()=>{a.destroy()}),Pi(Ue.Layer,p);var c=ft(),h=gt(c);{var S=C=>{var k=ft(),M=gt(k);ci(M,()=>e.children),et(C,k)};Dt(h,C=>{Z(m)&&e.children&&C(S)})}return et(t,c),qt({handle:a})}var Bu=re("<div><!></div>");function Fh(t,e){Ht(e,!0);let r=W(e,"staticConfig",3,!1),i=W(e,"x",15),d=W(e,"y",15),o=tr(e,["$$slots","$$events","$$legacy","children","staticConfig","x","y","divWrapperProps"]),n=ur(null);function s(){return Z(n)}const l=li(null);let u,b=ur(!1);Zn(()=>{if(se(n,va(new rr.Stage({container:u,y:d(),x:i(),...o}))),!r()){const p=Z(n).getAttrs();Z(n).on("dragend",()=>{i()!==void 0&&i(p.x),d()!==void 0&&d(p.y)})}Object.keys(o).filter(p=>!p.startsWith("on")).forEach(p=>{at(()=>{Z(n).setAttr(p,o[p])})}),at(()=>{Z(n).setAttr("x",i())}),at(()=>{Z(n).setAttr("y",d())}),ir(o,Z(n)),l.set(Z(n)),se(b,!0)}),$n(()=>{Z(n)&&Z(n).destroy()}),Pi(Ue.Stage,l);var v=Bu();let y;var f=Zt(v);{var a=p=>{var m=ft(),_=gt(m);ci(_,()=>e.children),et(p,m)};Dt(f,p=>{Z(b)&&e.children&&p(a)})}return Xt(v,p=>u=p,()=>u),It(()=>y=Bt(v,y,{...e.divWrapperProps})),et(t,v),qt({handle:s})}function Mh(t,e){Ht(e,!0);const r=ne(),i=()=>Qt(p,"$parent",r);let d=W(e,"staticConfig",3,!1),o=W(e,"x",15),n=W(e,"y",15),s=W(e,"scale",15),l=W(e,"scaleX",15),u=W(e,"scaleY",15),b=W(e,"rotation",15),v=W(e,"skewX",15),y=W(e,"skewY",15),f=tr(e,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const a=new rr.Text({x:o(),y:n(),scale:s(),scaleX:l(),scaleY:u(),rotation:b(),skewX:v(),skewY:y(),...f}),p=Ti();return Zn(()=>{if(i().add(a),!d()){const m=a.getAttrs();a.on("transformend",()=>{o()!==void 0&&o(m.x),n()!==void 0&&n(m.y),s()!==void 0&&s(m.scale),l()!==void 0&&l(m.scaleX),u()!==void 0&&u(m.scaleY),b()!==void 0&&b(m.rotation),v()!==void 0&&v(m.skewX),y()!==void 0&&y(m.skewY)}),a.on("dragend",()=>{o()!==void 0&&o(m.x),n()!==void 0&&n(m.y)})}Object.keys(f).filter(m=>!m.startsWith("on")).forEach(m=>{at(()=>{a.setAttr(m,f[m])})}),at(()=>{a.setAttr("x",o())}),at(()=>{a.setAttr("y",n())}),at(()=>{a.setAttr("scale",s())}),at(()=>{a.setAttr("scaleX",l())}),at(()=>{a.setAttr("scaleY",u())}),at(()=>{a.setAttr("rotation",b())}),at(()=>{a.setAttr("skewX",v())}),at(()=>{a.setAttr("skewY",y())}),ir(f,a)}),$n(()=>{a.destroy()}),qt({handle:a})}export{Zu as B,lh as C,zu as D,Th as G,Eh as I,$u as L,nh as S,Mh as T,rh as a,eh as b,sh as c,ih as d,ch as e,th as f,oh as g,dh as h,Qs as i,Fh as j,Rh as k,lr as l,Hu as m,ju as n,Qu as o,Yu as p,qu as q,Ku as r,Wu as s,ah as t,Xu as u,Ju as v};
