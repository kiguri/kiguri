var fe=Object.defineProperty;var ge=(e,t,r)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rt=(e,t,r)=>ge(e,typeof t!="symbol"?t+"":t,r);import{t as me,c as ve,S as he,a as be,C as pe,b as _e,d as ye,e as we,f as xe,g as ke,L as Se,B as Ae,h as Ce,i as Te,I as Qt,T as Pe,j as Ie,k as Yt,G as Dt}from"./vendor.js";import{d as it,g as Tt,w as J,c as Oe,l as W,p as L,a as S,i as Z,s as rt,b as z,e as x,f as y,h as K,j as dt,k as h,m as l,t as I,n as pt,o as H,q as _t,r as B,u as vt,v as Le,x as ze,y as k,z as at,A as yt,B as q,C as M,D as V,E as lt,F as ct,G as T,H as Zt,I as je,J as Xe,K as wt,L as bt,M as Q,N as It,O as Ne,P as N,Q as tt,R as et,S as nt,T as xt,U as Me,V as We,W as Ee,X as Fe,Y as At,Z as Ve,_ as Ct,$ as He,a0 as Re,a1 as Ye,a2 as De,a3 as Ge,a4 as Gt}from"./svelte.js";import"./index.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const Be=(e,t,r)=>{var s;if(!e||!t)return;let i=t.product_type;const n=t.variants.find(c=>c.id+""===r),o=(s=e.options.find(c=>c.name==="Product Type"))==null?void 0:s.options;return o&&(o.includes((n==null?void 0:n.option3)??"")?i=(n==null?void 0:n.option3)??"":o.includes((n==null?void 0:n.option2)??"")?i=(n==null?void 0:n.option2)??"":o.includes((n==null?void 0:n.option1)??"")&&(i=(n==null?void 0:n.option1)??"")),{productType:i,variant:n}},Ue=(e,t,r,i)=>{if(!r||!e||!i)return;const n=e.options.filter(d=>d.isChangeMockup),o=(t==null?void 0:t[r])||{},s=Object.keys(o).map(d=>t[r][d]),c=[i.option1,i.option2,i.option3,...s].filter(d=>n.some(m=>m.options.map(v=>v.trim()).includes(d))),u=e.groups.find(d=>d.attributes.every(m=>c.some(v=>m.values.map(b=>b.trim()).includes(v)))),a=u==null?void 0:u.mockups[0].mockup,g=a==null?void 0:a.mockupImages.find(d=>{const{attributes:m}=d;return Object.keys(m).every(v=>{var b;return c.includes((b=m[v])==null?void 0:b.trim())})});let f="";return g&&(f="https://api.podlovers.com/files/"+g.fileId+"/large"),[u,f]},qe=e=>{let t="";return e&&(t=e.printAreas[0].artworkId),t},Xt=840,Nt=1180;function Ke(e,t){if(e<=Nt&&t<=Xt)return[e,t];const r=Je(e,t),i=e*r,n=t*r;return[Math.min(i,Nt),Math.min(n,Xt)]}function Je(e,t){const r=Nt/e,i=Xt/t;return Math.min(r,i)}var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ur(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const $t=(e,t)=>{if(t)for(const r of t){if(r.id===e)return r;if(r.children){const i=$t(e,r.children);if(i)return i}}};function Qe(e,t){const r={};return e.forEach(n=>{r[n.id]=Mt(n,e,r,t),n.type==="Group"&&n.children&&n.children.forEach(o=>{r[o.id]=Mt(o,e,r,t)})}),e.filter(n=>r[n.id]).map(n=>{if(n.type==="Group"&&n.children){const o=n.children.filter(s=>r[s.id]).map(s=>({...s,value:Bt(s,t)}));return{...n,children:o}}return{...n,value:Bt(n,t)}})}function Mt(e,t,r,i){return e.type!=="Option"&&!e.visible?!1:e.condition?Ze(e,t,r,i):!0}function Ze(e,t,r,i){if(!e.condition.enable||!e.condition.rules||!e.condition.rules.length)return!0;const{action:n,match:o,rules:s}=e.condition;let c=!1;switch(o){case"all":c=s.every(u=>zt(u,t,r,i));break;case"one":c=s.some(u=>zt(u,t,r,i));break;case"none":c=s.every(u=>!zt(u,t,r,i));break}return n==="show"?c:!c}function zt(e,t,r,i={}){const n=tn(e.layerId,i);return $e(e.layerId,t,r,i)?en(e.value,n,e.logic):!1}function $e(e,t,r,i={}){if(Object.prototype.hasOwnProperty.call(r,e))return r[e];const n=$t(e,t);if(!n)return!1;const o=Mt(n,t,r,i);return r[e]=o,o}function tn(e,t){if(!Object.prototype.hasOwnProperty.call(t,e))return null;const r=t[e];return r===void 0?null:Object.prototype.hasOwnProperty.call(t[e],"id")?t[e].id:Object.prototype.hasOwnProperty.call(t[e],"fileId")||Object.prototype.hasOwnProperty.call(t[e],"file")?t[e].fileId||t[e].file.id:Object.prototype.hasOwnProperty.call(t[e],"text")?t[e].text:r}function en(e,t,r){switch(r){case"=":return e===t;case"!=":return e!==t;default:return!1}}function Bt(e,t){var n,o,s,c;if(!(((n=e.personalized)==null?void 0:n.enable)||e.type==="Option"))return e.value;let i={};if(e.type==="Image")t!=null&&t[e.id]&&(i=t[e.id]);else if(e.type==="Text"||e.type==="CurvedText"){const u=!!((o=t==null?void 0:t[e.id])!=null&&o.fileId);let a=(s=t==null?void 0:t[e.id])==null?void 0:s.text;a||(typeof t[e.id]=="string"?a=t[e.id]:a=""),i={...e.value,text:a,...u&&{file:{id:t[e.id].fileId,title:(c=t[e.id])==null?void 0:c.fileTitle},fileId:t[e.id].fileId}}}else e.type==="Option"&&(i=t[e.id]);return i}function Ut(e){return e.replace(/\.[^/.]+$/,"")}function te(e){return e.reduce((t,r)=>r.type==="Group"&&r.children?[...t,...te(r.children)]:[...t,r],[])}function qt(e,t){return isNaN(parseInt(e,16))?t:String.fromCharCode(parseInt(e,16))}const nn=(e,t,r)=>(!t||t.length===0||t.forEach(i=>{var c,u;const{fontSetId:n,position:o}=i,s=r==null?void 0:r.find(a=>a.id===n);if(s){if(o==="start"){const a=e.charAt(0),g=(c=s.characters)==null?void 0:c.find(f=>f.name===a);g&&(e=qt(g.unicode,a)+e.slice(1))}else if(o==="end"){const a=e.charAt(e.length-1),g=(u=s.characters)==null?void 0:u.find(f=>f.name===a);g&&(e=e.slice(0,e.length-1)+qt(g.unicode,a))}}}),e);function rn(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" ")}function an(e,t,r,i){let n=e.text;if(!n)return"";switch(t){case"uppercase":n=n.toUpperCase();break;case"lowercase":n=n.toLowerCase();break;case"capitalcase":n=rn(n);break}return e!=null&&e.prefixText&&(n=e.prefixText+n),e!=null&&e.suffixText&&(n=n+e.suffixText),r&&(n=nn(n,r,i==null?void 0:i.fontSets)),n}const P=J({loading:!1,product:null,settings:null,variantId:null,customAttrs:null,config:{}}),ee=it(P,e=>Be(e.settings,e.product,e.variantId)),Et=it([P,ee],([e,t])=>t?Ue(e.settings,e.customAttrs,t.productType,t.variant):null),kt=it([Et],([e])=>{if(!e)return null;const[t]=e;return qe(t)}),Ot=it([P,kt],([e,t])=>{var r;return(r=e.settings)==null?void 0:r.artworks.find(i=>i.id===t)}),mt=(()=>{const{subscribe:e}=it([P,kt],([t,r])=>{if(!r)return;const i=t.config[r];return Object.keys(i||{}).find(o=>i[o].active)});return{subscribe:e,set:t=>{P.update(r=>{const i=Tt(kt);return i?t?(r.config[i]||(r.config[i]={}),Object.keys(r.config[i]).forEach(n=>{r.config[i][n].active=!1}),r.config[i][t]={...r.config[i][t],active:!0},{...r}):(i&&r.config[i]&&Object.keys(r.config[i]).forEach(n=>{r.config[i][n].active=!1}),r):r})}}})(),Pt=(()=>{const{subscribe:e}=it([P,kt,mt],([t,r,i])=>{var o,s;return!r||!i||(s=(o=t.config)==null?void 0:o[r])==null?void 0:s[i]});return{subscribe:e,set:t=>{P.update(r=>{const i=Tt(kt);if(!i)return r;const n=Tt(mt);return n?(r.config[i]||(r.config[i]={}),r.config[i][n]||(r.config[i][n]={}),r.config[i][n]={...r.config[i][n],...t},{...r}):r})}}})(),on=it(P,e=>{var r,i,n;const t=(r=e.product)==null?void 0:r.variants.find(o=>o.id+""===e.variantId);if(!t)return[];if((i=e.settings)!=null&&i.combineVariants){const o=e.settings.combineVariants.find(c=>{let u=!0,a=!0,g=!0;return t.option1&&(u=c.some(f=>f.options.map(d=>d.trim()).includes(t.option1))),t.option2&&(a=c.some(f=>f.options.map(d=>d.trim()).includes(t.option2))),t.option3&&(g=c.some(f=>f.options.map(d=>d.trim()).includes(t.option3))),u&&a&&g});if(!o)return[];const s=e.settings.groups.filter(c=>{const u=c.attributes.some(f=>{const d=o.find(m=>m.name===f.name);return d&&f.values.every(m=>d.options.includes(m))&&f.values.length===d.options.length});let a=!1;const g=c.attributes.find(f=>f.name==="Product Type");return g&&(a=o.some(f=>f.name==="Product Type"&&f.options.every(d=>g.values.includes(d)&&g.values.length===f.options.length))),u&&a});return e.settings.options.filter(c=>!c.isPublishOnShopify).map(c=>{const{name:u}=c,a=o.find(d=>d.name===u),f=s.map(d=>d.attributes.find(m=>m.name===u)).reduce((d,m)=>(m&&d.push(...m.values),d),[]).map(d=>a==null?void 0:a.options.find(v=>v===d)).filter(d=>!!d);return{...c,options:f}})}return((n=e.settings)==null?void 0:n.options.filter(o=>!o.isPublishOnShopify))||[]}),sn=it([Ot,mt],([e,t])=>{var r;return(r=e==null?void 0:e.templates)==null?void 0:r.find(i=>i.id===t)}),ne=it([sn,Pt],([e,t])=>!e||!t?[]:Qe(e.layers,t)),ln=it([P,Ot,mt,ne],([e,t,r,i])=>{if(!e.settings||!t)return[];const n=t.templates.findIndex(u=>u.id===r),s=(e.settings.ordering[t.id]||[])[n]||[],c=te(i);return Array.from(new Set(s)).map(u=>c.find(a=>a.id===u)).filter(u=>!!u&&u.personalized&&u.personalized.enable)}),re=(e,t)=>{const i={...Tt(Pt),[e]:t};Pt.set(i)};function ot(...e){return me(ve(e))}const cn=(e,t={y:-8,x:0,start:.95,duration:150})=>{const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform,n=(s,c,u)=>{const[a,g]=c,[f,d]=u;return(s-a)/(g-a)*(d-f)+f},o=s=>Object.keys(s).reduce((c,u)=>s[u]===void 0?c:c+`${u}:${s[u]};`,"");return{duration:t.duration??200,delay:0,css:s=>{const c=n(s,[0,1],[t.y??5,0]),u=n(s,[0,1],[t.x??0,0]),a=n(s,[0,1],[t.start??.95,1]);return o({transform:`${i} translate3d(${u}px, ${c}px, 0) scale(${a})`,opacity:s})},easing:Oe}};var un=I('<span class="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"><!></span> <!>',1);function ie(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class","value","label","disabled"]);L(t,!1);let n=S(t,"class",8,void 0),o=S(t,"value",8),s=S(t,"label",8,void 0),c=S(t,"disabled",8,void 0);Z();var u=pt(()=>ot("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n()));he(e,rt({get value(){return o()},get disabled(){return c()},get label(){return s()},get class(){return l(u)}},()=>i,{$$events:{click(a){x.call(this,t,a)},keydown(a){x.call(this,t,a)},focusin(a){x.call(this,t,a)},focusout(a){x.call(this,t,a)},pointerleave(a){x.call(this,t,a)},pointermove(a){x.call(this,t,a)}},children:(a,g)=>{var f=un(),d=y(f),m=H(d);be(m,{children:(b,p)=>{pe(b,{class:"h-4 w-4"})},$$slots:{default:!0}});var v=K(d,2);dt(v,t,"default",{},b=>{var p=_t();B(()=>vt(p,s()||o())),h(b,p)}),h(a,f)},$$slots:{default:!0}})),z()}var dn=I('<div class="w-full p-1"><!></div>');function ae(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["sideOffset","inTransition","inTransitionConfig","outTransition","outTransitionConfig","class"]);L(t,!1);let n=S(t,"sideOffset",8,4),o=S(t,"inTransition",8,cn),s=S(t,"inTransitionConfig",8,void 0),c=S(t,"outTransition",8,Le),u=S(t,"outTransitionConfig",24,()=>({start:.95,opacity:0,duration:50})),a=S(t,"class",8,void 0);Z();var g=pt(()=>ot("bg-popover text-popover-foreground relative z-50 min-w-[8rem] overflow-hidden rounded-md border shadow-md outline-none",a()));_e(e,rt({get inTransition(){return o()},get inTransitionConfig(){return s()},get outTransition(){return c()},get outTransitionConfig(){return u()},get sideOffset(){return n()},get class(){return l(g)}},()=>i,{$$events:{keydown(f){x.call(this,t,f)}},children:(f,d)=>{var m=dn(),v=H(m);dt(v,t,"default",{},null),h(f,m)},$$slots:{default:!0}})),z()}var fn=I("<!> <div><!></div>",1);function oe(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class"]);L(t,!1);let n=S(t,"class",8,void 0);Z();var o=pt(()=>ot("border-input bg-background ring-offset-background focus-visible:ring-ring aria-[invalid]:border-destructive data-[placeholder]:[&>span]:text-muted-foreground flex h-10 w-full items-center justify-between rounded-md border px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n()));ye(e,rt({get class(){return l(o)}},()=>i,{$$events:{click(s){x.call(this,t,s)},keydown(s){x.call(this,t,s)}},children:ze,$$slots:{default:(s,c)=>{const u=pt(()=>c.builder);var a=fn(),g=y(a);dt(g,t,"default",{get builder(){return l(u)}},null);var f=K(g,2),d=H(f);we(d,{class:"h-4 w-4 opacity-50"}),h(s,a)}}})),z()}const se=xe,le=ke;function Ft(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class"]);L(t,!1);let n=S(t,"class",8,void 0);Z();var o=pt(()=>ot("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n()));Se(e,rt({get class(){return l(o)}},()=>i,{$$events:{mousedown(s){x.call(this,t,s)}},children:(s,c)=>{var u=k(),a=y(u);dt(a,t,"default",{},null),h(s,u)},$$slots:{default:!0}})),z()}var gn=I("<!> <!>",1),mn=I('<div class="space-y-0.5"><!> <!></div>');function vn(e,t){L(t,!0);const r=at(),i=()=>M(mt,"$templateId",r);yt(()=>{t.templates.length>0&&(i()||(mt.set(t.templates[0].id),Pt.set(t.artworkValues[0])))});var n=k(),o=y(n);{var s=c=>{var u=mn(),a=H(u);Ft(a,{children:(d,m)=>{var v=_t();B(()=>vt(v,t.label)),h(d,v)},$$slots:{default:!0}});var g=K(a,2),f=T(()=>{var d;return i()?{value:i(),label:(d=t.templates.find(m=>m.id===i()))==null?void 0:d.title}:void 0});V(g,()=>se,(d,m)=>{m(d,{get selected(){return l(f)},onSelectedChange:v=>mt.set((v==null?void 0:v.value)??null),children:(v,b)=>{var p=gn(),j=y(p);V(j,()=>oe,(w,C)=>{C(w,{class:"w-full",children:(X,E)=>{var O=k(),R=y(O);V(R,()=>le,(Y,_)=>{_(Y,{placeholder:"Select a template"})}),h(X,O)},$$slots:{default:!0}})});var A=K(j,2);V(A,()=>ae,(w,C)=>{C(w,{children:(X,E)=>{var O=k(),R=y(O);lt(R,17,()=>t.templates,ct,(Y,_)=>{var F=k(),D=y(F);V(D,()=>ie,(G,ut)=>{ut(G,{get value(){return l(_).id},children:(U,st)=>{var $=_t();B(()=>vt($,l(_).title)),h(U,$)},$$slots:{default:!0}})}),h(Y,F)}),h(X,O)},$$slots:{default:!0}})}),h(v,p)},$$slots:{default:!0}})}),h(c,u)};q(o,c=>{t.templates.length>1&&c(s)})}h(e,n),z()}var hn=(e,t)=>t.onSelect(t.option),bn=I('<button type="button" aria-label="option" class="svelte-k78jh8"><span class="svelte-k78jh8"></span></button>');function pn(e,t){L(t,!0);let r=T(()=>t.option.includes(" ")?t.option.split(" ").map(o=>o.toLowerCase()).join("-"):t.option.toLowerCase());var i=bn();i.__click=[hn,t];var n=H(i);B(()=>{je(i,"active",t.isSelected),Xe(n,"background-image",`url("//cdn.shopify.com/s/files/1/0380/1412/4169/files/${l(r)}.png?"), url("https://cdn.shopify.com/s/files/1/0627/7172/4516/files/${l(r)}.png?")`)}),h(e,i),z()}Zt(["click"]);var _n=I('<div><span class="form__label"> </span> <div role="radiogroup" aria-label="select attribute" class="option_wrapper svelte-idgunn"></div></div>');function yn(e,t){L(t,!0);const r=at(),i=()=>M(ee,"$variantProductType",r),n=()=>M(P,"$store",r);let o=T(()=>{var f;return((f=i())==null?void 0:f.productType)??null});function s(f){var d,m;l(o)&&(n().customAttrs||bt(P,Q(n).customAttrs={},Q(n)),(d=n().customAttrs)!=null&&d[l(o)]||bt(P,Q(n).customAttrs={...n().customAttrs,[l(o)]:{}},Q(n)),(m=n().customAttrs[l(o)])!=null&&m[t.attribute.name]?bt(P,Q(n).customAttrs[l(o)][t.attribute.name]=f,Q(n)):bt(P,Q(n).customAttrs[l(o)]={[t.attribute.name]:f},Q(n)))}wt(()=>{var f,d;l(o)&&(!n().customAttrs||!((d=(f=n().customAttrs)==null?void 0:f[l(o)])!=null&&d[t.attribute.name]))&&s(t.attribute.options[0])});var c=_n(),u=H(c),a=H(u),g=K(u,2);lt(g,21,()=>t.attribute.options,ct,(f,d)=>{var m=T(()=>{var v,b;return l(d)===((b=(v=n().customAttrs)==null?void 0:v[l(o)])==null?void 0:b[t.attribute.name])});pn(f,{get option(){return l(d)},get type(){return t.attribute.name},onSelect:s,get isSelected(){return l(m)}})}),B(()=>vt(a,t.attribute.name)),h(e,c),z()}var wn=I("<input>");function xn(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class","value","readonly"]);L(t,!1);let n=S(t,"class",8,void 0),o=S(t,"value",12,void 0),s=S(t,"readonly",8,void 0);Z();var c=wn();let u;B(()=>u=It(c,u,{class:ot("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n()),readonly:s(),...i})),Ne(c,o),N("blur",c,function(a){x.call(this,t,a)}),N("change",c,function(a){x.call(this,t,a)}),N("click",c,function(a){x.call(this,t,a)}),N("focus",c,function(a){x.call(this,t,a)}),N("focusin",c,function(a){x.call(this,t,a)}),N("focusout",c,function(a){x.call(this,t,a)}),N("keydown",c,function(a){x.call(this,t,a)}),N("keypress",c,function(a){x.call(this,t,a)}),N("keyup",c,function(a){x.call(this,t,a)}),N("mouseover",c,function(a){x.call(this,t,a)}),N("mouseenter",c,function(a){x.call(this,t,a)}),N("mouseleave",c,function(a){x.call(this,t,a)}),N("mousemove",c,function(a){x.call(this,t,a)}),N("paste",c,function(a){x.call(this,t,a)}),N("input",c,function(a){x.call(this,t,a)}),N("wheel",c,function(a){x.call(this,t,a)},void 0,!0),h(e,c),z()}var kn=I('<div class="space-y-0.5"><!> <!></div>');function Sn(e,t){L(t,!0);let r=tt(et(t.value.text||""));wt(()=>{l(r)!==t.value.text&&re(t.id,{text:l(r)})});var i=k(),n=y(i);{var o=s=>{var c=kn(),u=H(c);Ft(u,{children:(f,d)=>{var m=_t();B(()=>vt(m,t.personalized.label)),h(f,m)},$$slots:{default:!0}});var a=K(u,2),g=T(()=>t.personalized.placeholder||"Type here...");xn(a,{get placeholder(){return l(g)},get value(){return l(r)},set value(f){nt(r,et(f))}}),h(s,c)};q(n,s=>{t.personalized&&s(o)})}h(e,i),z()}class An{constructor(t){Rt(this,"baseUrl");this.baseUrl=t}async get(t){return await fetch(`${this.baseUrl}/${t}`)}}const Cn=new An("https://api.podlovers.com"),Tn=async()=>{P.update(e=>({...e,loading:!0}));try{const r=(await(await fetch(`${window.location.pathname}.json`)).json()).product;return P.update(i=>({...i,product:r,loading:!1})),r}catch(e){console.error(e),P.update(t=>({...t,loading:!1}))}},Pn=async e=>{P.update(t=>({...t,loading:!0}));try{const t=await fetch(`https://api.podlovers.c8p.dev/products/${e}/settings`),{data:r}=await t.json();P.update(i=>({...i,settings:r,loading:!1}))}catch(t){console.error(t),P.update(r=>({...r,loading:!1}))}},In=async e=>(await Cn.get(`clipart-categories-storefront/${e}`)).json();function On(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class","variant","size","builders"]);L(t,!1);let n=S(t,"class",8,void 0),o=S(t,"variant",8,"default"),s=S(t,"size",8,"default"),c=S(t,"builders",24,()=>[]);Z();var u=pt(()=>ot(Ln({variant:o(),size:s(),className:n()})));Ae(e,rt({get builders(){return c()},get class(){return l(u)},type:"button"},()=>i,{$$events:{click(a){x.call(this,t,a)},keydown(a){x.call(this,t,a)}},children:(a,g)=>{var f=k(),d=y(f);dt(d,t,"default",{},null),h(a,f)},$$slots:{default:!0}})),z()}const Ln=Ce({base:"ring-offset-background focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});var zn=I('<img class="size-12 object-cover">');function jn(e,t){L(t,!0);let r=T(()=>t.thumbnail||t.file.thumbnail);var i=T(()=>ot("border overflow-hidden rounded p-0",{"ring-2 ring-blue-500":t.isSelected}));On(e,{type:"button",get class(){return l(i)},variant:"outline",onclick:()=>t.onSelect(t.id),children:(n,o)=>{var s=zn();B(()=>{xt(s,"src",l(r)),xt(s,"alt",t.title)}),h(n,s)},$$slots:{default:!0}}),z()}var Xn=I("<!> <!>",1),Nn=I('<div class="flex flex-wrap gap-1.5"></div>'),Mn=I('<div class="space-y-0.5"><!> <!></div>');function Wn(e,t){L(t,!0);let r=T(()=>{var g;return(g=t.personalized)==null?void 0:g.clipartCategoryId}),i=tt(void 0),n=T(()=>{var g;return((g=l(i))==null?void 0:g.cliparts)||[]}),o=T(()=>{var g;return(g=l(i))==null?void 0:g.displayMode});yt(async()=>{if(l(r)){const g=await In(l(r));nt(i,et(g.data))}});function s(g){const f=l(n).find(d=>d.id===g);f&&re(t.id,{id:f.id,title:f.title,largeImage:f.file.largeImage,fileId:f.file.id})}var c=k(),u=y(c);{var a=g=>{var f=Mn(),d=H(f);Ft(d,{children:(p,j)=>{var A=_t();B(()=>vt(A,t.personalized.label)),h(p,A)},$$slots:{default:!0}});var m=K(d,2);{var v=p=>{var j=k(),A=y(j),w=T(()=>t.value.id?{value:t.value.id,label:t.value.title?Ut(t.value.title):""}:void 0);V(A,()=>se,(C,X)=>{X(C,{get selected(){return l(w)},onSelectedChange:E=>{s((E==null?void 0:E.value)??"")},children:(E,O)=>{var R=Xn(),Y=y(R);V(Y,()=>oe,(F,D)=>{D(F,{class:"w-full",children:(G,ut)=>{var U=k(),st=y(U);V(st,()=>le,($,ft)=>{ft($,{placeholder:"Select an image"})}),h(G,U)},$$slots:{default:!0}})});var _=K(Y,2);V(_,()=>ae,(F,D)=>{D(F,{class:"max-h-72 overflow-auto",children:(G,ut)=>{var U=k(),st=y(U);lt(st,17,()=>l(n),ct,($,ft)=>{var gt=k(),Lt=y(gt);V(Lt,()=>ie,(Vt,ht)=>{ht(Vt,{get value(){return l(ft).id},children:(St,ir)=>{var Ht=_t();B(()=>vt(Ht,Ut(l(ft).title))),h(St,Ht)},$$slots:{default:!0}})}),h($,gt)}),h(G,U)},$$slots:{default:!0}})}),h(E,R)},$$slots:{default:!0}})}),h(p,j)},b=p=>{var j=Nn();lt(j,21,()=>l(n),ct,(A,w)=>{var C=T(()=>t.value.id===l(w).id);jn(A,rt(()=>l(w),{onSelect:s,get isSelected(){return l(C)}}))}),h(p,j)};q(m,p=>{l(o)==="dropdown"?p(v):p(b,!1)})}h(g,f)};q(u,g=>{t.personalized&&g(a)})}h(e,c),z()}function En(e,t){L(t,!1);const r=at(),i=()=>M(ln,"$sortedLayers",r);Z();var n=k(),o=y(n);lt(o,1,i,ct,(s,c)=>{var u=k(),a=y(u);{var g=d=>{Sn(d,rt(()=>l(c)))},f=d=>{var m=k(),v=y(m);{var b=p=>{Wn(p,rt(()=>l(c)))};q(v,p=>{l(c).type==="Image"&&p(b)},!0)}h(d,m)};q(a,d=>{l(c).type.toLowerCase().includes("text")?d(g):d(f,!1)})}h(s,u)}),h(e,n),z()}var Fn=I('<!> <!> <button class="podlovers-buy-it-now" aria-label="atc"></button>',1),Vn=I('<div class="podlovers-form-add-to-cart space-y-4 w-full"><!> <!></div>');function Hn(e,t){L(t,!1);const r=at(),i=()=>M(P,"$store",r),n=()=>M(on,"$customAttributes",r),o=()=>M(Ot,"$artwork",r);yt(()=>{let g=null;g=document.querySelector('input[name="id"]'),g.value&&bt(P,Q(i).variantId=g.value,Q(i))}),yt(()=>{let g=null;g=document.querySelector('input[name="id"]');const f={attributes:!0,childList:!0,subtree:!0},d=new MutationObserver(m=>{for(const v of m)if(v.type==="attributes"&&g.value){bt(P,Q(i).variantId=g.value,Q(i));break}});return d.observe(g,f),()=>d.disconnect()}),Z();var s=Vn(),c=H(s);lt(c,1,n,ct,(g,f)=>{yn(g,{get attribute(){return l(f)}})});var u=K(c,2);{var a=g=>{var f=Fn(),d=y(f);vn(d,{get templates(){return o().templates},get label(){return o().templateDisplayLabel},get artworkValues(){return i().settings.default[o().id]}});var m=K(d,2);En(m,{}),h(g,f)};q(u,g=>{var f;o()&&((f=i().settings)!=null&&f.default)&&g(a)})}h(e,s),z()}const Wt=Symbol("EMBLA_CAROUSEL_CONTEXT");function Rn(e){return Me(Wt,e),e}function ce(e="This component"){if(!We(Wt))throw new Error(`${e} must be used within a <Carousel.Root> component`);return Ee(Wt)}var Yn=I("<div><!></div>");function Kt(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["opts","plugins","api","orientation","class"]);L(t,!1);let n=S(t,"opts",24,()=>({})),o=S(t,"plugins",24,()=>[]),s=S(t,"api",12,void 0),c=S(t,"orientation",8,"horizontal"),u=S(t,"class",8,void 0);const a=J(void 0),g=J(c()),f=J(!1),d=J(!1),m=J(n()),v=J(o()),b=J([]),p=J(0);function j(){var _;(_=s())==null||_.scrollPrev()}function A(){var _;(_=s())==null||_.scrollNext()}function w(_,F){var D;(D=s())==null||D.scrollTo(_,F)}function C(_){_&&(f.set(_.canScrollPrev()),d.set(_.canScrollNext()),p.set(_.selectedScrollSnap()))}function X(_){_.key==="ArrowLeft"?(_.preventDefault(),j()):_.key==="ArrowRight"&&(_.preventDefault(),A())}Rn({api:a,scrollPrev:j,scrollNext:A,orientation:g,canScrollNext:d,canScrollPrev:f,handleKeyDown:X,options:m,plugins:v,onInit:E,scrollSnaps:b,selectedIndex:p,scrollTo:w});function E(_){s(_.detail),a.set(s()),b.set(s().scrollSnapList())}Fe(()=>{var _;(_=s())==null||_.off("select",C)}),At(()=>Ct(c()),()=>{g.set(c())}),At(()=>Ct(o()),()=>{v.set(o())}),At(()=>Ct(n()),()=>{m.set(n())}),At(()=>Ct(s()),()=>{s()&&(C(s()),s().on("select",C),s().on("reInit",C))}),Ve(),Z();var O=Yn();let R;var Y=H(O);dt(Y,t,"default",{},null),B(()=>R=It(O,R,{class:ot("relative",u()),role:"region","aria-roledescription":"carousel",...i})),N("mouseenter",O,function(_){x.call(this,t,_)}),N("mouseleave",O,function(_){x.call(this,t,_)}),h(e,O),z()}var Dn=I('<div class="overflow-hidden"><div><!></div></div>');function Jt(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class"]);L(t,!1);const n=at(),o=()=>M(g,"$options",n),s=()=>M(a,"$orientation",n),c=()=>M(f,"$plugins",n);let u=S(t,"class",8,void 0);const{orientation:a,options:g,plugins:f,onInit:d}=ce("<Carousel.Content/>");Z();var m=Dn(),v=H(m);let b;var p=H(v);dt(p,t,"default",{},null),He(m,(j,A)=>{var w;return(w=Te)==null?void 0:w(j,A)},()=>({options:{container:"[data-embla-container]",slides:"[data-embla-slide]",...o(),axis:s()==="horizontal"?"x":"y"},plugins:c()})),Re(()=>N("emblaInit",m,d)),B(()=>b=It(v,b,{class:ot("flex",s()==="horizontal"?"-ml-4":"-mt-4 flex-col",u()),"data-embla-container":"",...i})),h(e,m),z()}var Gn=I("<div><!></div>");function jt(e,t){const r=W(t,["children","$$slots","$$events","$$legacy"]),i=W(r,["class"]);L(t,!1);const n=at(),o=()=>M(c,"$orientation",n);let s=S(t,"class",8,void 0);const{orientation:c}=ce("<Carousel.Item/>");Z();var u=Gn();let a;var g=H(u);dt(g,t,"default",{},null),B(()=>a=It(u,a,{role:"group","aria-roledescription":"slide",class:ot("min-w-0 shrink-0 grow-0 basis-full",o()==="horizontal"?"pl-4":"pt-4",s()),"data-embla-slide":"",...i})),h(e,u),z()}function ue(){const e=J("loading"),t=J(),r=J();let i=tt(null),n=tt(null);const o=c=>{l(n)&&l(n).abort(),nt(n,et(new AbortController));const{signal:u}=l(n);e.set("loading"),r.set(void 0);const a=new Image;a.src=c,u.addEventListener("abort",()=>{a.src=""}),a.onload=()=>{u.aborted||(e.set("loaded"),r.set(a),t.set(a))},a.onerror=()=>{u.aborted||(e.set("error"),r.set(void 0))}},s=c=>{c!==l(i)&&(nt(i,et(c)),o(c))};return yt(()=>()=>{l(n)&&l(n).abort()}),{status:e,image:t,updateSrc:s}}function Bn(e,t){L(t,!0);const r=at(),i=()=>M(n,"$image",r),{image:n,updateSrc:o}=ue();wt(()=>{t.src&&o(t.src)}),Qt(e,{get image(){return i()},x:0,y:0,get width(){return t.width},get height(){return t.height},listening:!1}),z()}function Un(e,t){L(t,!0);const r=at(),i=()=>M(o,"$image",r);let n=T(()=>{var c;return(c=t.personalized)!=null&&c.enable?t.value.largeImage:t.file.largeImage||t.file.mediumImage});const{image:o,updateSrc:s}=ue();wt(()=>{s(l(n))}),Qt(e,{get image(){return i()},get x(){return t.x},get y(){return t.y},get width(){return t.width},get height(){return t.height},get scaleX(){return t.scaleX},get scaleY(){return t.scaleY},get rotation(){return t.rotation}}),z()}function qn(e,t){L(t,!0);let r=tt(void 0),i=tt(!1),n=T(()=>an(t.value,t.textTransform,t.fontSets,t.font)),o=T(()=>{var d;return(d=t.font)==null?void 0:d.family.split(".")[0]}),s=T(()=>{var d;return(d=t.font)==null?void 0:d.file.originalImage});async function c(){if(!l(o)||!l(s))return!1;if(Array.from(document.fonts.values()).some(m=>m.family===l(o)))return!0;try{const m=new FontFace(l(o),`url(${l(s)})`);return await m.load(),document.fonts.add(m),!0}catch(m){return console.error("Font couldn't be loaded:",m),!1}}function u(d,m){if(!m)return{scale:t.scaleX||1,width:t.width||0};const b=m.split(`
`).reduce((C,X)=>Math.max(C,d.measureSize(X).width),0),p=d.width(),j=d.getTextWidth(),A=d.getAttr("fontSize")*(t.scaleX||1)/3;if(b<=0)return{scale:t.scaleX||1,width:p};const w=(p*(t.scaleX||1)-A)/b;if(b>j)return{scale:w,width:p*(t.scaleX||1)/w};{const C=Math.min(w,t.scaleX||1);return{scale:C,width:p*(t.scaleX||1)/C}}}yt(async()=>{nt(i,et(await c()))}),wt(()=>{var m;if(!((m=l(r))!=null&&m.handle)||!l(n))return;const d=l(r).handle;l(i)&&l(o)&&d.fontFamily(l(o)),requestAnimationFrame(()=>{var p;const{scale:v,width:b}=u(d,l(n));d.setAttrs({scaleX:v,width:b}),(p=d.getLayer())==null||p.batchDraw()})});var a=T(()=>t.strokeWidth||0),g=T(()=>+t.letterSpacing),f=T(()=>t.lineHeight||1);Ye(Pe(e,{get text(){return l(n)},get x(){return t.x},get y(){return t.y},get width(){return t.width},get height(){return t.height},get scaleX(){return t.scaleX},get scaleY(){return t.scaleY},get rotation(){return t.rotation},get fontSize(){return t.fontSize},get fontStyle(){return t.fontStyle},get align(){return t.align},get verticalAlign(){return t.verticalAlign},wrap:"none",lineJoin:"round",padding:0,fillAfterStrokeEnabled:!0,get stroke(){return t.stroke},get strokeWidth(){return l(a)},get globalCompositeOperation(){return t.globalCompositeOperation},get letterSpacing(){return l(g)},get lineHeight(){return l(f)},get fill(){return t.fill},get fontFamily(){return l(o)}}),d=>nt(r,et(d)),()=>l(r)),z()}function de(e,t){L(t,!0);var r=k(),i=y(r);{var n=o=>{var s=k(),c=y(s);lt(c,17,()=>t.layers,ct,(u,a)=>{var g=k(),f=y(g);{var d=v=>{de(v,{get layers(){return l(a).children}})},m=v=>{var b=k(),p=y(b);{var j=w=>{Un(w,rt(()=>l(a)))},A=w=>{var C=k(),X=y(C);{var E=O=>{qn(O,rt(()=>l(a)))};q(X,O=>{l(a).type.toLowerCase().includes("text")&&O(E)},!0)}h(w,C)};q(p,w=>{l(a).type==="Image"?w(j):w(A,!1)},!0)}h(v,b)};q(f,v=>{l(a).type==="Group"?v(d):v(m,!1)})}h(u,g)}),h(o,s)};q(i,o=>{t.layers&&o(n)})}h(e,r),z()}var Kn=I("<!> <!>",1),Jn=I('<div class="flex justify-center"><!></div>');function Qn(e,t){L(t,!0);const r=at(),i=()=>M(Et,"$groupResult",r),n=()=>M(Ot,"$artwork",r),o=()=>M(ne,"$layers",r);let s=tt(0),c=T(()=>{var m;return(m=i())==null?void 0:m[1]}),u=T(()=>{if(!i())return;let[m]=i();if(!m)return;const v=m.printAreas[0],{mockup:b}=m.mockups[0],p=l(s)/b.width*.8;return{canvasWidth:l(s)*.8,canvasHeight:b.height*p,printAreaX:v.printAreaX*p,printAreaY:v.printAreaY*p,printAreaWidth:v.printAreaWidth,printAreaHeight:v.printAreaHeight,artworkX:v.artworkX,artworkY:v.artworkY,artworkScaleX:v.artworkScaleX,artworkScaleY:v.artworkScaleY,mockupRatio:p}}),a=T(()=>{if(!n()||!l(u))return;let[m,v]=Ke(n().width,n().height),b=l(u).printAreaWidth/m;return{width:m,height:v,ratio:b}});var g=k(),f=y(g);{var d=m=>{var v=Jn(),b=H(v);Ie(b,{get width(){return l(u).canvasWidth},get height(){return l(u).canvasHeight},children:(p,j)=>{var A=Kn(),w=y(A);Yt(w,{children:(X,E)=>{Bn(X,{get width(){return l(u).canvasWidth},get height(){return l(u).canvasHeight},get src(){return l(c)}})},$$slots:{default:!0}});var C=K(w,2);Yt(C,{children:(X,E)=>{Dt(X,{get x(){return l(u).printAreaX},get y(){return l(u).printAreaY},get scaleX(){return l(u).mockupRatio},get scaleY(){return l(u).mockupRatio},clipFunc:O=>{O.rect(0,0,l(u).printAreaWidth,l(u).printAreaHeight)},children:(O,R)=>{var Y=T(()=>l(a).ratio*l(u).artworkScaleX),_=T(()=>l(a).ratio*l(u).artworkScaleY);Dt(O,{get x(){return l(u).artworkX},get y(){return l(u).artworkY},get scaleX(){return l(Y)},get scaleY(){return l(_)},draggable:!1,listening:!1,children:(F,D)=>{de(F,{get layers(){return o()}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),h(p,A)},$$slots:{default:!0}}),De(v,"clientWidth",p=>nt(s,p)),h(m,v)};q(f,m=>{l(u)&&l(a)&&m(d)})}h(e,g),z()}var Zn=I('<img alt="product" class="w-full object-cover">'),$n=I("<!> <!>",1),tr=I('<button><img class="w-full h-20 object-cover"></button>'),er=I('<div class="space-y-2"><!> <!></div>');function nr(e,t){L(t,!0);const r=at(),i=()=>M(P,"$store",r),n=()=>M(Et,"$groupResult",r);let o=tt(void 0),s=tt(void 0),c=tt(0),u=T(()=>i().product?i().product.images.map(v=>v.src):[]);wt(()=>{var b;const v=()=>{l(o)&&(nt(c,et(l(o).selectedScrollSnap())),l(s)&&l(s).scrollTo(l(c)))};(b=l(o))==null||b.on("select",v).on("reInit",v)});function a(v){var b;(b=l(o))==null||b.scrollTo(v)}var g=er(),f=H(g);V(f,()=>Kt,(v,b)=>{b(v,{class:"w-full",get api(){return l(o)},set api(p){nt(o,et(p))},children:(p,j)=>{var A=k(),w=y(A);V(w,()=>Jt,(C,X)=>{X(C,{children:(E,O)=>{var R=$n(),Y=y(R);V(Y,()=>jt,(F,D)=>{D(F,{class:"content-center",children:(G,ut)=>{Qn(G,{})},$$slots:{default:!0}})});var _=K(Y,2);lt(_,17,()=>l(u),ct,(F,D)=>{var G=k(),ut=y(G);V(ut,()=>jt,(U,st)=>{st(U,{class:"content-center",children:($,ft)=>{var gt=Zn();B(()=>xt(gt,"src",l(D))),h($,gt)},$$slots:{default:!0}})}),h(F,G)}),h(E,R)},$$slots:{default:!0}})}),h(p,A)},$$slots:{default:!0}})});var d=K(f,2);{var m=v=>{var b=k(),p=y(b);V(p,()=>Kt,(j,A)=>{A(j,{class:"w-full",opts:{containScroll:"keepSnaps",dragFree:!0},get api(){return l(s)},set api(w){nt(s,et(w))},children:(w,C)=>{var X=k(),E=y(X);V(E,()=>Jt,(O,R)=>{R(O,{children:(Y,_)=>{var F=k(),D=y(F);lt(D,1,()=>{var G;return[(G=n())==null?void 0:G[1],...l(u)]},ct,(G,ut,U)=>{var st=k(),$=y(st);V($,()=>jt,(ft,gt)=>{gt(ft,{class:"basis-1/4 lg:basis-1/6",children:(Lt,Vt)=>{var ht=tr();ht.__click=()=>a(U);var St=H(ht);xt(St,"alt",`Thumbnail ${U+1}`),B(()=>{Ge(ht,`w-full border-2 transition-all duration-300 rounded-md overflow-hidden
                     ${(l(c)===U?"border-primary":"border-transparent hover:border-muted-foreground")??""}`),xt(St,"src",l(ut))}),h(Lt,ht)},$$slots:{default:!0}})}),h(G,st)}),h(Y,F)},$$slots:{default:!0}})}),h(w,X)},$$slots:{default:!0}})}),h(v,b)};q(d,v=>{l(u).length>1&&v(m)})}h(e,g),z()}Zt(["click"]);async function rr(){const e=document.querySelector("div.product-form__buttons");e&&(e.innerHTML="");const t=document.querySelector("div.product__media-wrapper");t&&(t.innerHTML="",t.className="w-full product__media-wrapper"),Gt(nr,{target:t});const r=await Tn();r&&await Pn(r.id),Gt(Hn,{target:e})}rr();export{cr as c,ur as g};
