var Gd=Object.defineProperty;var Ca=t=>{throw TypeError(t)};var Bd=(t,e,n)=>e in t?Gd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Uo=(t,e,n)=>Bd(t,typeof e!="symbol"?e+"":e,n),zo=(t,e,n)=>e.has(t)||Ca("Cannot "+n);var qe=(t,e,n)=>(zo(t,e,"read from private field"),n?n.call(t):e.get(t)),br=(t,e,n)=>e.has(t)?Ca("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Wo=(t,e,n,r)=>(zo(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Aa=(t,e,n)=>(zo(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Mc=!1;var Ni=Array.isArray,Gs=Array.from,Vd=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,Nc=Object.getOwnPropertyDescriptors,Ud=Object.prototype,zd=Array.prototype,Bs=Object.getPrototypeOf;function Wn(t){return typeof t=="function"}const pe=()=>{};function Wd(t){return t()}function oo(t){for(var e=0;e<t.length;e++)t[e]()}const Pe=2,Lc=4,Li=8,Co=16,Fe=32,Ii=64,hs=128,Nn=256,so=512,le=1024,vn=2048,or=4096,De=8192,sr=16384,Ic=32768,Ln=65536,jd=1<<17,Hd=1<<19,Dc=1<<20,gn=Symbol("$state"),Gc=Symbol("legacy props"),qd=Symbol("");function Bc(t){return t===this.v}function Vs(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Us(t){return!Vs(t,this.v)}function Yd(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Xd(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Kd(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Jd(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qd(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Zd(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $d(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function tf(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ef(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ar=!1;function nf(){ar=!0}function ge(t){return{f:0,v:t,reactions:null,equals:Bc,version:0}}function ve(t){return Vc(ge(t))}function Ao(t,e=!1){var r;const n=ge(t);return e||(n.equals=Us),ar&&kt!==null&&kt.l!==null&&((r=kt.l).s??(r.s=[])).push(n),n}function tr(t,e=!1){return Vc(Ao(t,e))}function Vc(t){return Gt!==null&&Gt.f&Pe&&(Ge===null?Af([t]):Ge.push(t)),t}function Rt(t,e){return Gt!==null&&To()&&Gt.f&(Pe|Co)&&(Ge===null||!Ge.includes(t))&&ef(),gs(t,e)}function gs(t,e){return t.equals(e)||(t.v=e,t.version=au(),Uc(t,vn),To()&&yt!==null&&yt.f&le&&!(yt.f&Fe)&&(ae!==null&&ae.includes(t)?(Me(yt,vn),Ro(yt)):pn===null?Ef([t]):pn.push(t))),e}function Uc(t,e){var n=t.reactions;if(n!==null)for(var r=To(),s=n.length,i=0;i<s;i++){var o=n[i],a=o.f;a&vn||!r&&o===yt||(Me(o,e),a&(le|Nn)&&(a&Pe?Uc(o,or):Ro(o)))}}const zs=1,Ws=2,zc=4,rf=8,of=16,sf=1,af=2,Wc=4,lf=8,cf=16,uf=1,df=2,ff=4,hf=1,gf=2,de=Symbol(),ao="http://www.w3.org/2000/svg";let jc=!1;function se(t,e=null,n){if(typeof t!="object"||t===null||gn in t)return t;const r=Bs(t);if(r!==Ud&&r!==zd)return t;var s=new Map,i=Ni(t),o=ge(0);i&&s.set("length",ge(t.length));var a;return new Proxy(t,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Zd();var g=s.get(c);return g===void 0?(g=ge(d.value),s.set(c,g)):Rt(g,se(d.value,a)),!0},deleteProperty(l,c){var d=s.get(c);if(d===void 0)c in l&&s.set(c,ge(de));else{if(i&&typeof c=="string"){var g=s.get("length"),f=Number(c);Number.isInteger(f)&&f<g.v&&Rt(g,f)}Rt(d,de),Ea(o)}return!0},get(l,c,d){var u;if(c===gn)return t;var g=s.get(c),f=c in l;if(g===void 0&&(!f||(u=hn(l,c))!=null&&u.writable)&&(g=ge(se(f?l[c]:de,a)),s.set(c,g)),g!==void 0){var h=U(g);return h===de?void 0:h}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var g=s.get(c);g&&(d.value=U(g))}else if(d===void 0){var f=s.get(c),h=f==null?void 0:f.v;if(f!==void 0&&h!==de)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return d},has(l,c){var h;if(c===gn)return!0;var d=s.get(c),g=d!==void 0&&d.v!==de||Reflect.has(l,c);if(d!==void 0||yt!==null&&(!g||(h=hn(l,c))!=null&&h.writable)){d===void 0&&(d=ge(g?se(l[c],a):de),s.set(c,d));var f=U(d);if(f===de)return!1}return g},set(l,c,d,g){var v;var f=s.get(c),h=c in l;if(i&&c==="length")for(var u=d;u<f.v;u+=1){var m=s.get(u+"");m!==void 0?Rt(m,de):u in l&&(m=ge(de),s.set(u+"",m))}f===void 0?(!h||(v=hn(l,c))!=null&&v.writable)&&(f=ge(void 0),Rt(f,se(d,a)),s.set(c,f)):(h=f.v!==de,Rt(f,se(d,a)));var b=Reflect.getOwnPropertyDescriptor(l,c);if(b!=null&&b.set&&b.set.call(g,d),!h){if(i&&typeof c=="string"){var _=s.get("length"),p=Number(c);Number.isInteger(p)&&p>=_.v&&Rt(_,p+1)}Ea(o)}return!0},ownKeys(l){U(o);var c=Reflect.ownKeys(l).filter(f=>{var h=s.get(f);return h===void 0||h.v!==de});for(var[d,g]of s)g.v!==de&&!(d in l)&&c.push(d);return c},setPrototypeOf(){$d()}})}function Ea(t,e=1){Rt(t,t.v+e)}var ka,Hc,qc;function pf(){if(ka===void 0){ka=window;var t=Element.prototype,e=Node.prototype;Hc=hn(e,"firstChild").get,qc=hn(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Di(t=""){return document.createTextNode(t)}function er(t){return Hc.call(t)}function Eo(t){return qc.call(t)}function Dt(t,e){return er(t)}function nt(t,e){{var n=er(t);return n instanceof Comment&&n.data===""?Eo(n):n}}function be(t,e=1,n=!1){let r=t;for(;e--;)r=Eo(r);return r}function mf(t){t.textContent=""}function Nt(t){var e=Pe|vn;yt===null?e|=Nn:yt.f|=Dc;var n=Gt!==null&&Gt.f&Pe?Gt:null;const r={children:null,ctx:kt,deps:null,equals:Bc,f:e,fn:t,reactions:null,v:null,version:0,parent:n??yt};return n!==null&&(n.children??(n.children=[])).push(r),r}function bn(t){const e=Nt(t);return e.equals=Us,e}function Yc(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&Pe?js(r):nn(r)}}}function vf(t){for(var e=t.parent;e!==null;){if(!(e.f&Pe))return e;e=e.parent}return null}function Xc(t){var e,n=yt;Ae(vf(t));try{Yc(t),e=lu(t)}finally{Ae(n)}return e}function Kc(t){var e=Xc(t),n=(qn||t.f&Nn)&&t.deps!==null?or:le;Me(t,n),t.equals(e)||(t.v=e,t.version=au())}function js(t){Yc(t),Ai(t,0),Me(t,sr),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Jc(t){yt===null&&Gt===null&&Kd(),Gt!==null&&Gt.f&Nn&&Xd(),qs&&Yd()}function bf(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function lr(t,e,n,r=!0){var s=(t&Ii)!==0,i=yt,o={ctx:kt,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|vn,first:null,fn:e,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var a=Xn;try{Ta(!0),Bi(o),o.f|=Ic}catch(d){throw nn(o),d}finally{Ta(a)}}else e!==null&&Ro(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Dc)===0;if(!l&&!s&&r&&(i!==null&&bf(o,i),Gt!==null&&Gt.f&Pe)){var c=Gt;(c.children??(c.children=[])).push(o)}return o}function Qc(t){const e=lr(Li,null,!1);return Me(e,le),e.teardown=t,e}function at(t){Jc();var e=yt!==null&&(yt.f&Fe)!==0&&kt!==null&&!kt.m;if(e){var n=kt;(n.e??(n.e=[])).push({fn:t,effect:yt,reaction:Gt})}else{var r=Bt(t);return r}}function yf(t){return Jc(),cr(t)}function _f(t){const e=lr(Ii,t,!0);return()=>{nn(e)}}function Bt(t){return lr(Lc,t,!1)}function Mt(t,e){var n=kt,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=cr(()=>{t(),!r.ran&&(r.ran=!0,Rt(n.l.r2,!0),Wt(e))})}function In(){var t=kt;cr(()=>{if(U(t.l.r2)){for(var e of t.l.r1){var n=e.effect;n.f&le&&Me(n,or),dr(n)&&Bi(n),e.ran=!1}t.l.r2.v=!1}})}function cr(t){return lr(Li,t,!0)}function Ot(t){return ur(t)}function ur(t,e=0){return lr(Li|Co|e,t,!0)}function yn(t,e=!0){return lr(Li|Fe,t,!0,e)}function Zc(t){var e=t.teardown;if(e!==null){const n=qs,r=Gt;Pa(!0),Ve(null);try{e.call(null)}finally{Pa(n),Ve(r)}}}function $c(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)js(e[n])}}function tu(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;nn(n,e),n=r}}function wf(t){for(var e=t.first;e!==null;){var n=e.next;e.f&Fe||nn(e),e=n}}function nn(t,e=!0){var n=!1;if((e||t.f&Hd)&&t.nodes_start!==null){for(var r=t.nodes_start,s=t.nodes_end;r!==null;){var i=r===s?null:Eo(r);r.remove(),r=i}n=!0}tu(t,e&&!n),$c(t),Ai(t,0),Me(t,sr);var o=t.transitions;if(o!==null)for(const l of o)l.stop();Zc(t);var a=t.parent;a!==null&&a.first!==null&&eu(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function eu(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function wi(t,e){var n=[];Hs(t,n,!0),nu(n,()=>{nn(t),e&&e()})}function nu(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function Hs(t,e,n){if(!(t.f&De)){if(t.f^=De,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var s=r.next,i=(r.f&Ln)!==0||(r.f&Fe)!==0;Hs(r,e,i?n:!1),r=s}}}function Si(t){ru(t,!0)}function ru(t,e){if(t.f&De){dr(t)&&Bi(t),t.f^=De;for(var n=t.first;n!==null;){var r=n.next,s=(n.f&Ln)!==0||(n.f&Fe)!==0;ru(n,s?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let lo=!1,ps=[];function iu(){lo=!1;const t=ps.slice();ps=[],oo(t)}function Gi(t){lo||(lo=!0,queueMicrotask(iu)),ps.push(t)}function Sf(){lo&&iu()}function xf(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function ko(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const ou=0,Cf=1;let to=!1,eo=ou,xi=!1,Ci=null,Xn=!1,qs=!1;function Ta(t){Xn=t}function Pa(t){qs=t}let En=[],Kn=0;let Gt=null;function Ve(t){Gt=t}let yt=null;function Ae(t){yt=t}let Ge=null;function Af(t){Ge=t}let ae=null,_e=0,pn=null;function Ef(t){pn=t}let su=0,qn=!1,kt=null;function au(){return++su}function To(){return!ar||kt!==null&&kt.l===null}function dr(t){var o,a;var e=t.f;if(e&vn)return!0;if(e&or){var n=t.deps,r=(e&Nn)!==0;if(n!==null){var s;if(e&so){for(s=0;s<n.length;s++)((o=n[s]).reactions??(o.reactions=[])).push(t);t.f^=so}for(s=0;s<n.length;s++){var i=n[s];if(dr(i)&&Kc(i),r&&yt!==null&&!qn&&!((a=i==null?void 0:i.reactions)!=null&&a.includes(t))&&(i.reactions??(i.reactions=[])).push(t),i.version>t.version)return!0}}r||Me(t,le)}return!1}function kf(t,e){for(var n=e;n!==null;){if(n.f&hs)try{n.fn(t);return}catch{n.f^=hs}n=n.parent}throw to=!1,t}function Tf(t){return(t.f&sr)===0&&(t.parent===null||(t.parent.f&hs)===0)}function Po(t,e,n,r){if(to){if(n===null&&(to=!1),Tf(e))throw t;return}n!==null&&(to=!0);{kf(t,e);return}}function lu(t){var f;var e=ae,n=_e,r=pn,s=Gt,i=qn,o=Ge,a=kt,l=t.f;ae=null,_e=0,pn=null,Gt=l&(Fe|Ii)?null:t,qn=!Xn&&(l&Nn)!==0,Ge=null,kt=t.ctx;try{var c=(0,t.fn)(),d=t.deps;if(ae!==null){var g;if(Ai(t,_e),d!==null&&_e>0)for(d.length=_e+ae.length,g=0;g<ae.length;g++)d[_e+g]=ae[g];else t.deps=d=ae;if(!qn)for(g=_e;g<d.length;g++)((f=d[g]).reactions??(f.reactions=[])).push(t)}else d!==null&&_e<d.length&&(Ai(t,_e),d.length=_e);return c}finally{ae=e,_e=n,pn=r,Gt=s,qn=i,Ge=o,kt=a}}function Pf(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&e.f&Pe&&(ae===null||!ae.includes(e))&&(Me(e,or),e.f&(Nn|so)||(e.f^=so),Ai(e,0))}function Ai(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Pf(t,n[r])}function Bi(t){var e=t.f;if(!(e&sr)){Me(t,le);var n=yt,r=kt;yt=t;try{e&Co?wf(t):tu(t),$c(t),Zc(t);var s=lu(t);t.teardown=typeof s=="function"?s:null,t.version=su}catch(i){Po(i,t,n,r||t.ctx)}finally{yt=n}}}function cu(){if(Kn>1e3){Kn=0;try{Jd()}catch(t){if(Ci!==null)Po(t,Ci,null);else throw t}}Kn++}function uu(t){var e=t.length;if(e!==0){cu();var n=Xn;Xn=!0;try{for(var r=0;r<e;r++){var s=t[r];s.f&le||(s.f^=le);var i=[];du(s,i),Rf(i)}}finally{Xn=n}}}function Rf(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(r.f&(sr|De)))try{dr(r)&&(Bi(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?eu(r):r.fn=null))}catch(s){Po(s,r,null,r.ctx)}}}function Of(){if(xi=!1,Kn>1001)return;const t=En;En=[],uu(t),xi||(Kn=0,Ci=null)}function Ro(t){eo===ou&&(xi||(xi=!0,queueMicrotask(Of))),Ci=t;for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(Ii|Fe)){if(!(n&le))return;e.f^=le}}En.push(e)}function du(t,e){var n=t.first,r=[];t:for(;n!==null;){var s=n.f,i=(s&Fe)!==0,o=i&&(s&le)!==0,a=n.next;if(!o&&!(s&De))if(s&Li){if(i)n.f^=le;else try{dr(n)&&Bi(n)}catch(g){Po(g,n,null,n.ctx)}var l=n.first;if(l!==null){n=l;continue}}else s&Lc&&r.push(n);if(a===null){let g=n.parent;for(;g!==null;){if(t===g)break t;var c=g.next;if(c!==null){n=c;continue t}g=g.parent}}n=a}for(var d=0;d<r.length;d++)l=r[d],e.push(l),du(l,e)}function fu(t){var e=eo,n=En;try{cu();const s=[];eo=Cf,En=s,xi=!1,uu(n);var r=t==null?void 0:t();return Sf(),(En.length>0||s.length>0)&&fu(),Kn=0,Ci=null,r}finally{eo=e,En=n}}async function no(){await Promise.resolve(),fu()}function U(t){var d;var e=t.f,n=(e&Pe)!==0;if(n&&e&sr){var r=Xc(t);return js(t),r}if(Gt!==null){Ge!==null&&Ge.includes(t)&&tf();var s=Gt.deps;ae===null&&s!==null&&s[_e]===t?_e++:ae===null?ae=[t]:ae.push(t),pn!==null&&yt!==null&&yt.f&le&&!(yt.f&Fe)&&pn.includes(t)&&(Me(yt,vn),Ro(yt))}else if(n&&t.deps===null)for(var i=t,o=i.parent,a=i;o!==null;)if(o.f&Pe){var l=o;a=l,o=l.parent}else{var c=o;(d=c.deriveds)!=null&&d.includes(a)||(c.deriveds??(c.deriveds=[])).push(a);break}return n&&(i=t,dr(i)&&Kc(i)),t.v}function Wt(t){const e=Gt;try{return Gt=null,t()}finally{Gt=e}}const Ff=~(vn|or|le);function Me(t,e){t.f=t.f&Ff|e}function Vi(t){return Ys().get(t)}function Ei(t,e){return Ys().set(t,e),e}function Mf(t){return Ys().has(t)}function Ys(t){return kt===null&&ko(),kt.c??(kt.c=new Map(Nf(kt)||void 0))}function Nf(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}function Ra(t,e=1){var n=U(t),r=e===1?n++:n--;return Rt(t,n),r}function mt(t,e=!1,n){kt={p:kt,c:null,e:null,m:!1,s:t,x:null,l:null},ar&&!e&&(kt.l={s:null,u:null,r1:[],r2:ge(!1)})}function vt(t){const e=kt;if(e!==null){t!==void 0&&(e.x=t);const o=e.e;if(o!==null){var n=yt,r=Gt;e.e=null;try{for(var s=0;s<o.length;s++){var i=o[s];Ae(i.effect),Ve(i.reaction),Bt(i.fn)}}finally{Ae(n),Ve(r)}}kt=e.p,e.m=!0}return t||{}}function St(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(gn in t)ms(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&gn in n&&ms(n)}}}function ms(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ms(t[r],e)}catch{}const n=Bs(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Nc(n);for(let s in r){const i=r[s].get;if(i)try{i.call(t)}catch{}}}}}function Lf(t,e){if(e){const n=document.body;t.autofocus=!0,Gi(()=>{document.activeElement===n&&t.focus()})}}let Oa=!1;function If(){Oa||(Oa=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function hu(t){var e=Gt,n=yt;Ve(null),Ae(null);try{return t()}finally{Ve(e),Ae(n)}}function Df(t,e,n,r=n){t.addEventListener(e,()=>hu(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r(!0)}:t.__on_r=()=>r(!0),If()}const gu=new Set,vs=new Set;function pu(t,e,n,r){function s(i){if(r.capture||hi.call(e,i),!i.cancelBubble)return hu(()=>n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Gi(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function ot(t,e,n,r,s){var i={capture:r,passive:s},o=pu(t,e,n,i);(e===document.body||e===window||e===document)&&Qc(()=>{e.removeEventListener(t,o,i)})}function Xs(t){for(var e=0;e<t.length;e++)gu.add(t[e]);for(var n of vs)n(t)}function hi(t){var p;var e=this,n=e.ownerDocument,r=t.type,s=((p=t.composedPath)==null?void 0:p.call(t))||[],i=s[0]||t.target,o=0,a=t.__root;if(a){var l=s.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var c=s.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(i=s[o]||t.target,i!==e){Vd(t,"currentTarget",{configurable:!0,get(){return i||n}});var d=Gt,g=yt;Ve(null),Ae(null);try{for(var f,h=[];i!==null;){var u=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+r];if(m!==void 0&&!i.disabled)if(Ni(m)){var[b,..._]=m;b.apply(i,[t,..._])}else m.call(i,t)}catch(v){f?h.push(v):f=v}if(t.cancelBubble||u===e||u===null)break;i=u}if(f){for(let v of h)queueMicrotask(()=>{throw v});throw f}}finally{t.__root=e,delete t.currentTarget,Ve(d),Ae(g)}}}function mu(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function nr(t,e){var n=yt;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function At(t,e){var n=(e&hf)!==0,r=(e&gf)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=mu(i?t:"<!>"+t),n||(s=er(s)));var o=r?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=er(o),l=o.lastChild;nr(a,l)}else nr(o,o);return o}}function Gf(t,e,n="svg"){var r=!t.startsWith("<!>"),s=`<${n}>${r?t:"<!>"+t}</${n}>`,i;return()=>{if(!i){var o=mu(s),a=er(o);i=er(a)}var l=i.cloneNode(!0);return nr(l,l),l}}function Pn(t=""){{var e=Di(t+"");return nr(e,e),e}}function it(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Di();return t.append(e,n),nr(e,n),t}function K(t,e){t!==null&&t.before(e)}function Bf(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Vf=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Uf(t){return Vf.includes(t)}const zf={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject"};function Wf(t){return t=t.toLowerCase(),zf[t]??t}const jf=["touchstart","touchmove"];function Hf(t){return jf.includes(t)}let co=!0;function Fa(t){co=t}function tn(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function Ma(t,e){return qf(t,e)}const Bn=new Map;function qf(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:o=!0}){pf();var a=new Set,l=g=>{for(var f=0;f<g.length;f++){var h=g[f];if(!a.has(h)){a.add(h);var u=Hf(h);e.addEventListener(h,hi,{passive:u});var m=Bn.get(h);m===void 0?(document.addEventListener(h,hi,{passive:u}),Bn.set(h,1)):Bn.set(h,m+1)}}};l(Gs(gu)),vs.add(l);var c=void 0,d=_f(()=>{var g=n??e.appendChild(Di());return yn(()=>{if(i){mt({});var f=kt;f.c=i}s&&(r.$$events=s),co=o,c=t(g,r)||{},co=!0,i&&vt()}),()=>{var u;for(var f of a){e.removeEventListener(f,hi);var h=Bn.get(f);--h===0?(document.removeEventListener(f,hi),Bn.delete(f)):Bn.set(f,h)}vs.delete(l),Na.delete(c),g!==n&&((u=g.parentNode)==null||u.removeChild(g))}});return Na.set(c,d),c}let Na=new WeakMap;function Lt(t,e,n=!1){var r=t,s=null,i=null,o=de,a=n?Ln:0,l=!1;const c=(g,f=!0)=>{l=!0,d(f,g)},d=(g,f)=>{o!==(o=g)&&(o?(s?Si(s):f&&(s=yn(()=>f(r))),i&&wi(i,()=>{i=null})):(i?Si(i):f&&(i=yn(()=>f(r))),s&&wi(s,()=>{s=null})))};ur(()=>{l=!1,e(c),l||d(null,null)},a)}function Ue(t,e){return e}function Yf(t,e,n,r){for(var s=[],i=e.length,o=0;o<i;o++)Hs(e[o].e,s,!0);var a=i>0&&s.length===0&&n!==null;if(a){var l=n.parentNode;mf(l),l.append(n),r.clear(),un(t,e[0].prev,e[i-1].next)}nu(s,()=>{for(var c=0;c<i;c++){var d=e[c];a||(r.delete(d.k),un(t,d.prev,d.next)),nn(d.e,!a)}})}function ze(t,e,n,r,s,i=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&zc)!==0;if(l){var c=t;o=c.appendChild(Di())}var d=null,g=!1;ur(()=>{var f=n(),h=Ni(f)?f:f==null?[]:Gs(f),u=h.length;if(!(g&&u===0)){g=u===0;{var m=Gt;Xf(h,a,o,s,e,(m.f&De)!==0,r)}i!==null&&(u===0?d?Si(d):d=yn(()=>i(o)):d!==null&&wi(d,()=>{d=null})),n()}})}function Xf(t,e,n,r,s,i,o){var x,C,R,O;var a=(s&rf)!==0,l=(s&(zs|Ws))!==0,c=t.length,d=e.items,g=e.first,f=g,h,u=null,m,b=[],_=[],p,v,w,S;if(a)for(S=0;S<c;S+=1)p=t[S],v=o(p,S),w=d.get(v),w!==void 0&&((x=w.a)==null||x.measure(),(m??(m=new Set)).add(w));for(S=0;S<c;S+=1){if(p=t[S],v=o(p,S),w=d.get(v),w===void 0){var E=f?f.e.nodes_start:n;u=Jf(E,e,u,u===null?e.first:u.next,p,v,S,r,s),d.set(v,u),b=[],_=[],f=u.next;continue}if(l&&Kf(w,p,S,s),w.e.f&De&&(Si(w.e),a&&((C=w.a)==null||C.unfix(),(m??(m=new Set)).delete(w))),w!==f){if(h!==void 0&&h.has(w)){if(b.length<_.length){var F=_[0],k;u=F.prev;var N=b[0],A=b[b.length-1];for(k=0;k<b.length;k+=1)La(b[k],F,n);for(k=0;k<_.length;k+=1)h.delete(_[k]);un(e,N.prev,A.next),un(e,u,N),un(e,A,F),f=F,u=A,S-=1,b=[],_=[]}else h.delete(w),La(w,f,n),un(e,w.prev,w.next),un(e,w,u===null?e.first:u.next),un(e,u,w),u=w;continue}for(b=[],_=[];f!==null&&f.k!==v;)(i||!(f.e.f&De))&&(h??(h=new Set)).add(f),_.push(f),f=f.next;if(f===null)continue;w=f}b.push(w),u=w,f=w.next}if(f!==null||h!==void 0){for(var T=h===void 0?[]:Gs(h);f!==null;)(i||!(f.e.f&De))&&T.push(f),f=f.next;var P=T.length;if(P>0){var y=s&zc&&c===0?n:null;if(a){for(S=0;S<P;S+=1)(R=T[S].a)==null||R.measure();for(S=0;S<P;S+=1)(O=T[S].a)==null||O.fix()}Yf(e,T,y,d)}}a&&Gi(()=>{var G;if(m!==void 0)for(w of m)(G=w.a)==null||G.apply()}),yt.first=e.first&&e.first.e,yt.last=u&&u.e}function Kf(t,e,n,r){r&zs&&gs(t.v,e),r&Ws?gs(t.i,n):t.i=n}function Jf(t,e,n,r,s,i,o,a,l){var c=(l&zs)!==0,d=(l&of)===0,g=c?d?Ao(s):ge(s):s,f=l&Ws?ge(o):o,h={i:f,v:g,k:i,a:null,e:null,prev:n,next:r};try{return h.e=yn(()=>a(t,g,f),jc),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?e.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function La(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var o=Eo(i);s.before(i),i=o}}function un(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function It(t,e,n,r,s){var a;var i=(a=e.$$slots)==null?void 0:a[n],o=!1;i===!0&&(i=e.children,o=!0),i===void 0?s!==null&&s(t):i(t,o?()=>r:r)}function Ks(t,e,...n){var r=t,s=pe,i;ur(()=>{s!==(s=e())&&(i&&(nn(i),i=null),i=yn(()=>s(r,...n)))},Ln)}function oe(t,e,n){var r=t,s,i;ur(()=>{s!==(s=e())&&(i&&(wi(i),i=null),s&&(i=yn(()=>n(r,s))))},Ln)}function bs(t,e,n,r,s,i){var o,a,l=null,c=t,d;ur(()=>{const g=e()||null;var f=n||g==="svg"?ao:null;g!==o&&(d&&(g===null?wi(d,()=>{d=null,a=null}):g===a?Si(d):(nn(d),Fa(!1))),g&&g!==a&&(d=yn(()=>{if(l=f?document.createElementNS(f,g):document.createElement(g),nr(l,l),r){var h=l.appendChild(Di());r(l,h)}yt.nodes_end=l,c.before(l)})),o=g,o&&(a=o),Fa(!0))},Ln)}function Ie(t,e,n){Bt(()=>{var r=Wt(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var s=!1,i={};cr(()=>{var o=n();St(o),s&&Vs(i,o)&&(i=o,r.update(o))}),s=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Qf(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Jn(t,e,n,r){var s=t.__attributes??(t.__attributes={});s[e]!==(s[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[qd]=n),n==null?t.removeAttribute(e):typeof n!="string"&&vu(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ne(t,e,n,r,s=!1,i=!1,o=!1){var a=e||{},l=t.tagName==="OPTION";for(var c in e)c in n||(n[c]=null);var d=vu(t),g=t.__attributes??(t.__attributes={});for(const p in n){let v=n[p];if(l&&p==="value"&&v==null){t.value=t.__value="",a[p]=v;continue}var f=a[p];if(v!==f){a[p]=v;var h=p[0]+p[1];if(h!=="$$"){if(h==="on"){const w={},S="$$"+p;let E=p.slice(2);var u=Uf(E);if(Bf(E)&&(E=E.slice(0,-7),w.capture=!0),!u&&f){if(v!=null)continue;t.removeEventListener(E,a[S],w),a[S]=null}if(v!=null)if(u)t[`__${E}`]=v,Xs([E]);else{let F=function(k){a[p].call(this,k)};var _=F;a[S]=pu(E,t,F,w)}else u&&(t[`__${E}`]=void 0)}else if(p==="style"&&v!=null)t.style.cssText=v+"";else if(p==="autofocus")Lf(t,!!v);else if(p==="__value"||p==="value"&&v!=null)t.value=t[p]=t.__value=v;else if(p==="selected"&&l)Qf(t,v);else{var m=p;s||(m=Wf(m));var b=m==="defaultValue"||m==="defaultChecked";if(v==null&&!i&&!b)if(g[p]=null,m==="value"||m==="checked"){let w=t;if(m==="value"){let S=w.defaultValue;w.removeAttribute(m),w.defaultValue=S}else{let S=w.defaultChecked;w.removeAttribute(m),w.defaultChecked=S}}else t.removeAttribute(p);else b||d.includes(m)&&(i||typeof v!="string")?t[m]=v:typeof v!="function"&&Jn(t,m,v)}p==="style"&&"__styles"in t&&(t.__styles={})}}}return a}var Ia=new Map;function vu(t){var e=Ia.get(t.nodeName);if(e)return e;Ia.set(t.nodeName,e=[]);for(var n,r=t,s=Element.prototype;s!==r;){n=Nc(r);for(var i in n)n[i].set&&e.push(i);r=Bs(r)}return e}function Zf(t,e){var n=t.__className,r=$f(e);(n!==r||jc)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function $f(t){return t??""}function th(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function eh(t,e,n,r){var s=t.__styles??(t.__styles={});s[e]!==n&&(s[e]=n,n==null?t.style.removeProperty(e):t.style.setProperty(e,n,""))}const nh=()=>performance.now(),$e={tick:t=>requestAnimationFrame(t),now:()=>nh(),tasks:new Set};function bu(){const t=$e.now();$e.tasks.forEach(e=>{e.c(t)||($e.tasks.delete(e),e.f())}),$e.tasks.size!==0&&$e.tick(bu)}function rh(t){let e;return $e.tasks.size===0&&$e.tick(bu),{promise:new Promise(n=>{$e.tasks.add(e={c:t,f:n})}),abort(){$e.tasks.delete(e)}}}function Yi(t,e){t.dispatchEvent(new CustomEvent(e))}function ih(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Da(t){const e={},n=t.split(";");for(const r of n){const[s,i]=r.split(":");if(!s||i===void 0)break;const o=ih(s.trim());e[o]=i.trim()}return e}const oh=t=>t;function yr(t,e,n,r){var s=(t&uf)!==0,i=(t&df)!==0,o=s&&i,a=(t&ff)!==0,l=o?"both":s?"in":"out",c,d=e.inert,g,f;function h(){var p=Gt,v=yt;Ve(null),Ae(null);try{return c??(c=n()(e,(r==null?void 0:r())??{},{direction:l}))}finally{Ve(p),Ae(v)}}var u={is_global:a,in(){var p;if(e.inert=d,!s){f==null||f.abort(),(p=f==null?void 0:f.reset)==null||p.call(f);return}i||g==null||g.abort(),Yi(e,"introstart"),g=ys(e,h(),f,1,()=>{Yi(e,"introend"),g==null||g.abort(),g=c=void 0})},out(p){if(!i){p==null||p(),c=void 0;return}e.inert=!0,Yi(e,"outrostart"),f=ys(e,h(),g,0,()=>{Yi(e,"outroend"),p==null||p()})},stop:()=>{g==null||g.abort(),f==null||f.abort()}},m=yt;if((m.transitions??(m.transitions=[])).push(u),s&&co){var b=a;if(!b){for(var _=m.parent;_&&_.f&Ln;)for(;(_=_.parent)&&!(_.f&Co););b=!_||(_.f&Ic)!==0}b&&Bt(()=>{Wt(()=>u.in())})}}function ys(t,e,n,r,s){var i=r===1;if(Wn(e)){var o,a=!1;return Gi(()=>{if(!a){var b=e({direction:i?"in":"out"});o=ys(t,b,n,r,s)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return s(),{abort:pe,deactivate:pe,reset:pe,t:()=>r};const{delay:l=0,css:c,tick:d,easing:g=oh}=e;var f=[];if(i&&n===void 0&&(d&&d(0,1),c)){var h=Da(c(0,1));f.push(h,h)}var u=()=>1-r,m=t.animate(f,{duration:l});return m.onfinish=()=>{var b=(n==null?void 0:n.t())??1-r;n==null||n.abort();var _=r-b,p=e.duration*Math.abs(_),v=[];if(p>0){if(c)for(var w=Math.ceil(p/16.666666666666668),S=0;S<=w;S+=1){var E=b+_*g(S/w),F=c(E,1-E);v.push(Da(F))}u=()=>{var k=m.currentTime;return b+_*g(k/p)},d&&rh(()=>{if(m.playState!=="running")return!1;var k=u();return d(k,1-k),!0})}m=t.animate(v,{duration:p,fill:"forwards"}),m.onfinish=()=>{u=()=>r,d==null||d(r,1-r),s()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=pe)},deactivate:()=>{s=pe},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>u()}}function sh(t,e,n=e){var r=To();Df(t,"input",s=>{var i=s?t.defaultValue:t.value;if(i=jo(t)?Ho(i):i,n(i),r&&i!==(i=e())){var o=t.selectionStart,a=t.selectionEnd;t.value=i??"",a!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(a,t.value.length))}}),Wt(e)==null&&t.value&&n(jo(t)?Ho(t.value):t.value),cr(()=>{var s=e();jo(t)&&s===Ho(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function jo(t){var e=t.type;return e==="number"||e==="range"}function Ho(t){return t===""?null:+t}var dn,$n,Mi,So,yu;const xo=class xo{constructor(e){br(this,So);br(this,dn,new WeakMap);br(this,$n);br(this,Mi);Wo(this,Mi,e)}observe(e,n){var r=qe(this,dn).get(e)||new Set;return r.add(n),qe(this,dn).set(e,r),Aa(this,So,yu).call(this).observe(e,qe(this,Mi)),()=>{var s=qe(this,dn).get(e);s.delete(n),s.size===0&&(qe(this,dn).delete(e),qe(this,$n).unobserve(e))}}};dn=new WeakMap,$n=new WeakMap,Mi=new WeakMap,So=new WeakSet,yu=function(){return qe(this,$n)??Wo(this,$n,new ResizeObserver(e=>{for(var n of e){xo.entries.set(n.target,n);for(var r of qe(this,dn).get(n.target)||[])r(n)}}))},Uo(xo,"entries",new WeakMap);let _s=xo;var ah=new _s({box:"border-box"});function lh(t,e,n){var r=ah.observe(t,()=>n(t[e]));Bt(()=>(Wt(()=>n(t[e])),r))}function Ga(t,e){return t===e||(t==null?void 0:t[gn])===e}function me(t={},e,n,r){return Bt(()=>{var s,i;return cr(()=>{s=i,i=[],Wt(()=>{t!==n(...i)&&(e(t,...i),s&&Ga(n(...s),t)&&e(null,...s))})}),()=>{Gi(()=>{i&&Ga(n(...i),t)&&e(null,...i)})}}),t}function te(t=!1){const e=kt,n=e.l.u;if(!n)return;let r=()=>St(e.s);if(t){let s=0,i={};const o=Nt(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&s++,s});r=()=>U(o)}n.b.length&&yf(()=>{Ba(e,r),oo(n.b)}),at(()=>{const s=Wt(()=>n.m.map(Wd));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&at(()=>{Ba(e,r),oo(n.a)})}function Ba(t,e){if(t.l.s)for(const n of t.l.s)U(n);e()}function rt(t,e){var i;var n=(i=t.$$events)==null?void 0:i[e.type],r=Ni(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,e)}function Js(t,e,n){if(t==null)return e(void 0),n&&n(void 0),pe;const r=Wt(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}let Xi=!1;function Ft(t,e,n){const r=n[e]??(n[e]={store:null,source:Ao(void 0),unsubscribe:pe});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=pe;else{var s=!0;r.unsubscribe=Js(t,i=>{s?r.source.v=i:Rt(r.source,i)}),s=!1}return U(r.source)}function Qt(){const t={};return Qc(()=>{for(var e in t)t[e].unsubscribe()}),t}function Yn(t,e,n){return t.set(n),e}function ch(t){var e=Xi;try{return Xi=!1,[t(),Xi]}finally{Xi=e}}const uh={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Ui(t,e,n){return new Proxy({props:t,exclude:e},uh)}const dh={get(t,e){if(!t.exclude.includes(e))return U(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,n){return e in t.special||(t.special[e]=q({get[e](){return t.props[e]}},e,Wc)),t.special[e](n),Ra(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},deleteProperty(t,e){return t.exclude.includes(e)||(t.exclude.push(e),Ra(t.version)),!0},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function xt(t,e){return new Proxy({props:t,exclude:e,special:{},version:ge(0)},dh)}const fh={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Wn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let s=t.props[r];Wn(s)&&(s=s());const i=hn(s,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Wn(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const s=hn(r,e);return s&&!s.configurable&&(s.configurable=!0),s}}},has(t,e){if(e===gn||e===Gc)return!1;for(let n of t.props)if(Wn(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props){Wn(n)&&(n=n());for(const r in n)e.includes(r)||e.push(r)}return e}};function Ee(...t){return new Proxy({props:t},fh)}function Va(t){for(var e=yt,n=yt;e!==null&&!(e.f&(Fe|Ii));)e=e.parent;try{return Ae(e),t()}finally{Ae(n)}}function q(t,e,n,r){var F;var s=(n&sf)!==0,i=!ar||(n&af)!==0,o=(n&lf)!==0,a=(n&cf)!==0,l=!1,c;o?[c,l]=ch(()=>t[e]):c=t[e];var d=gn in t||Gc in t,g=((F=hn(t,e))==null?void 0:F.set)??(d&&o&&e in t?k=>t[e]=k:void 0),f=r,h=!0,u=!1,m=()=>(u=!0,h&&(h=!1,a?f=Wt(r):f=r),f);c===void 0&&r!==void 0&&(g&&i&&Qd(),c=m(),g&&g(c));var b;if(i)b=()=>{var k=t[e];return k===void 0?m():(h=!0,u=!1,k)};else{var _=Va(()=>(s?Nt:bn)(()=>t[e]));_.f|=jd,b=()=>{var k=U(_);return k!==void 0&&(f=void 0),k===void 0?f:k}}if(!(n&Wc))return b;if(g){var p=t.$$legacy;return function(k,N){return arguments.length>0?((!i||!N||p||l)&&g(N?b():k),k):b()}}var v=!1,w=!1,S=Ao(c),E=Va(()=>Nt(()=>{var k=b(),N=U(S);return v?(v=!1,w=!0,N):(w=!1,S.v=k)}));return s||(E.equals=Us),function(k,N){if(arguments.length>0){const A=N?U(E):i&&o?se(k):k;return E.equals(A)||(v=!0,Rt(S,A),u&&f!==void 0&&(f=A),Wt(()=>U(E))),k}return U(E)}}function xe(t){kt===null&&ko(),ar&&kt.l!==null?ph(kt).m.push(t):at(()=>{const e=Wt(t);if(typeof e=="function")return e})}function Dn(t){kt===null&&ko(),xe(()=>()=>Wt(t))}function hh(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function gh(){const t=kt;return t===null&&ko(),(e,n,r)=>{var i;const s=(i=t.s.$$events)==null?void 0:i[e];if(s){const o=Ni(s)?s.slice():[s],a=hh(e,n,r);for(const l of o)l.call(t.x,a);return!a.defaultPrevented}return!0}}function ph(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const mh="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mh);nf();const Vn=[];function mn(t,e){return{subscribe:zt(t,e).subscribe}}function zt(t,e=pe){let n=null;const r=new Set;function s(a){if(Vs(t,a)&&(t=a,n)){const l=!Vn.length;for(const c of r)c[1](),Vn.push(c,t);if(l){for(let c=0;c<Vn.length;c+=2)Vn[c][0](Vn[c+1]);Vn.length=0}}}function i(a){s(a(t))}function o(a,l=pe){const c=[a,l];return r.add(c),r.size===1&&(n=e(s,i)||pe),a(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function $t(t,e,n){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return mn(n,(o,a)=>{let l=!1;const c=[];let d=0,g=pe;const f=()=>{if(d)return;g();const u=e(r?c[0]:c,o,a);i?o(u):g=typeof u=="function"?u:pe},h=s.map((u,m)=>Js(u,b=>{c[m]=b,d&=~(1<<m),l&&f()},()=>{d|=1<<m}));return l=!0,f(),function(){oo(h),g(),l=!1}})}function ws(t){return{subscribe:t.subscribe.bind(t)}}function _n(t){let e;return Js(t,n=>e=n)(),e}const vh=(t,e,n)=>{var o;if(!t||!e)return;let r=e.product_type;const s=e.variants.find(a=>a.id+""===n),i=(o=t.options.find(a=>a.name==="Product Type"))==null?void 0:o.options;return i&&(i.includes((s==null?void 0:s.option3)??"")?r=(s==null?void 0:s.option3)??"":i.includes((s==null?void 0:s.option2)??"")?r=(s==null?void 0:s.option2)??"":i.includes((s==null?void 0:s.option1)??"")&&(r=(s==null?void 0:s.option1)??"")),{productType:r,variant:s}},bh=(t,e,n,r)=>{if(!n||!t||!r)return;const s=t.options.filter(f=>f.isChangeMockup),i=(e==null?void 0:e[n])||{},o=Object.keys(i).map(f=>e[n][f]),a=[r.option1,r.option2,r.option3,...o].filter(f=>s.some(h=>h.options.map(u=>u.trim()).includes(f))),l=t.groups.find(f=>f.attributes.every(h=>a.some(u=>h.values.map(m=>m.trim()).includes(u)))),c=l==null?void 0:l.mockups[0].mockup,d=c==null?void 0:c.mockupImages.find(f=>{const{attributes:h}=f;return Object.keys(h).every(u=>{var m;return a.includes((m=h[u])==null?void 0:m.trim())})});let g="";return d&&(g="https://api.podlovers.com/files/"+d.fileId+"/large"),[l,g]},yh=t=>{let e="";return t&&(e=t.printAreas[0].artworkId),e},Ss=840,xs=1180;function _h(t,e){if(t<=xs&&e<=Ss)return[t,e];const n=wh(t,e),r=t*n,s=e*n;return[Math.min(r,xs),Math.min(s,Ss)]}function wh(t,e){const n=xs/t,r=Ss/e;return Math.min(n,r)}var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qo={exports:{}},za;function xh(){return za||(za=1,function(t){(function(){function e(m,b){document.addEventListener?m.addEventListener("scroll",b,!1):m.attachEvent("scroll",b)}function n(m){document.body?m():document.addEventListener?document.addEventListener("DOMContentLoaded",function b(){document.removeEventListener("DOMContentLoaded",b),m()}):document.attachEvent("onreadystatechange",function b(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",b),m())})}function r(m){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(m)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function s(m,b){m.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function i(m){var b=m.g.offsetWidth,_=b+100;return m.j.style.width=_+"px",m.i.scrollLeft=_,m.h.scrollLeft=m.h.scrollWidth+100,m.l!==b?(m.l=b,!0):!1}function o(m,b){function _(){var v=p;i(v)&&v.g.parentNode!==null&&b(v.l)}var p=m;e(m.h,_),e(m.i,_),i(m)}function a(m,b,_){b=b||{},_=_||window,this.family=m,this.style=b.style||"normal",this.weight=b.weight||"normal",this.stretch=b.stretch||"normal",this.context=_}var l=null,c=null,d=null,g=null;function f(m){return c===null&&(h(m)&&/Apple/.test(window.navigator.vendor)?(m=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!m&&603>parseInt(m[1],10)):c=!1),c}function h(m){return g===null&&(g=!!m.document.fonts),g}function u(m,b){var _=m.style,p=m.weight;if(d===null){var v=document.createElement("div");try{v.style.font="condensed 100px sans-serif"}catch{}d=v.style.font!==""}return[_,p,d?m.stretch:"","100px",b].join(" ")}a.prototype.load=function(m,b){var _=this,p=m||"BESbswy",v=0,w=b||3e3,S=new Date().getTime();return new Promise(function(E,F){if(h(_.context)&&!f(_.context)){var k=new Promise(function(A,T){function P(){new Date().getTime()-S>=w?T(Error(""+w+"ms timeout exceeded")):_.context.document.fonts.load(u(_,'"'+_.family+'"'),p).then(function(y){1<=y.length?A():setTimeout(P,25)},T)}P()}),N=new Promise(function(A,T){v=setTimeout(function(){T(Error(""+w+"ms timeout exceeded"))},w)});Promise.race([N,k]).then(function(){clearTimeout(v),E(_)},F)}else n(function(){function A(){var D;(D=C!=-1&&R!=-1||C!=-1&&O!=-1||R!=-1&&O!=-1)&&((D=C!=R&&C!=O&&R!=O)||(l===null&&(D=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!D&&(536>parseInt(D[1],10)||parseInt(D[1],10)===536&&11>=parseInt(D[2],10))),D=l&&(C==G&&R==G&&O==G||C==I&&R==I&&O==I||C==W&&R==W&&O==W)),D=!D),D&&(M.parentNode!==null&&M.parentNode.removeChild(M),clearTimeout(v),E(_))}function T(){if(new Date().getTime()-S>=w)M.parentNode!==null&&M.parentNode.removeChild(M),F(Error(""+w+"ms timeout exceeded"));else{var D=_.context.document.hidden;(D===!0||D===void 0)&&(C=P.g.offsetWidth,R=y.g.offsetWidth,O=x.g.offsetWidth,A()),v=setTimeout(T,50)}}var P=new r(p),y=new r(p),x=new r(p),C=-1,R=-1,O=-1,G=-1,I=-1,W=-1,M=document.createElement("div");M.dir="ltr",s(P,u(_,"sans-serif")),s(y,u(_,"serif")),s(x,u(_,"monospace")),M.appendChild(P.g),M.appendChild(y.g),M.appendChild(x.g),_.context.document.body.appendChild(M),G=P.g.offsetWidth,I=y.g.offsetWidth,W=x.g.offsetWidth,T(),o(P,function(D){C=D,A()}),s(P,u(_,'"'+_.family+'",sans-serif')),o(y,function(D){R=D,A()}),s(y,u(_,'"'+_.family+'",serif')),o(x,function(D){O=D,A()}),s(x,u(_,'"'+_.family+'",monospace'))})})},t.exports=a})()}(qo)),qo.exports}xh();const _u=(t,e)=>{if(e)for(const n of e){if(n.id===t)return n;if(n.children){const r=_u(t,n.children);if(r)return r}}};function Ch(t,e){const n={};return t.forEach(s=>{n[s.id]=Cs(s,t,n,e),s.type==="Group"&&s.children&&s.children.forEach(i=>{n[i.id]=Cs(i,t,n,e)})}),t.filter(s=>n[s.id]).map(s=>{if(s.type==="Group"&&s.children){const i=s.children.filter(o=>n[o.id]).map(o=>({...o,value:Wa(o,e)}));return{...s,children:i}}return{...s,value:Wa(s,e)}})}function Cs(t,e,n,r){return t.type!=="Option"&&!t.visible?!1:t.condition?Ah(t,e,n,r):!0}function Ah(t,e,n,r){if(!t.condition.enable||!t.condition.rules||!t.condition.rules.length)return!0;const{action:s,match:i,rules:o}=t.condition;let a=!1;switch(i){case"all":a=o.every(l=>Yo(l,e,n,r));break;case"one":a=o.some(l=>Yo(l,e,n,r));break;case"none":a=o.every(l=>!Yo(l,e,n,r));break}return s==="show"?a:!a}function Yo(t,e,n,r={}){const s=kh(t.layerId,r);return Eh(t.layerId,e,n,r)?Th(t.value,s,t.logic):!1}function Eh(t,e,n,r={}){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const s=_u(t,e);if(!s)return!1;const i=Cs(s,e,n,r);return n[t]=i,i}function kh(t,e){if(!Object.prototype.hasOwnProperty.call(e,t))return null;const n=e[t];return n===void 0?null:Object.prototype.hasOwnProperty.call(e[t],"id")?e[t].id:Object.prototype.hasOwnProperty.call(e[t],"fileId")||Object.prototype.hasOwnProperty.call(e[t],"file")?e[t].fileId||e[t].file.id:Object.prototype.hasOwnProperty.call(e[t],"text")?e[t].text:n}function Th(t,e,n){switch(n){case"=":return t===e;case"!=":return t!==e;default:return!1}}function Wa(t,e){var s,i,o,a;if(!(((s=t.personalized)==null?void 0:s.enable)||t.type==="Option"))return t.value;let r={};if(t.type==="Image")e!=null&&e[t.id]&&(r=e[t.id]);else if(t.type==="Text"||t.type==="CurvedText"){const l=!!((i=e==null?void 0:e[t.id])!=null&&i.fileId);let c=(o=e==null?void 0:e[t.id])==null?void 0:o.text;c||(typeof e[t.id]=="string"?c=e[t.id]:c=""),r={...t.value,text:c,...l&&{file:{id:e[t.id].fileId,title:(a=e[t.id])==null?void 0:a.fileTitle},fileId:e[t.id].fileId}}}else t.type==="Option"&&(r=e[t.id]);return r}function ja(t){return t.replace(/\.[^/.]+$/,"")}var Xo={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha;function Ph(){if(Ha)return gt;Ha=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.iterator;function f(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,m={};function b(M,D,z){this.props=M,this.context=D,this.refs=m,this.updater=z||h}b.prototype.isReactComponent={},b.prototype.setState=function(M,D){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,D,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _(){}_.prototype=b.prototype;function p(M,D,z){this.props=M,this.context=D,this.refs=m,this.updater=z||h}var v=p.prototype=new _;v.constructor=p,u(v,b.prototype),v.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function k(M,D,z){var j,X={},J=null,L=null;if(D!=null)for(j in D.ref!==void 0&&(L=D.ref),D.key!==void 0&&(J=""+D.key),D)S.call(D,j)&&!F.hasOwnProperty(j)&&(X[j]=D[j]);var B=arguments.length-2;if(B===1)X.children=z;else if(1<B){for(var H=Array(B),Q=0;Q<B;Q++)H[Q]=arguments[Q+2];X.children=H}if(M&&M.defaultProps)for(j in B=M.defaultProps,B)X[j]===void 0&&(X[j]=B[j]);return{$$typeof:t,type:M,key:J,ref:L,props:X,_owner:E.current}}function N(M,D){return{$$typeof:t,type:M.type,key:D,ref:M.ref,props:M.props,_owner:M._owner}}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function T(M){var D={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(z){return D[z]})}var P=/\/+/g;function y(M,D){return typeof M=="object"&&M!==null&&M.key!=null?T(""+M.key):D.toString(36)}function x(M,D,z,j,X){var J=typeof M;(J==="undefined"||J==="boolean")&&(M=null);var L=!1;if(M===null)L=!0;else switch(J){case"string":case"number":L=!0;break;case"object":switch(M.$$typeof){case t:case e:L=!0}}if(L)return L=M,X=X(L),M=j===""?"."+y(L,0):j,w(X)?(z="",M!=null&&(z=M.replace(P,"$&/")+"/"),x(X,D,z,"",function(Q){return Q})):X!=null&&(A(X)&&(X=N(X,z+(!X.key||L&&L.key===X.key?"":(""+X.key).replace(P,"$&/")+"/")+M)),D.push(X)),1;if(L=0,j=j===""?".":j+":",w(M))for(var B=0;B<M.length;B++){J=M[B];var H=j+y(J,B);L+=x(J,D,z,H,X)}else if(H=f(M),typeof H=="function")for(M=H.call(M),B=0;!(J=M.next()).done;)J=J.value,H=j+y(J,B++),L+=x(J,D,z,H,X);else if(J==="object")throw D=String(M),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return L}function C(M,D,z){if(M==null)return M;var j=[],X=0;return x(M,j,"","",function(J){return D.call(z,J,X++)}),j}function R(M){if(M._status===-1){var D=M._result;D=D(),D.then(function(z){(M._status===0||M._status===-1)&&(M._status=1,M._result=z)},function(z){(M._status===0||M._status===-1)&&(M._status=2,M._result=z)}),M._status===-1&&(M._status=0,M._result=D)}if(M._status===1)return M._result.default;throw M._result}var O={current:null},G={transition:null},I={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:G,ReactCurrentOwner:E};function W(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:C,forEach:function(M,D,z){C(M,function(){D.apply(this,arguments)},z)},count:function(M){var D=0;return C(M,function(){D++}),D},toArray:function(M){return C(M,function(D){return D})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},gt.Component=b,gt.Fragment=n,gt.Profiler=s,gt.PureComponent=p,gt.StrictMode=r,gt.Suspense=l,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,gt.act=W,gt.cloneElement=function(M,D,z){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var j=u({},M.props),X=M.key,J=M.ref,L=M._owner;if(D!=null){if(D.ref!==void 0&&(J=D.ref,L=E.current),D.key!==void 0&&(X=""+D.key),M.type&&M.type.defaultProps)var B=M.type.defaultProps;for(H in D)S.call(D,H)&&!F.hasOwnProperty(H)&&(j[H]=D[H]===void 0&&B!==void 0?B[H]:D[H])}var H=arguments.length-2;if(H===1)j.children=z;else if(1<H){B=Array(H);for(var Q=0;Q<H;Q++)B[Q]=arguments[Q+2];j.children=B}return{$$typeof:t,type:M.type,key:X,ref:J,props:j,_owner:L}},gt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},gt.createElement=k,gt.createFactory=function(M){var D=k.bind(null,M);return D.type=M,D},gt.createRef=function(){return{current:null}},gt.forwardRef=function(M){return{$$typeof:a,render:M}},gt.isValidElement=A,gt.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:R}},gt.memo=function(M,D){return{$$typeof:c,type:M,compare:D===void 0?null:D}},gt.startTransition=function(M){var D=G.transition;G.transition={};try{M()}finally{G.transition=D}},gt.unstable_act=W,gt.useCallback=function(M,D){return O.current.useCallback(M,D)},gt.useContext=function(M){return O.current.useContext(M)},gt.useDebugValue=function(){},gt.useDeferredValue=function(M){return O.current.useDeferredValue(M)},gt.useEffect=function(M,D){return O.current.useEffect(M,D)},gt.useId=function(){return O.current.useId()},gt.useImperativeHandle=function(M,D,z){return O.current.useImperativeHandle(M,D,z)},gt.useInsertionEffect=function(M,D){return O.current.useInsertionEffect(M,D)},gt.useLayoutEffect=function(M,D){return O.current.useLayoutEffect(M,D)},gt.useMemo=function(M,D){return O.current.useMemo(M,D)},gt.useReducer=function(M,D,z){return O.current.useReducer(M,D,z)},gt.useRef=function(M){return O.current.useRef(M)},gt.useState=function(M){return O.current.useState(M)},gt.useSyncExternalStore=function(M,D,z){return O.current.useSyncExternalStore(M,D,z)},gt.useTransition=function(){return O.current.useTransition()},gt.version="18.3.1",gt}var qa;function wu(){return qa||(qa=1,Xo.exports=Ph()),Xo.exports}wu();var Ko,Ya;function Rh(){if(Ya)return Ko;Ya=1;var t=wu();return Ko=function(n,r,s){const i=t.useRef("loading"),o=t.useRef(),[a,l]=t.useState(0),c=t.useRef(),d=t.useRef(),g=t.useRef();return(c.current!==n||d.current!==r||g.current!==s)&&(i.current="loading",o.current=void 0,c.current=n,d.current=r,g.current=s),t.useLayoutEffect(function(){if(!n)return;var f=document.createElement("img");function h(){i.current="loaded",o.current=f,l(Math.random())}function u(){i.current="failed",o.current=void 0,l(Math.random())}return f.addEventListener("load",h),f.addEventListener("error",u),r&&(f.crossOrigin=r),s&&(f.referrerPolicy=s),f.src=n,function(){f.removeEventListener("load",h),f.removeEventListener("error",u)}},[n,r,s]),[o.current,i.current]},Ko}Rh();function Su(t){return t.reduce((e,n)=>n.type==="Group"&&n.children?[...e,...Su(n.children)]:[...e,n],[])}function Xa(t,e){return isNaN(parseInt(t,16))?e:String.fromCharCode(parseInt(t,16))}const Oh=(t,e,n)=>(!e||e.length===0||e.forEach(r=>{var a,l;const{fontSetId:s,position:i}=r,o=n==null?void 0:n.find(c=>c.id===s);if(o){if(i==="start"){const c=t.charAt(0),d=(a=o.characters)==null?void 0:a.find(g=>g.name===c);d&&(t=Xa(d.unicode,c)+t.slice(1))}else if(i==="end"){const c=t.charAt(t.length-1),d=(l=o.characters)==null?void 0:l.find(g=>g.name===c);d&&(t=t.slice(0,t.length-1)+Xa(d.unicode,c))}}}),t);function Fh(t){return t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join(" ")}function Mh(t,e,n,r){let s=t.text;if(!s)return"";switch(e){case"uppercase":s=s.toUpperCase();break;case"lowercase":s=s.toLowerCase();break;case"capitalcase":s=Fh(s);break}return t!=null&&t.prefixText&&(s=t.prefixText+s),t!=null&&t.suffixText&&(s=s+t.suffixText),n&&(s=Oh(s,n,r==null?void 0:r.fontSets)),s}const jt=zt({loading:!1,product:null,settings:null,variantId:null,customAttrs:null,config:{}}),xu=$t(jt,t=>vh(t.settings,t.product,t.variantId)),Qs=$t([jt,xu],([t,e])=>e?bh(t.settings,t.customAttrs,e.productType,e.variant):null),ki=$t([Qs],([t])=>{if(!t)return null;const[e]=t;return yh(e)}),Oo=$t([jt,ki],([t,e])=>{var n;return(n=t.settings)==null?void 0:n.artworks.find(r=>r.id===e)}),Tn=(()=>{const{subscribe:t}=$t([jt,ki],([e,n])=>{if(!n)return;const r=e.config[n];return Object.keys(r||{}).find(i=>r[i].active)});return{subscribe:t,set:e=>{jt.update(n=>{const r=_n(ki);return r?e?(n.config[r]||(n.config[r]={}),Object.keys(n.config[r]).forEach(s=>{n.config[r][s].active=!1}),n.config[r][e]={...n.config[r][e],active:!0},{...n}):(r&&n.config[r]&&Object.keys(n.config[r]).forEach(s=>{n.config[r][s].active=!1}),n):n})}}})(),uo=(()=>{const{subscribe:t}=$t([jt,ki,Tn],([e,n,r])=>{var i,o;return!n||!r||(o=(i=e.config)==null?void 0:i[n])==null?void 0:o[r]});return{subscribe:t,set:e=>{jt.update(n=>{const r=_n(ki);if(!r)return n;const s=_n(Tn);return s?(n.config[r]||(n.config[r]={}),n.config[r][s]||(n.config[r][s]={}),n.config[r][s]={...n.config[r][s],...e},{...n}):n})}}})(),Nh=$t(jt,t=>{var n,r,s;const e=(n=t.product)==null?void 0:n.variants.find(i=>i.id+""===t.variantId);if(!e)return[];if((r=t.settings)!=null&&r.combineVariants){const i=t.settings.combineVariants.find(a=>{let l=!0,c=!0,d=!0;return e.option1&&(l=a.some(g=>g.options.map(f=>f.trim()).includes(e.option1))),e.option2&&(c=a.some(g=>g.options.map(f=>f.trim()).includes(e.option2))),e.option3&&(d=a.some(g=>g.options.map(f=>f.trim()).includes(e.option3))),l&&c&&d});if(!i)return[];const o=t.settings.groups.filter(a=>{const l=a.attributes.some(g=>{const f=i.find(h=>h.name===g.name);return f&&g.values.every(h=>f.options.includes(h))&&g.values.length===f.options.length});let c=!1;const d=a.attributes.find(g=>g.name==="Product Type");return d&&(c=i.some(g=>g.name==="Product Type"&&g.options.every(f=>d.values.includes(f)&&d.values.length===g.options.length))),l&&c});return t.settings.options.filter(a=>!a.isPublishOnShopify).map(a=>{const{name:l}=a,c=i.find(f=>f.name===l),g=o.map(f=>f.attributes.find(h=>h.name===l)).reduce((f,h)=>(h&&f.push(...h.values),f),[]).map(f=>c==null?void 0:c.options.find(u=>u===f)).filter(f=>!!f);return{...a,options:g}})}return((s=t.settings)==null?void 0:s.options.filter(i=>!i.isPublishOnShopify))||[]}),Lh=$t([Oo,Tn],([t,e])=>{var n;return(n=t==null?void 0:t.templates)==null?void 0:n.find(r=>r.id===e)}),Cu=$t([Lh,uo],([t,e])=>!t||!e?[]:Ch(t.layers,e)),Ih=$t([jt,Oo,Tn,Cu],([t,e,n,r])=>{if(!t.settings||!e)return[];const s=e.templates.findIndex(l=>l.id===n),o=(t.settings.ordering[e.id]||[])[s]||[],a=Su(r);return Array.from(new Set(o)).map(l=>a.find(c=>c.id===l)).filter(l=>!!l&&l.personalized&&l.personalized.enable)}),Au=(t,e)=>{const r={..._n(uo),[t]:e};uo.set(r)};var Ka=Object.prototype.hasOwnProperty;function Ja(t,e,n){for(n of t.keys())if(ke(n,e))return n}function ke(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ke(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=Ja(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=Ja(e,s),!s)||!ke(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Ka.call(t,n)&&++r&&!Ka.call(e,n)||!(n in e)||!ke(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Dh(t,e,n,r=!0){const s=e-n;return s<=0?r?t[t.length-1]:t[0]:t[s]}function Gh(t,e,n,r=!0){const s=e+n;return s>t.length-1?r?t[0]:t[t.length-1]:t[s]}function Bh(t,e,n=!0){return e===t.length-1?n?t[0]:t[e]:t[e+1]}function Vh(t,e,n=!0){return e<=0?n?t[t.length-1]:t[0]:t[e-1]}function ro(t){return t[t.length-1]}function Uh(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function zh(t,e,n=ke){const r=e.findIndex(s=>n(s,t));return r!==-1?e.splice(r,1):e.push(t),e}function fo(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function Qa(t){return t?!0:void 0}fo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Za(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function Wh(t){if(!vi)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return Xt(e)?e:null}const Ki=t=>new Proxy(t,{get(e,n,r){return Reflect.get(e,n,r)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),$a=t=>typeof t=="function";Le("empty");function Le(t,e){const{stores:n,action:r,returned:s}=e??{},i=(()=>{if(n&&s)return $t(n,a=>{const l=s(a);if($a(l)){const c=(...d)=>Ki({...l(...d),[`data-melt-${t}`]:"",action:r??re});return c.action=r??re,c}return Ki({...l,[`data-melt-${t}`]:"",action:r??re})});{const a=s,l=a==null?void 0:a();if($a(l)){const c=(...d)=>Ki({...l(...d),[`data-melt-${t}`]:"",action:r??re});return c.action=r??re,Za(c)}return Za(Ki({...l,[`data-melt-${t}`]:"",action:r??re}))}})(),o=r??(()=>{});return o.subscribe=i.subscribe,o}function Eu(t){const e=i=>i?`${t}-${i}`:t,n=i=>`data-melt-${t}${i?`-${i}`:""}`,r=i=>`[data-melt-${t}${i?`-${i}`:""}]`;return{name:e,attribute:n,selector:r,getEl:i=>document.querySelector(r(i))}}const vi=typeof document<"u",jh=t=>typeof t=="function";function zi(t){return t instanceof Element}function Xt(t){return t instanceof HTMLElement}function Hh(t){return t instanceof HTMLInputElement}function qh(t){return t instanceof HTMLLabelElement}function tl(t){return t instanceof HTMLButtonElement}function el(t){const e=t.getAttribute("aria-disabled"),n=t.getAttribute("disabled"),r=t.hasAttribute("data-disabled");return!!(e==="true"||n!==null||r)}function ku(t){return t!==null&&typeof t=="object"}function Tu(t){return ku(t)&&"subscribe"in t}function fn(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function re(){}function Qe(t,e,n,r){const s=Array.isArray(e)?e:[e];return s.forEach(i=>t.addEventListener(i,n,r)),()=>{s.forEach(i=>t.removeEventListener(i,n,r))}}function jn(t,e,n,r){const s=Array.isArray(e)?e:[e];if(typeof n=="function"){const i=Xh(o=>n(o));return s.forEach(o=>t.addEventListener(o,i,r)),()=>{s.forEach(o=>t.removeEventListener(o,i,r))}}return()=>void 0}function Yh(t){const e=t.currentTarget;if(!Xt(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function Xh(t){return e=>{const n=Yh(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function Kh(t){t.setAttribute("data-highlighted","")}function Jh(t){t.removeAttribute("data-highlighted")}const Qh=t=>{try{xe(t)}catch{return t}},Zh=t=>{try{Dn(t)}catch{return t}};function Jo(t){return Array.from(t.querySelectorAll('[role="option"]:not([data-disabled])')).filter(e=>Xt(e))}function Zs(t,...e){const n={};for(const r of Object.keys(t))e.includes(r)||(n[r]=t[r]);return n}function $h(t,e,n){return Object.fromEntries(Object.entries(t).filter(([r,s])=>!ke(s,e)))}function t0(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=r)}return e}function en(t){return{...t,get:()=>_n(t)}}en.writable=function(t){const e=zt(t);let n=t;return{subscribe:e.subscribe,set(r){e.set(r),n=r},update(r){const s=r(n);e.set(s),n=s},get(){return n}}};en.derived=function(t,e){const n=new Map,r=()=>{const i=Array.isArray(t)?t.map(o=>o.get()):t.get();return e(i)};return{get:r,subscribe:i=>{const o=[];return(Array.isArray(t)?t:[t]).forEach(l=>{o.push(l.subscribe(()=>{i(r())}))}),i(r()),n.set(i,o),()=>{const l=n.get(i);if(l)for(const c of l)c();n.delete(i)}}}};const nl=(t,e)=>{const n=en(t),r=(i,o)=>{n.update(a=>{const l=i(a);let c=l;return e&&(c=e({curr:a,next:l})),o==null||o(c),c})};return{...n,update:r,set:i=>{r(()=>i)}}};function Pu(t){return new Promise(e=>setTimeout(e,t))}let e0="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",n0=(t=21)=>{let e="",n=t|0;for(;n--;)e+=e0[Math.random()*64|0];return e};function Ru(){return n0(10)}function r0(t){return t.reduce((e,n)=>(e[n]=Ru(),e),{})}const ut={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},i0=[ut.ARROW_DOWN,ut.PAGE_UP,ut.HOME],o0=[ut.ARROW_UP,ut.PAGE_DOWN,ut.END],s0=[...i0,...o0];function a0(t,e=500){let n=null;return function(...r){const s=()=>{n=null,t(...r)};n&&clearTimeout(n),n=setTimeout(s,e)}}const Ou=()=>typeof window<"u";function l0(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Fu=t=>Ou()&&t.test(l0().toLowerCase()),c0=()=>Ou()&&!!navigator.maxTouchPoints,u0=()=>Fu(/^mac/)&&!c0(),d0=()=>Fu(/mac|iphone|ipad|ipod/i),f0=()=>d0()&&!u0(),Qo="data-melt-scroll-lock";function rl(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function h0(t,e,n){if(!t)return;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{r?t.style.setProperty(e,r):t.style.removeProperty(e)}}function g0(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function p0(t){const e=document,n=e.defaultView??window,{documentElement:r,body:s}=e;if(s.hasAttribute(Qo))return re;s.setAttribute(Qo,"");const o=n.innerWidth-r.clientWidth,a=()=>h0(r,"--scrollbar-width",`${o}px`),l=g0(r),c=n.getComputedStyle(s)[l],d=()=>rl(s,{overflow:"hidden",[l]:`calc(${c} + ${o}px)`}),g=()=>{const{scrollX:h,scrollY:u,visualViewport:m}=n,b=(m==null?void 0:m.offsetLeft)??0,_=(m==null?void 0:m.offsetTop)??0,p=rl(s,{position:"fixed",overflow:"hidden",top:`${-(u-Math.floor(_))}px`,left:`${-(h-Math.floor(b))}px`,right:"0",[l]:`calc(${c} + ${o}px)`});return()=>{p==null||p(),n.scrollTo(h,u)}},f=[a(),f0()?g():d()];return()=>{f.forEach(h=>h==null?void 0:h()),s.removeAttribute(Qo)}}function m0(t){const{open:e,forceVisible:n,activeTrigger:r}=t;return $t([e,n,r],([s,i,o])=>(s||i)&&o!==null)}function gi(t,e){let n;const r=$t(t,i=>{n==null||n(),n=e(i)}).subscribe(re),s=()=>{r(),n==null||n()};return Zh(s),s}function il(t){const e={};return Object.keys(t).forEach(n=>{const r=n,s=t[r];e[r]=en(zt(s))}),e}function v0(t){vi&&Pu(1).then(()=>{const e=document.activeElement;!Xt(e)||e===t||(e.tabIndex=-1,t&&(t.tabIndex=0,t.focus()))})}const b0=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),y0={onMatch:v0,getCurrentItem:()=>document.activeElement};function _0(t={}){const e={...y0,...t},n=en(zt([])),r=a0(()=>{n.update(()=>[])});return{typed:n,resetTyped:r,handleTypeaheadSearch:(i,o)=>{if(b0.has(i))return;const a=e.getCurrentItem(),l=_n(n);if(!Array.isArray(l))return;l.push(i.toLowerCase()),n.set(l);const c=o.filter(b=>!(b.getAttribute("disabled")==="true"||b.getAttribute("aria-disabled")==="true"||b.hasAttribute("data-disabled"))),g=l.length>1&&l.every(b=>b===l[0])?l[0]:l.join(""),f=Xt(a)?c.indexOf(a):-1;let h=Uh(c,Math.max(f,0));g.length===1&&(h=h.filter(b=>b!==a));const m=h.find(b=>(b==null?void 0:b.innerText)&&b.innerText.toLowerCase().startsWith(g.toLowerCase()));Xt(m)&&m!==a&&e.onMatch(m),r()}}}function w0(t){let e=t.parentElement;for(;Xt(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function S0(t,e){return e!==void 0?e:w0(t)==="body"?document.body:null}function x0(t){return e=>{const n=e.target,r=Wh(t);if(!r||!zi(n))return!1;const s=r.id;return!!(qh(n)&&s===n.htmlFor||n.closest(`label[for="${s}"]`))}}mn(void 0,t=>{function e(r){t(r),t(void 0)}return Qe(document,"pointerup",e,{passive:!1,capture:!0})});const C0=mn(void 0,t=>{function e(r){r&&r.key===ut.ESCAPE&&t(r),t(void 0)}return Qe(document,"keydown",e,{passive:!1})}),Mu=(t,e={})=>{let n=re;function r(s={}){n();const i={enabled:!0,...s},o=Tu(i.enabled)?i.enabled:mn(i.enabled);n=fn(C0.subscribe(a=>{var c;if(!a||!_n(o))return;const l=a.target;if(!(!Xt(l)||l.closest("[data-escapee]")!==t)){if(a.preventDefault(),i.ignore){if(jh(i.ignore)){if(i.ignore(a))return}else if(Array.isArray(i.ignore)&&i.ignore.length>0&&i.ignore.some(d=>d&&l===d))return}(c=i.handler)==null||c.call(i,a)}}),gi(o,a=>{a?t.dataset.escapee="":delete t.dataset.escapee}))}return r(e),{update:r,destroy(){t.removeAttribute("data-escapee"),n()}}},wn=Math.min,we=Math.max,ho=Math.round,Ji=Math.floor,Be=t=>({x:t,y:t}),A0={left:"right",right:"left",bottom:"top",top:"bottom"},E0={start:"end",end:"start"};function As(t,e,n){return we(t,wn(e,n))}function fr(t,e){return typeof t=="function"?t(e):t}function Sn(t){return t.split("-")[0]}function hr(t){return t.split("-")[1]}function Nu(t){return t==="x"?"y":"x"}function $s(t){return t==="y"?"height":"width"}function Rn(t){return["top","bottom"].includes(Sn(t))?"y":"x"}function ta(t){return Nu(Rn(t))}function k0(t,e,n){n===void 0&&(n=!1);const r=hr(t),s=ta(t),i=$s(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=go(o)),[o,go(o)]}function T0(t){const e=go(t);return[Es(t),e,Es(e)]}function Es(t){return t.replace(/start|end/g,e=>E0[e])}function P0(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function R0(t,e,n,r){const s=hr(t);let i=P0(Sn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Es)))),i}function go(t){return t.replace(/left|right|bottom|top/g,e=>A0[e])}function O0(t){return{top:0,right:0,bottom:0,left:0,...t}}function Lu(t){return typeof t!="number"?O0(t):{top:t,right:t,bottom:t,left:t}}function po(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ol(t,e,n){let{reference:r,floating:s}=t;const i=Rn(e),o=ta(e),a=$s(o),l=Sn(e),c=i==="y",d=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:g};break;case"left":h={x:r.x-s.width,y:g};break;default:h={x:r.x,y:r.y}}switch(hr(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const F0=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:g}=ol(c,r,l),f=r,h={},u=0;for(let m=0;m<a.length;m++){const{name:b,fn:_}=a[m],{x:p,y:v,data:w,reset:S}=await _({x:d,y:g,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});d=p??d,g=v??g,h={...h,[b]:{...h[b],...w}},S&&u<=50&&(u++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:g}=ol(c,f,l)),m=-1)}return{x:d,y:g,placement:f,strategy:s,middlewareData:h}};async function ea(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:f=!1,padding:h=0}=fr(e,t),u=Lu(h),b=a[f?g==="floating"?"reference":"floating":g],_=po(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),p=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),w=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},S=po(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:v,strategy:l}):p);return{top:(_.top-S.top+u.top)/w.y,bottom:(S.bottom-_.bottom+u.bottom)/w.y,left:(_.left-S.left+u.left)/w.x,right:(S.right-_.right+u.right)/w.x}}const M0=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=fr(t,e)||{};if(c==null)return{};const g=Lu(d),f={x:n,y:r},h=ta(s),u=$s(h),m=await o.getDimensions(c),b=h==="y",_=b?"top":"left",p=b?"bottom":"right",v=b?"clientHeight":"clientWidth",w=i.reference[u]+i.reference[h]-f[h]-i.floating[u],S=f[h]-i.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let F=E?E[v]:0;(!F||!await(o.isElement==null?void 0:o.isElement(E)))&&(F=a.floating[v]||i.floating[u]);const k=w/2-S/2,N=F/2-m[u]/2-1,A=wn(g[_],N),T=wn(g[p],N),P=A,y=F-m[u]-T,x=F/2-m[u]/2+k,C=As(P,x,y),R=!l.arrow&&hr(s)!=null&&x!==C&&i.reference[u]/2-(x<P?A:T)-m[u]/2<0,O=R?x<P?x-P:x-y:0;return{[h]:f[h]+O,data:{[h]:C,centerOffset:x-C-O,...R&&{alignmentOffset:O}},reset:R}}}),N0=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:m=!0,...b}=fr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Sn(s),p=Rn(a),v=Sn(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(v||!m?[go(a)]:T0(a)),E=u!=="none";!f&&E&&S.push(...R0(a,m,u,w));const F=[a,...S],k=await ea(e,b),N=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&N.push(k[_]),g){const x=k0(s,o,w);N.push(k[x[0]],k[x[1]])}if(A=[...A,{placement:s,overflows:N}],!N.every(x=>x<=0)){var T,P;const x=(((T=i.flip)==null?void 0:T.index)||0)+1,C=F[x];if(C)return{data:{index:x,overflows:A},reset:{placement:C}};let R=(P=A.filter(O=>O.overflows[0]<=0).sort((O,G)=>O.overflows[1]-G.overflows[1])[0])==null?void 0:P.placement;if(!R)switch(h){case"bestFit":{var y;const O=(y=A.filter(G=>{if(E){const I=Rn(G.placement);return I===p||I==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(I=>I>0).reduce((I,W)=>I+W,0)]).sort((G,I)=>G[1]-I[1])[0])==null?void 0:y[0];O&&(R=O);break}case"initialPlacement":R=a;break}if(s!==R)return{reset:{placement:R}}}return{}}}};async function L0(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Sn(n),a=hr(n),l=Rn(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,g=fr(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:u}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return a&&typeof u=="number"&&(h=a==="end"?u*-1:u),l?{x:h*d,y:f*c}:{x:f*c,y:h*d}}const I0=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await L0(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},D0=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:p}=b;return{x:_,y:p}}},...l}=fr(t,e),c={x:n,y:r},d=await ea(e,l),g=Rn(Sn(s)),f=Nu(g);let h=c[f],u=c[g];if(i){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",p=h+d[b],v=h-d[_];h=As(p,h,v)}if(o){const b=g==="y"?"top":"left",_=g==="y"?"bottom":"right",p=u+d[b],v=u-d[_];u=As(p,u,v)}const m=a.fn({...e,[f]:h,[g]:u});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[g]:o}}}}}},G0=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=fr(t,e),d=await ea(e,c),g=Sn(s),f=hr(s),h=Rn(s)==="y",{width:u,height:m}=i.floating;let b,_;g==="top"||g==="bottom"?(b=g,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=g,b=f==="end"?"top":"bottom");const p=m-d.top-d.bottom,v=u-d.left-d.right,w=wn(m-d[b],p),S=wn(u-d[_],v),E=!e.middlewareData.shift;let F=w,k=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=p),E&&!f){const A=we(d.left,0),T=we(d.right,0),P=we(d.top,0),y=we(d.bottom,0);h?k=u-2*(A!==0||T!==0?A+T:we(d.left,d.right)):F=m-2*(P!==0||y!==0?P+y:we(d.top,d.bottom))}await l({...e,availableWidth:k,availableHeight:F});const N=await o.getDimensions(a.floating);return u!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function Fo(){return typeof window<"u"}function gr(t){return Iu(t)?(t.nodeName||"").toLowerCase():"#document"}function Se(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function je(t){var e;return(e=(Iu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Iu(t){return Fo()?t instanceof Node||t instanceof Se(t).Node:!1}function Re(t){return Fo()?t instanceof Element||t instanceof Se(t).Element:!1}function We(t){return Fo()?t instanceof HTMLElement||t instanceof Se(t).HTMLElement:!1}function sl(t){return!Fo()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Se(t).ShadowRoot}function Wi(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Oe(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function B0(t){return["table","td","th"].includes(gr(t))}function Mo(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function na(t){const e=ra(),n=Re(t)?Oe(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function V0(t){let e=xn(t);for(;We(e)&&!rr(e);){if(na(e))return e;if(Mo(e))return null;e=xn(e)}return null}function ra(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rr(t){return["html","body","#document"].includes(gr(t))}function Oe(t){return Se(t).getComputedStyle(t)}function No(t){return Re(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xn(t){if(gr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sl(t)&&t.host||je(t);return sl(e)?e.host:e}function Du(t){const e=xn(t);return rr(e)?t.ownerDocument?t.ownerDocument.body:t.body:We(e)&&Wi(e)?e:Du(e)}function Ti(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Du(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Se(s);if(i){const a=ks(o);return e.concat(o,o.visualViewport||[],Wi(s)?s:[],a&&n?Ti(a):[])}return e.concat(s,Ti(s,[],n))}function ks(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Gu(t){const e=Oe(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=We(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ho(n)!==i||ho(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ia(t){return Re(t)?t:t.contextElement}function Qn(t){const e=ia(t);if(!We(e))return Be(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Gu(e);let o=(i?ho(n.width):n.width)/r,a=(i?ho(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const U0=Be(0);function Bu(t){const e=Se(t);return!ra()||!e.visualViewport?U0:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function z0(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Se(t)?!1:e}function On(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ia(t);let o=Be(1);e&&(r?Re(r)&&(o=Qn(r)):o=Qn(t));const a=z0(i,n,r)?Bu(i):Be(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,g=s.height/o.y;if(i){const f=Se(i),h=r&&Re(r)?Se(r):r;let u=f,m=ks(u);for(;m&&r&&h!==u;){const b=Qn(m),_=m.getBoundingClientRect(),p=Oe(m),v=_.left+(m.clientLeft+parseFloat(p.paddingLeft))*b.x,w=_.top+(m.clientTop+parseFloat(p.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,g*=b.y,l+=v,c+=w,u=Se(m),m=ks(u)}}return po({width:d,height:g,x:l,y:c})}function oa(t,e){const n=No(t).scrollLeft;return e?e.left+n:On(je(t)).left+n}function Vu(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:oa(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function W0(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=je(r),a=e?Mo(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Be(1);const d=Be(0),g=We(r);if((g||!g&&!i)&&((gr(r)!=="body"||Wi(o))&&(l=No(r)),We(r))){const h=On(r);c=Qn(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const f=o&&!g&&!i?Vu(o,l,!0):Be(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function j0(t){return Array.from(t.getClientRects())}function H0(t){const e=je(t),n=No(t),r=t.ownerDocument.body,s=we(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=we(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+oa(t);const a=-n.scrollTop;return Oe(r).direction==="rtl"&&(o+=we(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function q0(t,e){const n=Se(t),r=je(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=ra();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Y0(t,e){const n=On(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=We(t)?Qn(t):Be(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function al(t,e,n){let r;if(e==="viewport")r=q0(t,n);else if(e==="document")r=H0(je(t));else if(Re(e))r=Y0(e,n);else{const s=Bu(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return po(r)}function Uu(t,e){const n=xn(t);return n===e||!Re(n)||rr(n)?!1:Oe(n).position==="fixed"||Uu(n,e)}function X0(t,e){const n=e.get(t);if(n)return n;let r=Ti(t,[],!1).filter(a=>Re(a)&&gr(a)!=="body"),s=null;const i=Oe(t).position==="fixed";let o=i?xn(t):t;for(;Re(o)&&!rr(o);){const a=Oe(o),l=na(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wi(o)&&!l&&Uu(t,o))?r=r.filter(d=>d!==o):s=a,o=xn(o)}return e.set(t,r),r}function K0(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Mo(e)?[]:X0(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const g=al(e,d,s);return c.top=we(g.top,c.top),c.right=wn(g.right,c.right),c.bottom=wn(g.bottom,c.bottom),c.left=we(g.left,c.left),c},al(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J0(t){const{width:e,height:n}=Gu(t);return{width:e,height:n}}function Q0(t,e,n){const r=We(e),s=je(e),i=n==="fixed",o=On(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Be(0);if(r||!r&&!i)if((gr(e)!=="body"||Wi(s))&&(a=No(e)),r){const f=On(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&(l.x=oa(s));const c=s&&!r&&!i?Vu(s,a):Be(0),d=o.left+a.scrollLeft-l.x-c.x,g=o.top+a.scrollTop-l.y-c.y;return{x:d,y:g,width:o.width,height:o.height}}function Zo(t){return Oe(t).position==="static"}function ll(t,e){if(!We(t)||Oe(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return je(t)===n&&(n=n.ownerDocument.body),n}function zu(t,e){const n=Se(t);if(Mo(t))return n;if(!We(t)){let s=xn(t);for(;s&&!rr(s);){if(Re(s)&&!Zo(s))return s;s=xn(s)}return n}let r=ll(t,e);for(;r&&B0(r)&&Zo(r);)r=ll(r,e);return r&&rr(r)&&Zo(r)&&!na(r)?n:r||V0(t)||n}const Z0=async function(t){const e=this.getOffsetParent||zu,n=this.getDimensions,r=await n(t.floating);return{reference:Q0(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $0(t){return Oe(t).direction==="rtl"}const tg={convertOffsetParentRelativeRectToViewportRelativeRect:W0,getDocumentElement:je,getClippingRect:K0,getOffsetParent:zu,getElementRects:Z0,getClientRects:j0,getDimensions:J0,getScale:Qn,isElement:Re,isRTL:$0};function eg(t,e){let n=null,r;const s=je(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:g,height:f}=t.getBoundingClientRect();if(a||e(),!g||!f)return;const h=Ji(d),u=Ji(s.clientWidth-(c+g)),m=Ji(s.clientHeight-(d+f)),b=Ji(c),p={rootMargin:-h+"px "+-u+"px "+-m+"px "+-b+"px",threshold:we(0,wn(1,l))||1};let v=!0;function w(S){const E=S[0].intersectionRatio;if(E!==l){if(!v)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(w,{...p,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,p)}n.observe(t)}return o(!0),i}function ng(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ia(t),d=s||i?[...c?Ti(c):[],...Ti(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const g=c&&a?eg(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(_=>{let[p]=_;p&&p.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let u,m=l?On(t):null;l&&b();function b(){const _=On(t);m&&(_.x!==m.x||_.y!==m.y||_.width!==m.width||_.height!==m.height)&&n(),m=_,u=requestAnimationFrame(b)}return n(),()=>{var _;d.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),g==null||g(),(_=h)==null||_.disconnect(),h=null,l&&cancelAnimationFrame(u)}}const rg=I0,ig=D0,og=N0,sg=G0,ag=M0,lg=(t,e,n)=>{const r=new Map,s={platform:tg,...n},i={...s.platform,_c:r};return F0(t,e,{...s,platform:i})},cg={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},ug={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function dg(t,e,n={}){if(!e||!t||n===null)return{destroy:re};const r={...cg,...n},s=e.querySelector("[data-arrow=true]"),i=[];r.flip&&i.push(og({boundary:r.boundary,padding:r.overflowPadding}));const o=Xt(s)?s.offsetHeight/2:0;if(r.gutter||r.offset){const l=r.gutter?{mainAxis:r.gutter}:r.offset;(l==null?void 0:l.mainAxis)!=null&&(l.mainAxis+=o),i.push(rg(l))}i.push(ig({boundary:r.boundary,crossAxis:r.overlap,padding:r.overflowPadding})),s&&i.push(ag({element:s,padding:8})),i.push(sg({padding:r.overflowPadding,apply({rects:l,availableHeight:c,availableWidth:d}){r.sameWidth&&Object.assign(e.style,{width:`${Math.round(l.reference.width)}px`,minWidth:"unset"}),r.fitViewport&&Object.assign(e.style,{maxWidth:`${d}px`,maxHeight:`${c}px`})}}));function a(){if(!t||!e||Xt(t)&&!t.ownerDocument.documentElement.contains(t))return;const{placement:l,strategy:c}=r;lg(t,e,{placement:l,middleware:i,strategy:c}).then(d=>{const g=Math.round(d.x),f=Math.round(d.y),[h,u]=fg(d.placement);if(e.setAttribute("data-side",h),e.setAttribute("data-align",u),Object.assign(e.style,{position:r.strategy,top:`${f}px`,left:`${g}px`}),Xt(s)&&d.middlewareData.arrow){const{x:m,y:b}=d.middlewareData.arrow,_=d.placement.split("-")[0];s.setAttribute("data-side",_),Object.assign(s.style,{position:"absolute",left:m!=null?`${m}px`:"",top:b!=null?`${b}px`:"",[_]:`calc(100% - ${o}px)`,transform:ug[_],backgroundColor:"inherit",zIndex:"inherit"})}return d})}return Object.assign(e.style,{position:r.strategy}),{destroy:ng(t,e,a)}}function fg(t){const[e,n="center"]=t.split("-");return[e,n]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Wu=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mo=Wu.join(","),ju=typeof Element>"u",Fn=ju?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,vo=!ju&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},bo=function t(e,n){var r;n===void 0&&(n=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=s===""||s==="true",o=i||n&&e&&t(e.parentNode);return o},hg=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Hu=function(e,n,r){if(bo(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(mo));return n&&Fn.call(e,mo)&&s.unshift(e),s=s.filter(r),s},qu=function t(e,n,r){for(var s=[],i=Array.from(e);i.length;){var o=i.shift();if(!bo(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=t(l,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:o,candidates:c})}else{var d=Fn.call(o,mo);d&&r.filter(o)&&(n||!e.includes(o))&&s.push(o);var g=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),f=!bo(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(g&&f){var h=t(g===!0?o.children:g.children,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:o,candidates:h})}else i.unshift.apply(i,o.children)}}return s},Yu=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},An=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||hg(e))&&!Yu(e)?0:e.tabIndex},gg=function(e,n){var r=An(e);return r<0&&n&&!Yu(e)?0:r},pg=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Xu=function(e){return e.tagName==="INPUT"},mg=function(e){return Xu(e)&&e.type==="hidden"},vg=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},bg=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},yg=function(e){if(!e.name)return!0;var n=e.form||vo(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=bg(s,e.form);return!i||i===e},_g=function(e){return Xu(e)&&e.type==="radio"},wg=function(e){return _g(e)&&!yg(e)},Sg=function(e){var n,r=e&&vo(e),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var o,a,l;for(i=!!((o=s)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&s;){var c,d,g;r=vo(s),s=(c=r)===null||c===void 0?void 0:c.host,i=!!((d=s)!==null&&d!==void 0&&(g=d.ownerDocument)!==null&&g!==void 0&&g.contains(s))}}return i},cl=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},xg=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Fn.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(Fn.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var l=e.parentElement,c=vo(e);if(l&&!l.shadowRoot&&s(l)===!0)return cl(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(Sg(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return cl(e);return!1},Cg=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Fn.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},yo=function(e,n){return!(n.disabled||bo(n)||mg(n)||xg(n,e)||vg(n)||Cg(n))},Ts=function(e,n){return!(wg(n)||An(n)<0||!yo(e,n))},Ag=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Eg=function t(e){var n=[],r=[];return e.forEach(function(s,i){var o=!!s.scopeParent,a=o?s.scopeParent:s,l=gg(a,o),c=o?t(s.candidates):a;l===0?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:c})}),r.sort(pg).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},kg=function(e,n){n=n||{};var r;return n.getShadowRoot?r=qu([e],n.includeContainer,{filter:Ts.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Ag}):r=Hu(e,n.includeContainer,Ts.bind(null,n)),Eg(r)},Tg=function(e,n){n=n||{};var r;return n.getShadowRoot?r=qu([e],n.includeContainer,{filter:yo.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Hu(e,n.includeContainer,yo.bind(null,n)),r},Un=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,mo)===!1?!1:Ts(n,e)},Pg=Wu.concat("iframe").join(","),$o=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Fn.call(e,Pg)===!1?!1:yo(n,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ps(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Rg(t){if(Array.isArray(t))return Ps(t)}function Og(t,e,n){return(e=Ig(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fg(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ul(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ul(Object(n),!0).forEach(function(r){Og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ng(t){return Rg(t)||Fg(t)||Dg(t)||Mg()}function Lg(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ig(t){var e=Lg(t,"string");return typeof e=="symbol"?e:e+""}function Dg(t,e){if(t){if(typeof t=="string")return Ps(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ps(t,e):void 0}}var fl={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var s=e.indexOf(n);s===-1||e.splice(s,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Gg=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Bg=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},bi=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Vg=function(e){return bi(e)&&!e.shiftKey},Ug=function(e){return bi(e)&&e.shiftKey},hl=function(e){return setTimeout(e,0)},_r=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},Qi=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},zg=[],Wg=function(e,n){var r=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||zg,i=dl({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Vg,isKeyBackward:Ug},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(y,x,C){return y&&y[x]!==void 0?y[x]:i[C||x]},c=function(y,x){var C=typeof(x==null?void 0:x.composedPath)=="function"?x.composedPath():void 0;return o.containerGroups.findIndex(function(R){var O=R.container,G=R.tabbableNodes;return O.contains(y)||(C==null?void 0:C.includes(O))||G.find(function(I){return I===y})})},d=function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=x.hasFallback,R=C===void 0?!1:C,O=x.params,G=O===void 0?[]:O,I=i[y];if(typeof I=="function"&&(I=I.apply(void 0,Ng(G))),I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(y,"` was specified but was not a node, or did not return a node"))}var W=I;if(typeof I=="string"){try{W=r.querySelector(I)}catch(M){throw new Error("`".concat(y,'` appears to be an invalid selector; error="').concat(M.message,'"'))}if(!W&&!R)throw new Error("`".concat(y,"` as selector refers to no known node"))}return W},g=function(){var y=d("initialFocus",{hasFallback:!0});if(y===!1)return!1;if(y===void 0||y&&!$o(y,i.tabbableOptions))if(c(r.activeElement)>=0)y=r.activeElement;else{var x=o.tabbableGroups[0],C=x&&x.firstTabbableNode;y=C||d("fallbackFocus")}else y===null&&(y=d("fallbackFocus"));if(!y)throw new Error("Your focus-trap needs to have at least one focusable element");return y},f=function(){if(o.containerGroups=o.containers.map(function(y){var x=kg(y,i.tabbableOptions),C=Tg(y,i.tabbableOptions),R=x.length>0?x[0]:void 0,O=x.length>0?x[x.length-1]:void 0,G=C.find(function(M){return Un(M)}),I=C.slice().reverse().find(function(M){return Un(M)}),W=!!x.find(function(M){return An(M)>0});return{container:y,tabbableNodes:x,focusableNodes:C,posTabIndexesFound:W,firstTabbableNode:R,lastTabbableNode:O,firstDomTabbableNode:G,lastDomTabbableNode:I,nextTabbableNode:function(D){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=x.indexOf(D);return j<0?z?C.slice(C.indexOf(D)+1).find(function(X){return Un(X)}):C.slice(0,C.indexOf(D)).reverse().find(function(X){return Un(X)}):x[j+(z?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(y){return y.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(y){return y.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function(y){var x=y.activeElement;if(x)return x.shadowRoot&&x.shadowRoot.activeElement!==null?h(x.shadowRoot):x},u=function(y){if(y!==!1&&y!==h(document)){if(!y||!y.focus){u(g());return}y.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=y,Gg(y)&&y.select()}},m=function(y){var x=d("setReturnFocus",{params:[y]});return x||(x===!1?!1:y)},b=function(y){var x=y.target,C=y.event,R=y.isBackward,O=R===void 0?!1:R;x=x||Qi(C),f();var G=null;if(o.tabbableGroups.length>0){var I=c(x,C),W=I>=0?o.containerGroups[I]:void 0;if(I<0)O?G=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:G=o.tabbableGroups[0].firstTabbableNode;else if(O){var M=o.tabbableGroups.findIndex(function(L){var B=L.firstTabbableNode;return x===B});if(M<0&&(W.container===x||$o(x,i.tabbableOptions)&&!Un(x,i.tabbableOptions)&&!W.nextTabbableNode(x,!1))&&(M=I),M>=0){var D=M===0?o.tabbableGroups.length-1:M-1,z=o.tabbableGroups[D];G=An(x)>=0?z.lastTabbableNode:z.lastDomTabbableNode}else bi(C)||(G=W.nextTabbableNode(x,!1))}else{var j=o.tabbableGroups.findIndex(function(L){var B=L.lastTabbableNode;return x===B});if(j<0&&(W.container===x||$o(x,i.tabbableOptions)&&!Un(x,i.tabbableOptions)&&!W.nextTabbableNode(x))&&(j=I),j>=0){var X=j===o.tabbableGroups.length-1?0:j+1,J=o.tabbableGroups[X];G=An(x)>=0?J.firstTabbableNode:J.firstDomTabbableNode}else bi(C)||(G=W.nextTabbableNode(x))}}else G=d("fallbackFocus");return G},_=function(y){var x=Qi(y);if(!(c(x,y)>=0)){if(_r(i.clickOutsideDeactivates,y)){a.deactivate({returnFocus:i.returnFocusOnDeactivate});return}_r(i.allowOutsideClick,y)||y.preventDefault()}},p=function(y){var x=Qi(y),C=c(x,y)>=0;if(C||x instanceof Document)C&&(o.mostRecentlyFocusedNode=x);else{y.stopImmediatePropagation();var R,O=!0;if(o.mostRecentlyFocusedNode)if(An(o.mostRecentlyFocusedNode)>0){var G=c(o.mostRecentlyFocusedNode),I=o.containerGroups[G].tabbableNodes;if(I.length>0){var W=I.findIndex(function(M){return M===o.mostRecentlyFocusedNode});W>=0&&(i.isKeyForward(o.recentNavEvent)?W+1<I.length&&(R=I[W+1],O=!1):W-1>=0&&(R=I[W-1],O=!1))}}else o.containerGroups.some(function(M){return M.tabbableNodes.some(function(D){return An(D)>0})})||(O=!1);else O=!1;O&&(R=b({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),u(R||o.mostRecentlyFocusedNode||g())}o.recentNavEvent=void 0},v=function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=y;var C=b({event:y,isBackward:x});C&&(bi(y)&&y.preventDefault(),u(C))},w=function(y){(i.isKeyForward(y)||i.isKeyBackward(y))&&v(y,i.isKeyBackward(y))},S=function(y){Bg(y)&&_r(i.escapeDeactivates,y)!==!1&&(y.preventDefault(),a.deactivate())},E=function(y){var x=Qi(y);c(x,y)>=0||_r(i.clickOutsideDeactivates,y)||_r(i.allowOutsideClick,y)||(y.preventDefault(),y.stopImmediatePropagation())},F=function(){if(o.active)return fl.activateTrap(s,a),o.delayInitialFocusTimer=i.delayInitialFocus?hl(function(){u(g())}):u(g()),r.addEventListener("focusin",p,!0),r.addEventListener("mousedown",_,{capture:!0,passive:!1}),r.addEventListener("touchstart",_,{capture:!0,passive:!1}),r.addEventListener("click",E,{capture:!0,passive:!1}),r.addEventListener("keydown",w,{capture:!0,passive:!1}),r.addEventListener("keydown",S),a},k=function(){if(o.active)return r.removeEventListener("focusin",p,!0),r.removeEventListener("mousedown",_,!0),r.removeEventListener("touchstart",_,!0),r.removeEventListener("click",E,!0),r.removeEventListener("keydown",w,!0),r.removeEventListener("keydown",S),a},N=function(y){var x=y.some(function(C){var R=Array.from(C.removedNodes);return R.some(function(O){return O===o.mostRecentlyFocusedNode})});x&&u(g())},A=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(N):void 0,T=function(){A&&(A.disconnect(),o.active&&!o.paused&&o.containers.map(function(y){A.observe(y,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(y){if(o.active)return this;var x=l(y,"onActivate"),C=l(y,"onPostActivate"),R=l(y,"checkCanFocusTrap");R||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,x==null||x();var O=function(){R&&f(),F(),T(),C==null||C()};return R?(R(o.containers.concat()).then(O,O),this):(O(),this)},deactivate:function(y){if(!o.active)return this;var x=dl({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},y);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,k(),o.active=!1,o.paused=!1,T(),fl.deactivateTrap(s,a);var C=l(x,"onDeactivate"),R=l(x,"onPostDeactivate"),O=l(x,"checkCanReturnFocus"),G=l(x,"returnFocus","returnFocusOnDeactivate");C==null||C();var I=function(){hl(function(){G&&u(m(o.nodeFocusedBeforeActivation)),R==null||R()})};return G&&O?(O(m(o.nodeFocusedBeforeActivation)).then(I,I),this):(I(),this)},pause:function(y){if(o.paused||!o.active)return this;var x=l(y,"onPause"),C=l(y,"onPostPause");return o.paused=!0,x==null||x(),k(),T(),C==null||C(),this},unpause:function(y){if(!o.paused||!o.active)return this;var x=l(y,"onUnpause"),C=l(y,"onPostUnpause");return o.paused=!1,x==null||x(),f(),F(),T(),C==null||C(),this},updateContainerElements:function(y){var x=[].concat(y).filter(Boolean);return o.containers=x.map(function(C){return typeof C=="string"?r.querySelector(C):C}),o.active&&f(),T(),this}},a.updateContainerElements(e),a};function jg(t={}){let e;const{immediate:n,...r}=t,s=zt(!1),i=zt(!1),o=g=>e==null?void 0:e.activate(g),a=g=>{e==null||e.deactivate(g)},l=()=>{e&&(e.pause(),i.set(!0))},c=()=>{e&&(e.unpause(),i.set(!1))};return{useFocusTrap:g=>(e=Wg(g,{...r,onActivate(){var f;s.set(!0),(f=t.onActivate)==null||f.call(t)},onDeactivate(){var f;s.set(!1),(f=t.onDeactivate)==null||f.call(t)}}),n&&o(),{destroy(){a(),e=void 0}}),hasFocus:ws(s),isPaused:ws(i),activate:o,deactivate:a,pause:l,unpause:c}}const Zi=[],Hg=(t,e)=>{let n=re;function r(){const i=Zi.indexOf(t);i>=0&&Zi.splice(i,1)}function s(i){n();const{open:o,onClose:a,shouldCloseOnInteractOutside:l,closeOnInteractOutside:c}=i;Pu(100).then(()=>{o?Zi.push(t):r()});function d(){return ro(Zi)===t}function g(){d()&&a&&(a(),r())}function f(u){const m=u.target;zi(m)&&m&&d()&&(u.preventDefault(),u.stopPropagation(),u.stopImmediatePropagation())}function h(u){l!=null&&l(u)&&d()&&(u.preventDefault(),u.stopPropagation(),u.stopImmediatePropagation(),g())}n=Kg(t,{onInteractOutsideStart:f,onInteractOutside:c?h:void 0,enabled:o}).destroy}return s(e),{update:s,destroy(){r(),n()}}},qg={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},Yg=(t,e)=>{t.dataset.escapee="";const{anchorElement:n,open:r,options:s}=e;if(!n||!r||!s)return{destroy:re};const i={...qg,...s},o=[];if(i.portal!==null&&o.push(Xg(t,i.portal).destroy),o.push(dg(n,t,i.floating).destroy),i.focusTrap!==null){const{useFocusTrap:l}=jg({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:t,...i.focusTrap});o.push(l(t).destroy)}i.modal!==null&&o.push(Hg(t,{onClose:()=>{Xt(n)&&(r.set(!1),n.focus())},shouldCloseOnInteractOutside:l=>!(l.defaultPrevented||Xt(n)&&n.contains(l.target)),...i.modal}).destroy),i.escapeKeydown!==null&&o.push(Mu(t,{enabled:r,handler:()=>{r.set(!1)},...i.escapeKeydown}).destroy);const a=fn(...o);return{destroy(){a()}}},Xg=(t,e="body")=>{let n;if(!Xt(e)&&typeof e!="string")return{destroy:re};async function r(i){if(e=i,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await no(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function s(){t.remove()}return r(e),{update:r,destroy:s}},Kg=(t,e)=>{let n=re,r=re,s=!1,i=!1,o=!1;function a(d){n(),r();const{onInteractOutside:g,onInteractOutsideStart:f,enabled:h}=d;if(!h)return;function u(_){g&&gl(_,t)&&(f==null||f(_));const p=_.target;zi(p)&&Ku(t,p)&&(i=!0),s=!0}function m(_){g==null||g(_)}const b=Jg(t);if(typeof PointerEvent<"u"){const _=p=>{r();const v=w=>{l(w)&&m(w),c()};if(p.pointerType==="touch"){r=Qe(b,"click",v,{capture:!0,once:!0});return}v(p)};n=fn(Qe(b,"pointerdown",u,!0),Qe(b,"pointerup",_,!0))}else{const _=v=>{o?o=!1:l(v)&&m(v),c()},p=v=>{o=!0,l(v)&&m(v),c()};n=fn(Qe(b,"mousedown",u,!0),Qe(b,"mouseup",_,!0),Qe(b,"touchstart",u,!0),Qe(b,"touchend",p,!0))}}function l(d){return!!(s&&!i&&gl(d,t))}function c(){s=!1,i=!1}return a(e),{update:a,destroy(){n(),r()}}};function gl(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!zi(n))return!1;const r=n.ownerDocument;return!r||!r.documentElement.contains(n)?!1:e&&!Ku(e,n)}function Ku(t,e){return t===e||t.contains(e)}function Jg(t){return(t==null?void 0:t.ownerDocument)??document}function Qg(t){const e={};return Object.keys(t).forEach(n=>{const r=n,s=t[r];Tu(s)?e[r]=en(s):e[r]=en(mn(s))}),e}const Zg={prefix:"",disabled:mn(!1),required:mn(!1),name:mn(void 0)};function $g(t){const e={...Zg,...t0(t)},{name:n}=Eu(e.prefix),{value:r,name:s,disabled:i,required:o}=Qg(Zs(e,"prefix")),a=s;return Le(n("hidden-input"),{stores:[r,a,i,o],returned:([c,d,g,f])=>({name:d,value:c==null?void 0:c.toString(),"aria-hidden":"true",hidden:!0,disabled:g,required:f,tabIndex:-1,style:fo({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"})}),action:c=>({destroy:r.subscribe(g=>{c.value=g,c.dispatchEvent(new Event("change",{bubbles:!0}))})})})}function Ju(){return{elements:{root:Le("label",{action:e=>({destroy:jn(e,"mousedown",r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})})})}}}const t1=[ut.ARROW_LEFT,ut.ESCAPE,ut.ARROW_RIGHT,ut.SHIFT,ut.CAPS_LOCK,ut.CONTROL,ut.ALT,ut.META,ut.ENTER,ut.F1,ut.F2,ut.F3,ut.F4,ut.F5,ut.F6,ut.F7,ut.F8,ut.F9,ut.F10,ut.F11,ut.F12],e1={positioning:{placement:"bottom",sameWidth:!0},scrollAlignment:"nearest",loop:!0,defaultOpen:!1,closeOnOutsideClick:!0,preventScroll:!0,closeOnEscape:!0,forceVisible:!1,portal:void 0,builder:"listbox",disabled:!1,required:!1,name:void 0,typeahead:!0,highlightOnHover:!0,onOutsideClick:void 0},n1=["trigger","menu","label"];function r1(t){const e={...e1,...t},n=en(zt(null)),r=en(zt(null)),s=e.selected??zt(e.defaultSelected),i=nl(s,e==null?void 0:e.onSelectedChange),o=$t(r,V=>V?x(V):void 0),a=e.open??zt(e.defaultOpen),l=nl(a,e==null?void 0:e.onOpenChange),c=il({...Zs(e,"open","defaultOpen","builder","ids"),multiple:e.multiple??!1}),{scrollAlignment:d,loop:g,closeOnOutsideClick:f,closeOnEscape:h,preventScroll:u,portal:m,forceVisible:b,positioning:_,multiple:p,arrowSize:v,disabled:w,required:S,typeahead:E,name:F,highlightOnHover:k,onOutsideClick:N}=c,{name:A,selector:T}=Eu(e.builder),P=il({...r0(n1),...e.ids}),{handleTypeaheadSearch:y}=_0({onMatch:V=>{r.set(V),V.scrollIntoView({block:d.get()})},getCurrentItem(){return r.get()}});function x(V){const Y=V.getAttribute("data-value"),$=V.getAttribute("data-label"),et=V.hasAttribute("data-disabled");return{value:Y&&JSON.parse(Y),label:$??V.textContent??void 0,disabled:!!et}}const C=V=>{i.update(Y=>{if(p.get()){const et=Array.isArray(Y)?[...Y]:[];return zh(V,et,(ct,tt)=>ke(ct.value,tt.value))}return V})};function R(V){const Y=x(V);C(Y)}async function O(){l.set(!0);const V=document.getElementById(P.trigger.get());if(!V)return;V!==n.get()&&n.set(V),await no();const Y=document.getElementById(P.menu.get());if(!Xt(Y))return;const $=Y.querySelector("[aria-selected=true]");Xt($)&&r.set($)}function G(){l.set(!1),r.set(null)}const I=m0({open:l,forceVisible:b,activeTrigger:n}),W=$t([i],([V])=>Y=>Array.isArray(V)?V.some($=>ke($.value,Y)):ku(Y)?ke(V==null?void 0:V.value,$h(Y,void 0)):ke(V==null?void 0:V.value,Y)),M=$t([o],([V])=>Y=>ke(V==null?void 0:V.value,Y)),D=Le(A("trigger"),{stores:[l,r,w,P.menu,P.trigger,P.label],returned:([V,Y,$,et,ct,tt])=>({"aria-activedescendant":Y==null?void 0:Y.id,"aria-autocomplete":"list","aria-controls":et,"aria-expanded":V,"aria-labelledby":tt,id:ct,role:"combobox",disabled:Qa($),type:e.builder==="select"?"button":void 0}),action:V=>{const Y=Hh(V),$=fn(jn(V,"click",()=>{V.focus(),l.get()?G():O()}),jn(V,"keydown",tt=>{if(!l.get()){if(t1.includes(tt.key)||tt.key===ut.TAB||tt.key===ut.BACKSPACE&&Y&&V.value===""||tt.key===ut.SPACE&&tl(V))return;O(),no().then(()=>{if(i.get())return;const Tt=document.getElementById(P.menu.get());if(!Xt(Tt))return;const ht=Array.from(Tt.querySelectorAll(`${T("item")}:not([data-disabled]):not([data-hidden])`)).filter(wt=>Xt(wt));ht.length&&(tt.key===ut.ARROW_DOWN?(r.set(ht[0]),ht[0].scrollIntoView({block:d.get()})):tt.key===ut.ARROW_UP&&(r.set(ro(ht)),ro(ht).scrollIntoView({block:d.get()})))})}if(tt.key===ut.TAB){G();return}if(tt.key===ut.ENTER&&!tt.isComposing||tt.key===ut.SPACE&&tl(V)){tt.preventDefault();const Ct=r.get();Ct&&R(Ct),p.get()||G()}if(tt.key===ut.ARROW_UP&&tt.altKey&&G(),s0.includes(tt.key)){tt.preventDefault();const Ct=document.getElementById(P.menu.get());if(!Xt(Ct))return;const Tt=Jo(Ct);if(!Tt.length)return;const ht=Tt.filter(Et=>!el(Et)&&Et.dataset.hidden===void 0),wt=r.get(),lt=wt?ht.indexOf(wt):-1,Yt=g.get(),Jt=d.get();let Pt;switch(tt.key){case ut.ARROW_DOWN:Pt=Bh(ht,lt,Yt);break;case ut.ARROW_UP:Pt=Vh(ht,lt,Yt);break;case ut.PAGE_DOWN:Pt=Gh(ht,lt,10,Yt);break;case ut.PAGE_UP:Pt=Dh(ht,lt,10,Yt);break;case ut.HOME:Pt=ht[0];break;case ut.END:Pt=ro(ht);break;default:return}r.set(Pt),Pt==null||Pt.scrollIntoView({block:Jt})}else if(E.get()){const Ct=document.getElementById(P.menu.get());if(!Xt(Ct))return;y(tt.key,Jo(Ct))}}));let et=re;const ct=Mu(V,{handler:G,enabled:$t([l,h],([tt,st])=>tt&&st)});return ct&&ct.destroy&&(et=ct.destroy),{destroy(){$(),et()}}}}),z=Le(A("menu"),{stores:[I,P.menu],returned:([V,Y])=>({hidden:V?void 0:!0,id:Y,role:"listbox",style:fo({display:V?void 0:"none"})}),action:V=>{let Y=re;const $=fn(gi([I,m,f,_,n],([et,ct,tt,st,Ct])=>{Y(),!(!et||!Ct)&&no().then(()=>{Y();const Tt=x0(P.trigger.get());Y=Yg(V,{anchorElement:Ct,open:l,options:{floating:st,focusTrap:null,modal:{closeOnInteractOutside:tt,onClose:G,open:et,shouldCloseOnInteractOutside:ht=>{var lt;if((lt=N.get())==null||lt(ht),ht.defaultPrevented)return!1;const wt=ht.target;return!(!zi(wt)||wt===Ct||Ct.contains(wt)||Tt(ht))}},escapeKeydown:null,portal:S0(V,ct)}}).destroy})}));return{destroy:()=>{$(),Y()}}}}),{elements:{root:j}}=Ju(),{action:X}=_n(j),J=Le(A("label"),{stores:[P.label,P.trigger],returned:([V,Y])=>({id:V,for:Y}),action:X}),L=Le(A("option"),{stores:[W],returned:([V])=>Y=>{const $=V(Y.value);return{"data-value":JSON.stringify(Y.value),"data-label":Y.label,"data-disabled":Qa(Y.disabled),"aria-disabled":Y.disabled?!0:void 0,"aria-selected":$,"data-selected":$?"":void 0,id:Ru(),role:"option"}},action:V=>({destroy:fn(jn(V,"click",$=>{if(el(V)){$.preventDefault();return}R(V),p.get()||G()}),gi(k,$=>$?fn(jn(V,"mouseover",()=>{r.set(V)}),jn(V,"mouseleave",()=>{r.set(null)})):void 0))})}),B=Le(A("group"),{returned:()=>V=>({role:"group","aria-labelledby":V})}),H=Le(A("group-label"),{returned:()=>V=>({id:V})}),Q=$g({value:$t([i],([V])=>{const Y=Array.isArray(V)?V.map($=>$.value):V==null?void 0:V.value;return typeof Y=="string"?Y:JSON.stringify(Y)}),name:ws(F),required:S,prefix:e.builder}),Z=Le(A("arrow"),{stores:v,returned:V=>({"data-arrow":!0,style:fo({position:"absolute",width:`var(--arrow-size, ${V}px)`,height:`var(--arrow-size, ${V}px)`})})});return Qh(()=>{if(!vi)return;const V=document.getElementById(P.menu.get()),Y=document.getElementById(P.trigger.get());if(Y&&n.set(Y),!V)return;const $=V.querySelector("[data-selected]");Xt($)}),gi([r],([V])=>{if(!vi)return;const Y=document.getElementById(P.menu.get());Xt(Y)&&Jo(Y).forEach($=>{$===V?Kh($):Jh($)})}),gi([l],([V])=>{if(!vi)return;let Y=re;return u.get()&&V&&(Y=p0()),()=>{Y()}}),{ids:P,elements:{trigger:D,group:B,option:L,menu:z,groupLabel:H,label:J,hiddenInput:Q,arrow:Z},states:{open:l,selected:i,highlighted:o,highlightedItem:r},helpers:{isSelected:W,isHighlighted:M,closeMenu:G},options:c}}const i1={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Zs(i1,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});function o1(t){const e=r1({...t,builder:"select"}),n=$t(e.states.selected,r=>Array.isArray(r)?r.map(s=>s.label).join(", "):(r==null?void 0:r.label)??"");return{...e,elements:{...e.elements},states:{...e.states,selectedLabel:n}}}function Qu(t,e){const n={};return e.forEach(r=>{n[r]={[`data-${t}-${r}`]:""}}),r=>n[r]}function Lo(){const t=gh();return e=>{const{originalEvent:n}=e.detail,{cancelable:r}=e,s=n.type;t(s,{originalEvent:n,currentTarget:n.currentTarget},{cancelable:r})||e.preventDefault()}}function s1(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=r)}return e}function a1(t){return function(e,n){if(n===void 0)return;const r=t[e];r&&r.set(n)}}function l1(t,e){return t.length!==e.length?!1:t.every((n,r)=>n===e[r])}function ts(t,e){const n=[];return e.builders.forEach(r=>{const s=r.action(t);s&&n.push(s)}),{destroy:()=>{n.forEach(r=>{r.destroy&&r.destroy()})}}}function c1(t){const e={};return t.forEach(n=>{Object.keys(n).forEach(r=>{r!=="action"&&(e[r]=n[r])})}),e}function u1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["href","type","builders","el"]);mt(e,!1);let s=q(e,"href",24,()=>{}),i=q(e,"type",24,()=>{}),o=q(e,"builders",24,()=>[]),a=q(e,"el",28,()=>{});const l={"data-button-root":""};te();var c=it(),d=nt(c);{var g=h=>{var u=it(),m=nt(u);const b=bn(()=>c1(o()));bs(m,()=>s()?"a":"button",!1,(_,p)=>{me(_,E=>a(E),()=>a()),Ie(_,(E,F)=>ts==null?void 0:ts(E,F),()=>({builders:o()}));let v;Ot(()=>v=ne(_,v,{type:s()?void 0:i(),href:s(),tabindex:"0",...U(b),...r,...l},void 0,_.namespaceURI===ao,_.nodeName.includes("-"))),ot("click",_,function(E){rt.call(this,e,E)}),ot("change",_,function(E){rt.call(this,e,E)}),ot("keydown",_,function(E){rt.call(this,e,E)}),ot("keyup",_,function(E){rt.call(this,e,E)}),ot("mouseenter",_,function(E){rt.call(this,e,E)}),ot("mouseleave",_,function(E){rt.call(this,e,E)}),ot("mousedown",_,function(E){rt.call(this,e,E)}),ot("pointerdown",_,function(E){rt.call(this,e,E)}),ot("mouseup",_,function(E){rt.call(this,e,E)}),ot("pointerup",_,function(E){rt.call(this,e,E)});var w=it(),S=nt(w);It(S,e,"default",{},null),K(p,w)}),K(h,u)},f=h=>{var u=it(),m=nt(u);bs(m,()=>s()?"a":"button",!1,(b,_)=>{me(b,S=>a(S),()=>a());let p;Ot(()=>p=ne(b,p,{type:s()?void 0:i(),href:s(),tabindex:"0",...r,...l},void 0,b.namespaceURI===ao,b.nodeName.includes("-"))),ot("click",b,function(S){rt.call(this,e,S)}),ot("change",b,function(S){rt.call(this,e,S)}),ot("keydown",b,function(S){rt.call(this,e,S)}),ot("keyup",b,function(S){rt.call(this,e,S)}),ot("mouseenter",b,function(S){rt.call(this,e,S)}),ot("mouseleave",b,function(S){rt.call(this,e,S)}),ot("mousedown",b,function(S){rt.call(this,e,S)}),ot("pointerdown",b,function(S){rt.call(this,e,S)}),ot("mouseup",b,function(S){rt.call(this,e,S)}),ot("pointerup",b,function(S){rt.call(this,e,S)});var v=it(),w=nt(v);It(w,e,"default",{},null),K(_,v)}),K(h,u)};Lt(d,h=>{o()&&o().length?h(g):h(f,!1)})}K(t,c),vt()}function d1(t){return(e={})=>f1(t,e)}function f1(t,e){const r={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(s=>({...s,placement:h1(r.side,r.align),offset:{...s.offset,mainAxis:r.sideOffset,crossAxis:r.alignOffset},gutter:0,sameWidth:r.sameWidth,flip:r.avoidCollisions,overflowPadding:r.collisionPadding,boundary:r.collisionBoundary,fitViewport:r.fitViewport,strategy:r.strategy,overlap:r.overlap}))}function h1(t,e){return e==="center"?t:`${t}-${e}`}function g1(){const t="label",n=Qu(t,["root"]);return{NAME:t,getAttrs:n}}var p1=At("<label><!></label>");function m1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["asChild","el"]);mt(e,!1);const s=Qt(),i=()=>Ft(c,"$root",s),o=tr();let a=q(e,"asChild",8,!1),l=q(e,"el",28,()=>{});const{elements:{root:c}}=Ju(),d=Lo(),{getAttrs:g}=g1(),f=g("root");Mt(()=>i(),()=>{Rt(o,i())}),Mt(()=>U(o),()=>{Object.assign(U(o),f)}),In(),te();var h=it(),u=nt(h);{var m=_=>{var p=it(),v=nt(p);It(v,e,"default",{get builder(){return U(o)}},null),K(_,p)},b=_=>{var p=p1();let v;var w=Dt(p);It(w,e,"default",{get builder(){return U(o)}},null),me(p,S=>l(S),()=>l()),Ie(p,S=>{var E,F;return(F=(E=U(o)).action)==null?void 0:F.call(E,S)}),Bt(()=>ot("m-mousedown",p,d)),Ot(()=>v=ne(p,v,{...U(o),...r})),K(_,p)};Lt(u,_=>{a()?_(m):_(b,!1)})}K(t,h),vt()}function Io(){return{NAME:"select",GROUP_NAME:"select-group",ITEM_NAME:"select-item",PARTS:["arrow","content","group","item","indicator","input","label","trigger","value"]}}function pr(){const{NAME:t}=Io();return Vi(t)}function v1(t){const{NAME:e,PARTS:n}=Io(),r=Qu(e,n),s={...o1({...s1(t),forceVisible:!0}),getAttrs:r};return Ei(e,s),{...s,updateOption:a1(s.options)}}function b1(t){const{ITEM_NAME:e}=Io(),n=pr();return Ei(e,t),n}function y1(){const{ITEM_NAME:t}=Io(),{helpers:{isSelected:e},getAttrs:n}=pr();return{value:Vi(t),isSelected:e,getAttrs:n}}function _1(t){const n={...{side:"bottom",align:"center",sameWidth:!0},...t},{options:{positioning:r}}=pr();d1(r)(n)}function w1(t,e){mt(e,!1);const n=Qt(),r=()=>Ft(k,"$idValues",n);let s=q(e,"required",24,()=>{}),i=q(e,"disabled",24,()=>{}),o=q(e,"preventScroll",24,()=>{}),a=q(e,"loop",24,()=>{}),l=q(e,"closeOnEscape",24,()=>{}),c=q(e,"closeOnOutsideClick",24,()=>{}),d=q(e,"portal",24,()=>{}),g=q(e,"name",24,()=>{}),f=q(e,"multiple",8,!1),h=q(e,"selected",28,()=>{}),u=q(e,"onSelectedChange",24,()=>{}),m=q(e,"open",28,()=>{}),b=q(e,"onOpenChange",24,()=>{}),_=q(e,"items",24,()=>[]),p=q(e,"onOutsideClick",24,()=>{}),v=q(e,"typeahead",24,()=>{});const{states:{open:w,selected:S},updateOption:E,ids:F}=v1({required:s(),disabled:i(),preventScroll:o(),loop:a(),closeOnEscape:l(),closeOnOutsideClick:c(),portal:d(),name:g(),onOutsideClick:p(),multiple:f(),forceVisible:!0,defaultSelected:Array.isArray(h())?[...h()]:h(),defaultOpen:m(),onSelectedChange:({next:T})=>{var P,y;return Array.isArray(T)?((!Array.isArray(h())||!l1(h(),T))&&((P=u())==null||P(T),h(T)),T):(h()!==T&&((y=u())==null||y(T),h(T)),T)},onOpenChange:({next:T})=>{var P;return m()!==T&&((P=b())==null||P(T),m(T)),T},items:_(),typeahead:v()}),k=$t([F.menu,F.trigger,F.label],([T,P,y])=>({menu:T,trigger:P,label:y}));Mt(()=>St(m()),()=>{m()!==void 0&&w.set(m())}),Mt(()=>St(h()),()=>{h()!==void 0&&S.set(Array.isArray(h())?[...h()]:h())}),Mt(()=>St(s()),()=>{E("required",s())}),Mt(()=>St(i()),()=>{E("disabled",i())}),Mt(()=>St(o()),()=>{E("preventScroll",o())}),Mt(()=>St(a()),()=>{E("loop",a())}),Mt(()=>St(l()),()=>{E("closeOnEscape",l())}),Mt(()=>St(c()),()=>{E("closeOnOutsideClick",c())}),Mt(()=>St(d()),()=>{E("portal",d())}),Mt(()=>St(g()),()=>{E("name",g())}),Mt(()=>St(f()),()=>{E("multiple",f())}),Mt(()=>St(p()),()=>{E("onOutsideClick",p())}),Mt(()=>St(v()),()=>{E("typeahead",v())}),In(),te();var N=it(),A=nt(N);It(A,e,"default",{get ids(){return r()}},null),K(t,N),vt()}var S1=At("<div><!></div>"),x1=At("<div><!></div>"),C1=At("<div><!></div>"),A1=At("<div><!></div>"),E1=At("<div><!></div>");function k1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"]);mt(e,!1);const s=Qt(),i=()=>Ft(P,"$menu",s),o=()=>Ft(y,"$open",s),a=tr();let l=q(e,"transition",24,()=>{}),c=q(e,"transitionConfig",24,()=>{}),d=q(e,"inTransition",24,()=>{}),g=q(e,"inTransitionConfig",24,()=>{}),f=q(e,"outTransition",24,()=>{}),h=q(e,"outTransitionConfig",24,()=>{}),u=q(e,"asChild",8,!1),m=q(e,"id",24,()=>{}),b=q(e,"side",8,"bottom"),_=q(e,"align",8,"center"),p=q(e,"sideOffset",8,0),v=q(e,"alignOffset",8,0),w=q(e,"collisionPadding",8,8),S=q(e,"avoidCollisions",8,!0),E=q(e,"collisionBoundary",24,()=>{}),F=q(e,"sameWidth",8,!0),k=q(e,"fitViewport",8,!1),N=q(e,"strategy",8,"absolute"),A=q(e,"overlap",8,!1),T=q(e,"el",28,()=>{});const{elements:{menu:P},states:{open:y},ids:x,getAttrs:C}=pr(),R=Lo(),O=C("content");Mt(()=>St(m()),()=>{m()&&x.menu.set(m())}),Mt(()=>i(),()=>{Rt(a,i())}),Mt(()=>U(a),()=>{Object.assign(U(a),O)}),Mt(()=>(o(),St(b()),St(_()),St(p()),St(v()),St(w()),St(S()),St(E()),St(F()),St(k()),St(N()),St(A())),()=>{o()&&_1({side:b(),align:_(),sideOffset:p(),alignOffset:v(),collisionPadding:w(),avoidCollisions:S(),collisionBoundary:E(),sameWidth:F(),fitViewport:k(),strategy:N(),overlap:A()})}),In(),te();var G=it(),I=nt(G);{var W=D=>{var z=it(),j=nt(z);It(j,e,"default",{get builder(){return U(a)}},null),K(D,z)},M=D=>{var z=it(),j=nt(z);{var X=L=>{var B=S1();let H;var Q=Dt(B);It(Q,e,"default",{get builder(){return U(a)}},null),me(B,Z=>T(Z),()=>T()),Ie(B,Z=>{var V,Y;return(Y=(V=U(a)).action)==null?void 0:Y.call(V,Z)}),Bt(()=>ot("m-pointerleave",B,R)),Bt(()=>ot("keydown",B,function(Z){rt.call(this,e,Z)})),Ot(()=>H=ne(B,H,{...U(a),...r})),yr(3,B,l,c),K(L,B)},J=L=>{var B=it(),H=nt(B);{var Q=V=>{var Y=x1();let $;var et=Dt(Y);It(et,e,"default",{get builder(){return U(a)}},null),me(Y,ct=>T(ct),()=>T()),Ie(Y,ct=>{var tt,st;return(st=(tt=U(a)).action)==null?void 0:st.call(tt,ct)}),Bt(()=>ot("m-pointerleave",Y,R)),Bt(()=>ot("keydown",Y,function(ct){rt.call(this,e,ct)})),Ot(()=>$=ne(Y,$,{...U(a),...r})),yr(1,Y,d,g),yr(2,Y,f,h),K(V,Y)},Z=V=>{var Y=it(),$=nt(Y);{var et=tt=>{var st=C1();let Ct;var Tt=Dt(st);It(Tt,e,"default",{get builder(){return U(a)}},null),me(st,ht=>T(ht),()=>T()),Ie(st,ht=>{var wt,lt;return(lt=(wt=U(a)).action)==null?void 0:lt.call(wt,ht)}),Bt(()=>ot("m-pointerleave",st,R)),Bt(()=>ot("keydown",st,function(ht){rt.call(this,e,ht)})),Ot(()=>Ct=ne(st,Ct,{...U(a),...r})),yr(1,st,d,g),K(tt,st)},ct=tt=>{var st=it(),Ct=nt(st);{var Tt=wt=>{var lt=A1();let Yt;var Jt=Dt(lt);It(Jt,e,"default",{get builder(){return U(a)}},null),me(lt,Pt=>T(Pt),()=>T()),Ie(lt,Pt=>{var Et,ee;return(ee=(Et=U(a)).action)==null?void 0:ee.call(Et,Pt)}),Bt(()=>ot("m-pointerleave",lt,R)),Bt(()=>ot("keydown",lt,function(Pt){rt.call(this,e,Pt)})),Ot(()=>Yt=ne(lt,Yt,{...U(a),...r})),yr(2,lt,f,h),K(wt,lt)},ht=wt=>{var lt=it(),Yt=nt(lt);{var Jt=Pt=>{var Et=E1();let ee;var ce=Dt(Et);It(ce,e,"default",{get builder(){return U(a)}},null),me(Et,Ht=>T(Ht),()=>T()),Ie(Et,Ht=>{var ye,Gn;return(Gn=(ye=U(a)).action)==null?void 0:Gn.call(ye,Ht)}),Bt(()=>ot("m-pointerleave",Et,R)),Bt(()=>ot("keydown",Et,function(Ht){rt.call(this,e,Ht)})),Ot(()=>ee=ne(Et,ee,{...U(a),...r})),K(Pt,Et)};Lt(Yt,Pt=>{o()&&Pt(Jt)},!0)}K(wt,lt)};Lt(Ct,wt=>{f()&&o()?wt(Tt):wt(ht,!1)},!0)}K(tt,st)};Lt($,tt=>{d()&&o()?tt(et):tt(ct,!1)},!0)}K(V,Y)};Lt(H,V=>{d()&&f()&&o()?V(Q):V(Z,!1)},!0)}K(L,B)};Lt(j,L=>{l()&&o()?L(X):L(J,!1)},!0)}K(D,z)};Lt(I,D=>{u()&&o()?D(W):D(M,!1)})}K(t,G),vt()}var T1=At("<div><!></div>");function P1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["value","disabled","label","asChild","el"]);mt(e,!1);const s=Qt(),i=()=>Ft(u,"$item",s),o=()=>Ft(m,"$isSelectedStore",s),a=tr(),l=tr();let c=q(e,"value",8),d=q(e,"disabled",24,()=>{}),g=q(e,"label",24,()=>{}),f=q(e,"asChild",8,!1),h=q(e,"el",28,()=>{});const{elements:{option:u},helpers:{isSelected:m},getAttrs:b}=b1(c()),_=Lo(),p=b("item");Mt(()=>(i(),St(c()),St(d()),St(g())),()=>{Rt(a,i()({value:c(),disabled:d(),label:g()}))}),Mt(()=>U(a),()=>{Object.assign(U(a),p)}),Mt(()=>(o(),St(c())),()=>{Rt(l,o()(c()))}),In(),te();var v=it(),w=nt(v);{var S=F=>{var k=it(),N=nt(k);It(N,e,"default",{get builder(){return U(a)},get isSelected(){return U(l)}},null),K(F,k)},E=F=>{var k=T1();let N;var A=Dt(k);It(A,e,"default",{get builder(){return U(a)},get isSelected(){return U(l)}},T=>{var P=Pn();Ot(()=>tn(P,g()||c())),K(T,P)}),me(k,T=>h(T),()=>h()),Ie(k,T=>{var P,y;return(y=(P=U(a)).action)==null?void 0:y.call(P,T)}),Bt(()=>ot("m-click",k,_)),Bt(()=>ot("m-pointermove",k,_)),Bt(()=>ot("focusin",k,function(T){rt.call(this,e,T)})),Bt(()=>ot("keydown",k,function(T){rt.call(this,e,T)})),Bt(()=>ot("focusout",k,function(T){rt.call(this,e,T)})),Bt(()=>ot("pointerleave",k,function(T){rt.call(this,e,T)})),Ot(()=>N=ne(k,N,{...U(a),...r})),K(F,k)};Lt(w,F=>{f()?F(S):F(E,!1)})}K(t,v),vt()}var R1=At("<div><!></div>");function O1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["asChild","el"]);mt(e,!1);const s=Qt(),i=()=>Ft(l,"$isSelected",s);let o=q(e,"asChild",8,!1),a=q(e,"el",28,()=>{});const{isSelected:l,value:c,getAttrs:d}=y1(),g=d("indicator");te();var f=it(),h=nt(f);{var u=b=>{var _=it(),p=nt(_);It(p,e,"default",{attrs:g,get isSelected(){return i()(c)}},null),K(b,_)},m=b=>{var _=R1();let p;var v=Dt(_);{var w=S=>{var E=it(),F=nt(E);It(F,e,"default",{attrs:g,get isSelected(){return i()(c)}},null),K(S,E)};Lt(v,S=>{i()(c)&&S(w)})}me(_,S=>a(S),()=>a()),Ot(()=>p=ne(_,p,{...r,...g})),K(b,_)};Lt(h,b=>{o()?b(u):b(m,!1)})}K(t,f),vt()}var F1=At("<button><!></button>");function M1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["asChild","id","el"]);mt(e,!1);const s=Qt(),i=()=>Ft(d,"$trigger",s),o=tr();let a=q(e,"asChild",8,!1),l=q(e,"id",24,()=>{}),c=q(e,"el",28,()=>{});const{elements:{trigger:d},ids:g,getAttrs:f}=pr(),h=Lo(),u=f("trigger");Mt(()=>St(l()),()=>{l()&&g.trigger.set(l())}),Mt(()=>i(),()=>{Rt(o,i())}),Mt(()=>U(o),()=>{Object.assign(U(o),u)}),In(),te();var m=it(),b=nt(m);{var _=v=>{var w=it(),S=nt(w);It(S,e,"default",{get builder(){return U(o)}},null),K(v,w)},p=v=>{var w=F1();let S;var E=Dt(w);It(E,e,"default",{get builder(){return U(o)}},null),me(w,F=>c(F),()=>c()),Ie(w,F=>{var k,N;return(N=(k=U(o)).action)==null?void 0:N.call(k,F)}),Bt(()=>ot("m-click",w,h)),Bt(()=>ot("m-keydown",w,h)),Ot(()=>S=ne(w,S,{...U(o),type:"button",...r})),K(v,w)};Lt(b,v=>{a()?v(_):v(p,!1)})}K(t,m),vt()}var N1=At("<span> </span>");function L1(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["placeholder","asChild","el"]);mt(e,!1);const s=Qt(),i=()=>Ft(d,"$selectedLabel",s),o=tr();let a=q(e,"placeholder",8,""),l=q(e,"asChild",8,!1),c=q(e,"el",28,()=>{});const{states:{selectedLabel:d},getAttrs:g}=pr(),f=g("value");Mt(()=>i(),()=>{Rt(o,i())}),In(),te();var h=it(),u=nt(h);{var m=_=>{var p=it(),v=nt(p);It(v,e,"default",{get label(){return U(o)},attrs:f},null),K(_,p)},b=_=>{var p=N1();let v;var w=Dt(p);me(p,S=>c(S),()=>c()),Ot(()=>{v=ne(p,v,{...r,...f,"data-placeholder":U(o)?void 0:""}),tn(w,U(o)||a())}),K(_,p)};Lt(u,_=>{l()?_(m):_(b,!1)})}K(t,h),vt()}function Zu(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Zu(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function I1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Zu(t))&&(r&&(r+=" "),r+=e);return r}const sa="-";function D1(t){const e=B1(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function s(o){const a=o.split(sa);return a[0]===""&&a.length!==1&&a.shift(),$u(a,e)||G1(o)}function i(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:s,getConflictingClassGroupIds:i}}function $u(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?$u(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(sa);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId}const pl=/^\[(.+)\]$/;function G1(t){if(pl.test(t)){const e=pl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function B1(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return U1(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rs(o,r,i,e)}),r}function Rs(t,e,n,r){t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ml(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(V1(s)){Rs(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rs(o,ml(e,i),n,r)})})}function ml(t,e){let n=t;return e.split(sa).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function V1(t){return t.isThemeGetter}function U1(t,e){return e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t}function z1(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}}const td="!";function W1(t){const e=t.separator,n=e.length===1,r=e[0],s=e.length;return function(o){const a=[];let l=0,c=0,d;for(let m=0;m<o.length;m++){let b=o[m];if(l===0){if(b===r&&(n||o.slice(m,m+s)===e)){a.push(o.slice(c,m)),c=m+s;continue}if(b==="/"){d=m;continue}}b==="["?l++:b==="]"&&l--}const g=a.length===0?o:o.substring(c),f=g.startsWith(td),h=f?g.substring(1):g,u=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:u}}}function j1(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function H1(t){return{cache:z1(t.cacheSize),splitModifiers:W1(t),...D1(t)}}const q1=/\s+/;function Y1(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=new Set;return t.trim().split(q1).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:d}=n(o);let g=r(d?c.substring(0,d):c),f=!!d;if(!g){if(!d)return{isTailwindClass:!1,originalClassName:o};if(g=r(c),!g)return{isTailwindClass:!1,originalClassName:o};f=!1}const h=j1(a).join(":");return{isTailwindClass:!0,modifierId:l?h+td:h,classGroupId:g,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=o,d=a+l;return i.has(d)?!1:(i.add(d),s(l,c).forEach(g=>i.add(a+g)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function X1(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ed(e))&&(r&&(r+=" "),r+=n);return r}function ed(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ed(t[r]))&&(n&&(n+=" "),n+=e);return n}function K1(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,g)=>g(d),t());return n=H1(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=Y1(l,n);return s(l,d),d}return function(){return i(X1.apply(null,arguments))}}function Vt(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const nd=/^\[(?:([a-z-]+):)?(.+)\]$/i,J1=/^\d+\/\d+$/,Q1=new Set(["px","full","screen"]),Z1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ep=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,np=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ye(t){return kn(t)||Q1.has(t)||J1.test(t)}function on(t){return mr(t,"length",up)}function kn(t){return!!t&&!Number.isNaN(Number(t))}function $i(t){return mr(t,"number",kn)}function wr(t){return!!t&&Number.isInteger(Number(t))}function rp(t){return t.endsWith("%")&&kn(t.slice(0,-1))}function dt(t){return nd.test(t)}function sn(t){return Z1.test(t)}const ip=new Set(["length","size","percentage"]);function op(t){return mr(t,ip,rd)}function sp(t){return mr(t,"position",rd)}const ap=new Set(["image","url"]);function lp(t){return mr(t,ap,fp)}function cp(t){return mr(t,"",dp)}function Sr(){return!0}function mr(t,e,n){const r=nd.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function up(t){return $1.test(t)&&!tp.test(t)}function rd(){return!1}function dp(t){return ep.test(t)}function fp(t){return np.test(t)}function hp(){const t=Vt("colors"),e=Vt("spacing"),n=Vt("blur"),r=Vt("brightness"),s=Vt("borderColor"),i=Vt("borderRadius"),o=Vt("borderSpacing"),a=Vt("borderWidth"),l=Vt("contrast"),c=Vt("grayscale"),d=Vt("hueRotate"),g=Vt("invert"),f=Vt("gap"),h=Vt("gradientColorStops"),u=Vt("gradientColorStopPositions"),m=Vt("inset"),b=Vt("margin"),_=Vt("opacity"),p=Vt("padding"),v=Vt("saturate"),w=Vt("scale"),S=Vt("sepia"),E=Vt("skew"),F=Vt("space"),k=Vt("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",dt,e],P=()=>[dt,e],y=()=>["",Ye,on],x=()=>["auto",kn,dt],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],G=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",dt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[kn,$i],D=()=>[kn,dt];return{cacheSize:500,separator:":",theme:{colors:[Sr],spacing:[Ye,on],blur:["none","",sn,dt],brightness:M(),borderColor:[t],borderRadius:["none","","full",sn,dt],borderSpacing:P(),borderWidth:y(),contrast:M(),grayscale:I(),hueRotate:D(),invert:I(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[rp,on],inset:T(),margin:T(),opacity:M(),padding:P(),saturate:M(),scale:M(),sepia:I(),skew:D(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[sn]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),dt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wr,dt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",wr,dt]}],"grid-cols":[{"grid-cols":[Sr]}],"col-start-end":[{col:["auto",{span:["full",wr,dt]},dt]}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":[Sr]}],"row-start-end":[{row:["auto",{span:[wr,dt]},dt]}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,e]}],"min-w":[{"min-w":[dt,e,"min","max","fit"]}],"max-w":[{"max-w":[dt,e,"none","full","min","max","fit","prose",{screen:[sn]},sn]}],h:[{h:[dt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sn,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$i]}],"font-family":[{font:[Sr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",kn,$i]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ye,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ye,on]}],"underline-offset":[{"underline-offset":["auto",Ye,dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),sp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",op]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[u]}],"gradient-via-pos":[{via:[u]}],"gradient-to-pos":[{to:[u]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Ye,dt]}],"outline-w":[{outline:[Ye,on]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ye,on]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",sn,cp]}],"shadow-color":[{shadow:[Sr]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":O()}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sn,dt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[g]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[wr,dt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ye,on,$i]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const gp=K1(hp);function pp(t){const e=t-1;return e*e*e+1}function He(...t){return gp(I1(t))}const mp=(t,e={y:-8,x:0,start:.95,duration:150})=>{const n=getComputedStyle(t),r=n.transform==="none"?"":n.transform,s=(o,a,l)=>{const[c,d]=a,[g,f]=l;return(o-c)/(d-c)*(f-g)+g},i=o=>Object.keys(o).reduce((a,l)=>o[l]===void 0?a:a+`${l}:${o[l]};`,"");return{duration:e.duration??200,delay:0,css:o=>{const a=s(o,[0,1],[e.y??5,0]),l=s(o,[0,1],[e.x??0,0]),c=s(o,[0,1],[e.start??.95,1]);return i({transform:`${r} translate3d(${l}px, ${a}px, 0) scale(${c})`,opacity:o})},easing:pp}};/**
 * @license lucide-svelte v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var bp=Gf("<svg><!><!></svg>");function id(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);mt(e,!1);let s=q(e,"name",8,void 0),i=q(e,"color",8,"currentColor"),o=q(e,"size",8,24),a=q(e,"strokeWidth",8,2),l=q(e,"absoluteStrokeWidth",8,!1),c=q(e,"iconNode",24,()=>[]);const d=(...m)=>m.filter((b,_,p)=>!!b&&p.indexOf(b)===_).join(" ");te();var g=bp();let f;var h=Dt(g);ze(h,1,c,Ue,(m,b)=>{let _=()=>U(b)[0],p=()=>U(b)[1];var v=it(),w=nt(v);bs(w,_,!0,(S,E)=>{let F;Ot(()=>F=ne(S,F,{...p()},void 0,S.namespaceURI===ao,S.nodeName.includes("-")))}),K(m,v)});var u=be(h);It(u,e,"default",{},null),Ot(()=>f=ne(g,f,{...vp,...r,width:o(),height:o(),stroke:i(),"stroke-width":l()?Number(a())*24/Number(o()):a(),class:d("lucide-icon","lucide",s()?`lucide-${s()}`:"",n.class)},void 0,!0)),K(t,g),vt()}function yp(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]);id(t,Ee({name:"check"},()=>n,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(s,i)=>{var o=it(),a=nt(o);It(a,e,"default",{},null),K(s,o)},$$slots:{default:!0}}))}var _p=At('<span class="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"><!></span> <!>',1);function od(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class","value","label","disabled"]);mt(e,!1);let s=q(e,"class",8,void 0),i=q(e,"value",8),o=q(e,"label",8,void 0),a=q(e,"disabled",8,void 0);te();var l=bn(()=>He("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s()));P1(t,Ee({get value(){return i()},get disabled(){return a()},get label(){return o()},get class(){return U(l)}},()=>r,{$$events:{click(c){rt.call(this,e,c)},keydown(c){rt.call(this,e,c)},focusin(c){rt.call(this,e,c)},focusout(c){rt.call(this,e,c)},pointerleave(c){rt.call(this,e,c)},pointermove(c){rt.call(this,e,c)}},children:(c,d)=>{var g=_p(),f=nt(g),h=Dt(f);O1(h,{children:(m,b)=>{yp(m,{class:"h-4 w-4"})},$$slots:{default:!0}});var u=be(f,2);It(u,e,"default",{},m=>{var b=Pn();Ot(()=>tn(b,o()||i())),K(m,b)}),K(c,g)},$$slots:{default:!0}})),vt()}function wp(t){const e=t-1;return e*e*e+1}function Sp(t,{delay:e=0,duration:n=400,easing:r=wp,start:s=0,opacity:i=0}={}){const o=getComputedStyle(t),a=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-s,d=a*(1-i);return{delay:e,duration:n,easing:r,css:(g,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${a-d*f}
		`}}var xp=At('<div class="w-full p-1"><!></div>');function sd(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["sideOffset","inTransition","inTransitionConfig","outTransition","outTransitionConfig","class"]);mt(e,!1);let s=q(e,"sideOffset",8,4),i=q(e,"inTransition",8,mp),o=q(e,"inTransitionConfig",8,void 0),a=q(e,"outTransition",8,Sp),l=q(e,"outTransitionConfig",24,()=>({start:.95,opacity:0,duration:50})),c=q(e,"class",8,void 0);te();var d=bn(()=>He("bg-popover text-popover-foreground relative z-50 min-w-[8rem] overflow-hidden rounded-md border shadow-md outline-none",c()));k1(t,Ee({get inTransition(){return i()},get inTransitionConfig(){return o()},get outTransition(){return a()},get outTransitionConfig(){return l()},get sideOffset(){return s()},get class(){return U(d)}},()=>r,{$$events:{keydown(g){rt.call(this,e,g)}},children:(g,f)=>{var h=xp(),u=Dt(h);It(u,e,"default",{},null),K(g,h)},$$slots:{default:!0}})),vt()}function Cp(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]);id(t,Ee({name:"chevron-down"},()=>n,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(s,i)=>{var o=it(),a=nt(o);It(a,e,"default",{},null),K(s,o)},$$slots:{default:!0}}))}var Ap=At("<!> <div><!></div>",1);function ad(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class"]);mt(e,!1);let s=q(e,"class",8,void 0);te();var i=bn(()=>He("border-input bg-background ring-offset-background focus-visible:ring-ring aria-[invalid]:border-destructive data-[placeholder]:[&>span]:text-muted-foreground flex h-10 w-full items-center justify-between rounded-md border px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s()));M1(t,Ee({get class(){return U(i)}},()=>r,{$$events:{click(o){rt.call(this,e,o)},keydown(o){rt.call(this,e,o)}},children:xf,$$slots:{default:(o,a)=>{const l=bn(()=>a.builder);var c=Ap(),d=nt(c);It(d,e,"default",{get builder(){return U(l)}},null);var g=be(d,2),f=Dt(g);Cp(f,{class:"h-4 w-4 opacity-50"}),K(o,c)}}})),vt()}const ld=w1,cd=L1;function aa(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class"]);mt(e,!1);let s=q(e,"class",8,void 0);te();var i=bn(()=>He("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s()));m1(t,Ee({get class(){return U(i)}},()=>r,{$$events:{mousedown(o){rt.call(this,e,o)}},children:(o,a)=>{var l=it(),c=nt(l);It(c,e,"default",{},null),K(o,l)},$$slots:{default:!0}})),vt()}var Ep=At("<!> <!>",1),kp=At('<div class="space-y-0.5"><!> <!></div>');function Tp(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(Tn,"$templateId",n);xe(()=>{e.templates.length>0&&(r()||(Tn.set(e.templates[0].id),uo.set(e.artworkValues[0])))});var s=it(),i=nt(s);{var o=a=>{var l=kp(),c=Dt(l);aa(c,{children:(f,h)=>{var u=Pn();Ot(()=>tn(u,e.label)),K(f,u)},$$slots:{default:!0}});var d=be(c,2),g=Nt(()=>{var f;return r()?{value:r(),label:(f=e.templates.find(h=>h.id===r()))==null?void 0:f.title}:void 0});oe(d,()=>ld,(f,h)=>{h(f,{get selected(){return U(g)},onSelectedChange:u=>Tn.set((u==null?void 0:u.value)??null),children:(u,m)=>{var b=Ep(),_=nt(b);oe(_,()=>ad,(v,w)=>{w(v,{class:"w-full",children:(S,E)=>{var F=it(),k=nt(F);oe(k,()=>cd,(N,A)=>{A(N,{placeholder:"Select a template"})}),K(S,F)},$$slots:{default:!0}})});var p=be(_,2);oe(p,()=>sd,(v,w)=>{w(v,{children:(S,E)=>{var F=it(),k=nt(F);ze(k,17,()=>e.templates,Ue,(N,A)=>{var T=it(),P=nt(T);oe(P,()=>od,(y,x)=>{x(y,{get value(){return U(A).id},children:(C,R)=>{var O=Pn();Ot(()=>tn(O,U(A).title)),K(C,O)},$$slots:{default:!0}})}),K(N,T)}),K(S,F)},$$slots:{default:!0}})}),K(u,b)},$$slots:{default:!0}})}),K(a,l)};Lt(i,a=>{e.templates.length>1&&a(o)})}K(t,s),vt()}var Pp=(t,e)=>e.onSelect(e.option),Rp=At('<button type="button" aria-label="option" class="svelte-k78jh8"><span class="svelte-k78jh8"></span></button>');function Op(t,e){mt(e,!0);let n=Nt(()=>e.option.includes(" ")?e.option.split(" ").map(i=>i.toLowerCase()).join("-"):e.option.toLowerCase());var r=Rp();r.__click=[Pp,e];var s=Dt(r);Ot(()=>{th(r,"active",e.isSelected),eh(s,"background-image",`url("//cdn.shopify.com/s/files/1/0380/1412/4169/files/${U(n)}.png?"), url("https://cdn.shopify.com/s/files/1/0627/7172/4516/files/${U(n)}.png?")`)}),K(t,r),vt()}Xs(["click"]);var Fp=At('<div><span class="form__label"> </span> <div role="radiogroup" aria-label="select attribute" class="option_wrapper svelte-idgunn"></div></div>');function Mp(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(xu,"$variantProductType",n),s=()=>Ft(jt,"$store",n);let i=Nt(()=>{var g;return((g=r())==null?void 0:g.productType)??null});function o(g){var f,h;U(i)&&(s().customAttrs||Yn(jt,Wt(s).customAttrs={},Wt(s)),(f=s().customAttrs)!=null&&f[U(i)]||Yn(jt,Wt(s).customAttrs={...s().customAttrs,[U(i)]:{}},Wt(s)),(h=s().customAttrs[U(i)])!=null&&h[e.attribute.name]?Yn(jt,Wt(s).customAttrs[U(i)][e.attribute.name]=g,Wt(s)):Yn(jt,Wt(s).customAttrs[U(i)]={[e.attribute.name]:g},Wt(s)))}at(()=>{var g,f;U(i)&&(!s().customAttrs||!((f=(g=s().customAttrs)==null?void 0:g[U(i)])!=null&&f[e.attribute.name]))&&o(e.attribute.options[0])});var a=Fp(),l=Dt(a),c=Dt(l),d=be(l,2);ze(d,21,()=>e.attribute.options,Ue,(g,f)=>{var h=Nt(()=>{var u,m;return U(f)===((m=(u=s().customAttrs)==null?void 0:u[U(i)])==null?void 0:m[e.attribute.name])});Op(g,{get option(){return U(f)},get type(){return e.attribute.name},onSelect:o,get isSelected(){return U(h)}})}),Ot(()=>tn(c,e.attribute.name)),K(t,a),vt()}var Np=At("<input>");function Lp(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class","value","readonly"]);mt(e,!1);let s=q(e,"class",8,void 0),i=q(e,"value",12,void 0),o=q(e,"readonly",8,void 0);te();var a=Np();let l;Ot(()=>l=ne(a,l,{class:He("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s()),readonly:o(),...r})),sh(a,i),ot("blur",a,function(c){rt.call(this,e,c)}),ot("change",a,function(c){rt.call(this,e,c)}),ot("click",a,function(c){rt.call(this,e,c)}),ot("focus",a,function(c){rt.call(this,e,c)}),ot("focusin",a,function(c){rt.call(this,e,c)}),ot("focusout",a,function(c){rt.call(this,e,c)}),ot("keydown",a,function(c){rt.call(this,e,c)}),ot("keypress",a,function(c){rt.call(this,e,c)}),ot("keyup",a,function(c){rt.call(this,e,c)}),ot("mouseover",a,function(c){rt.call(this,e,c)}),ot("mouseenter",a,function(c){rt.call(this,e,c)}),ot("mouseleave",a,function(c){rt.call(this,e,c)}),ot("mousemove",a,function(c){rt.call(this,e,c)}),ot("paste",a,function(c){rt.call(this,e,c)}),ot("input",a,function(c){rt.call(this,e,c)}),ot("wheel",a,function(c){rt.call(this,e,c)},void 0,!0),K(t,a),vt()}var Ip=At('<div class="space-y-0.5"><!> <!></div>');function Dp(t,e){mt(e,!0);let n=ve(se(e.value.text||""));at(()=>{U(n)!==e.value.text&&Au(e.id,{text:U(n)})});var r=it(),s=nt(r);{var i=o=>{var a=Ip(),l=Dt(a);aa(l,{children:(g,f)=>{var h=Pn();Ot(()=>tn(h,e.personalized.label)),K(g,h)},$$slots:{default:!0}});var c=be(l,2),d=Nt(()=>e.personalized.placeholder||"Type here...");Lp(c,{get placeholder(){return U(d)},get value(){return U(n)},set value(g){Rt(n,se(g))}}),K(o,a)};Lt(s,o=>{e.personalized&&o(i)})}K(t,r),vt()}class Gp{constructor(e){Uo(this,"baseUrl");this.baseUrl=e}async get(e){return await fetch(`${this.baseUrl}/${e}`)}}const Bp=new Gp("https://api.podlovers.com"),Vp=async()=>{jt.update(t=>({...t,loading:!0}));try{const n=(await(await fetch(`${window.location.pathname}.json`)).json()).product;return jt.update(r=>({...r,product:n,loading:!1})),n}catch(t){console.error(t),jt.update(e=>({...e,loading:!1}))}},Up=async t=>{jt.update(e=>({...e,loading:!0}));try{const e=await fetch(`https://api.podlovers.c8p.dev/products/${t}/settings`),{data:n}=await e.json();jt.update(r=>({...r,settings:n,loading:!1}))}catch(e){console.error(e),jt.update(n=>({...n,loading:!1}))}},zp=async t=>(await Bp.get(`clipart-categories-storefront/${t}`)).json();var vl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fe=t=>!t||typeof t!="object"||Object.keys(t).length===0,Wp=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function ud(t,e){t.forEach(function(n){Array.isArray(n)?ud(n,e):e.push(n)})}function dd(t){let e=[];return ud(t,e),e}var fd=(...t)=>dd(t).filter(Boolean),hd=(t,e)=>{let n={},r=Object.keys(t),s=Object.keys(e);for(let i of r)if(s.includes(i)){let o=t[i],a=e[i];Array.isArray(o)||Array.isArray(a)?n[i]=fd(a,o):typeof o=="object"&&typeof a=="object"?n[i]=hd(o,a):n[i]=a+" "+o}else n[i]=t[i];for(let i of s)r.includes(i)||(n[i]=e[i]);return n},bl=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim();const la="-",jp=t=>{const e=qp(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(la);return a[0]===""&&a.length!==1&&a.shift(),gd(a,e)||Hp(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},gd=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gd(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(la);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},yl=/^\[(.+)\]$/,Hp=t=>{if(yl.test(t)){const e=yl.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qp=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Xp(Object.entries(t.classGroups),n).forEach(([i,o])=>{Os(o,r,i,e)}),r},Os=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_l(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Yp(s)){Os(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Os(o,_l(e,i),n,r)})})},_l=(t,e)=>{let n=t;return e.split(la).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yp=t=>t.isThemeGetter,Xp=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Kp=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},pd="!",Jp=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,g;for(let b=0;b<a.length;b++){let _=a[b];if(c===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(_==="/"){g=b;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?a:a.substring(d),h=f.startsWith(pd),u=h?f.substring(1):f,m=g&&g>d?g-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:u,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},Qp=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Zp=t=>({cache:Kp(t.cacheSize),parseClassName:Jp(t),...jp(t)}),$p=/\s+/,t2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($p);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let u=!!h,m=r(u?f.substring(0,h):f);if(!m){if(!u){a=c+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=c+(a.length>0?" "+a:a);continue}u=!1}const b=Qp(d).join(":"),_=g?b+pd:b,p=_+m;if(i.includes(p))continue;i.push(p);const v=s(m,u);for(let w=0;w<v.length;++w){const S=v[w];i.push(_+S)}a=c+(a.length>0?" "+a:a)}return a};function e2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=md(e))&&(r&&(r+=" "),r+=n);return r}const md=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=md(t[r]))&&(n&&(n+=" "),n+=e);return n};function Fs(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,g)=>g(d),t());return n=Zp(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=t2(l,n);return s(l,d),d}return function(){return i(e2.apply(null,arguments))}}const Ut=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vd=/^\[(?:([a-z-]+):)?(.+)\]$/i,n2=/^\d+\/\d+$/,r2=new Set(["px","full","screen"]),i2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,a2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xe=t=>Zn(t)||r2.has(t)||n2.test(t),an=t=>vr(t,"length",m2),Zn=t=>!!t&&!Number.isNaN(Number(t)),es=t=>vr(t,"number",Zn),xr=t=>!!t&&Number.isInteger(Number(t)),c2=t=>t.endsWith("%")&&Zn(t.slice(0,-1)),ft=t=>vd.test(t),ln=t=>i2.test(t),u2=new Set(["length","size","percentage"]),d2=t=>vr(t,u2,bd),f2=t=>vr(t,"position",bd),h2=new Set(["image","url"]),g2=t=>vr(t,h2,b2),p2=t=>vr(t,"",v2),Cr=()=>!0,vr=(t,e,n)=>{const r=vd.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m2=t=>o2.test(t)&&!s2.test(t),bd=()=>!1,v2=t=>a2.test(t),b2=t=>l2.test(t),Ms=()=>{const t=Ut("colors"),e=Ut("spacing"),n=Ut("blur"),r=Ut("brightness"),s=Ut("borderColor"),i=Ut("borderRadius"),o=Ut("borderSpacing"),a=Ut("borderWidth"),l=Ut("contrast"),c=Ut("grayscale"),d=Ut("hueRotate"),g=Ut("invert"),f=Ut("gap"),h=Ut("gradientColorStops"),u=Ut("gradientColorStopPositions"),m=Ut("inset"),b=Ut("margin"),_=Ut("opacity"),p=Ut("padding"),v=Ut("saturate"),w=Ut("scale"),S=Ut("sepia"),E=Ut("skew"),F=Ut("space"),k=Ut("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ft,e],P=()=>[ft,e],y=()=>["",Xe,an],x=()=>["auto",Zn,ft],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ft],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Zn,ft];return{cacheSize:500,separator:":",theme:{colors:[Cr],spacing:[Xe,an],blur:["none","",ln,ft],brightness:M(),borderColor:[t],borderRadius:["none","","full",ln,ft],borderSpacing:P(),borderWidth:y(),contrast:M(),grayscale:I(),hueRotate:M(),invert:I(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[c2,an],inset:T(),margin:T(),opacity:M(),padding:P(),saturate:M(),scale:M(),sepia:I(),skew:M(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[ln]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ft]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xr,ft]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",xr,ft]}],"grid-cols":[{"grid-cols":[Cr]}],"col-start-end":[{col:["auto",{span:["full",xr,ft]},ft]}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":[Cr]}],"row-start-end":[{row:["auto",{span:[xr,ft]},ft]}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[ln]},ln]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ln,an]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",es]}],"font-family":[{font:[Cr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",Zn,es]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xe,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xe,an]}],"underline-offset":[{"underline-offset":["auto",Xe,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),f2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",d2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[u]}],"gradient-via-pos":[{via:[u]}],"gradient-to-pos":[{to:[u]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Xe,ft]}],"outline-w":[{outline:[Xe,an]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Xe,an]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ln,p2]}],"shadow-color":[{shadow:[Cr]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ln,ft]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[g]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[xr,ft]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xe,an,es]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y2=(t,{cacheSize:e,prefix:n,separator:r,experimentalParseClassName:s,extend:i={},override:o={}})=>{pi(t,"cacheSize",e),pi(t,"prefix",n),pi(t,"separator",r),pi(t,"experimentalParseClassName",s);for(const a in o)_2(t[a],o[a]);for(const a in i)w2(t[a],i[a]);return t},pi=(t,e,n)=>{n!==void 0&&(t[e]=n)},_2=(t,e)=>{if(e)for(const n in e)pi(t,n,e[n])},w2=(t,e)=>{if(e)for(const n in e){const r=e[n];r!==void 0&&(t[n]=(t[n]||[]).concat(r))}},S2=(t,...e)=>typeof t=="function"?Fs(Ms,t,...e):Fs(()=>y2(Ms(),t),...e),x2=Fs(Ms);var C2={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},yd=t=>t||void 0,Pi=(...t)=>yd(dd(t).filter(Boolean).join(" ")),ns=null,Ze={},Ns=!1,Ar=(...t)=>e=>e.twMerge?((!ns||Ns)&&(Ns=!1,ns=fe(Ze)?x2:S2({...Ze,extend:{theme:Ze.theme,classGroups:Ze.classGroups,conflictingClassGroupModifiers:Ze.conflictingClassGroupModifiers,conflictingClassGroups:Ze.conflictingClassGroups,...Ze.extend}})),yd(ns(Pi(t)))):Pi(t),wl=(t,e)=>{for(let n in e)t.hasOwnProperty(n)?t[n]=Pi(t[n],e[n]):t[n]=e[n];return t},A2=(t,e)=>{let{extend:n=null,slots:r={},variants:s={},compoundVariants:i=[],compoundSlots:o=[],defaultVariants:a={}}=t,l={...C2,...e},c=n!=null&&n.base?Pi(n.base,t==null?void 0:t.base):t==null?void 0:t.base,d=n!=null&&n.variants&&!fe(n.variants)?hd(s,n.variants):s,g=n!=null&&n.defaultVariants&&!fe(n.defaultVariants)?{...n.defaultVariants,...a}:a;!fe(l.twMergeConfig)&&!Wp(l.twMergeConfig,Ze)&&(Ns=!0,Ze=l.twMergeConfig);let f=fe(n==null?void 0:n.slots),h=fe(r)?{}:{base:Pi(t==null?void 0:t.base,f&&(n==null?void 0:n.base)),...r},u=f?h:wl({...n==null?void 0:n.slots},fe(h)?{base:t==null?void 0:t.base}:h),m=fe(n==null?void 0:n.compoundVariants)?i:fd(n==null?void 0:n.compoundVariants,i),b=p=>{if(fe(d)&&fe(r)&&f)return Ar(c,p==null?void 0:p.class,p==null?void 0:p.className)(l);if(m&&!Array.isArray(m))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof m}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let v=(P,y,x=[],C)=>{let R=x;if(typeof y=="string")R=R.concat(bl(y).split(" ").map(O=>`${P}:${O}`));else if(Array.isArray(y))R=R.concat(y.reduce((O,G)=>O.concat(`${P}:${G}`),[]));else if(typeof y=="object"&&typeof C=="string"){for(let O in y)if(y.hasOwnProperty(O)&&O===C){let G=y[O];if(G&&typeof G=="string"){let I=bl(G);R[C]?R[C]=R[C].concat(I.split(" ").map(W=>`${P}:${W}`)):R[C]=I.split(" ").map(W=>`${P}:${W}`)}else Array.isArray(G)&&G.length>0&&(R[C]=G.reduce((I,W)=>I.concat(`${P}:${W}`),[]))}}return R},w=(P,y=d,x=null,C=null)=>{var R;let O=y[P];if(!O||fe(O))return null;let G=(R=C==null?void 0:C[P])!=null?R:p==null?void 0:p[P];if(G===null)return null;let I=vl(G),W=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,M=g==null?void 0:g[P],D=[];if(typeof I=="object"&&W)for(let[X,J]of Object.entries(I)){let L=O[J];if(X==="initial"){M=J;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(X)||(D=v(X,L,D,x))}let z=I!=null&&typeof I!="object"?I:vl(M),j=O[z||"false"];return typeof D=="object"&&typeof x=="string"&&D[x]?wl(D,j):D.length>0?(D.push(j),x==="base"?D.join(" "):D):j},S=()=>d?Object.keys(d).map(P=>w(P,d)):null,E=(P,y)=>{if(!d||typeof d!="object")return null;let x=new Array;for(let C in d){let R=w(C,d,P,y),O=P==="base"&&typeof R=="string"?R:R&&R[P];O&&(x[x.length]=O)}return x},F={};for(let P in p)p[P]!==void 0&&(F[P]=p[P]);let k=(P,y)=>{var x;let C=typeof(p==null?void 0:p[P])=="object"?{[P]:(x=p[P])==null?void 0:x.initial}:{};return{...g,...F,...C,...y}},N=(P=[],y)=>{let x=[];for(let{class:C,className:R,...O}of P){let G=!0;for(let[I,W]of Object.entries(O)){let M=k(I,y)[I];if(Array.isArray(W)){if(!W.includes(M)){G=!1;break}}else{let D=z=>z==null||z===!1;if(D(W)&&D(M))continue;if(M!==W){G=!1;break}}}G&&(C&&x.push(C),R&&x.push(R))}return x},A=P=>{let y=N(m,P);if(!Array.isArray(y))return y;let x={};for(let C of y)if(typeof C=="string"&&(x.base=Ar(x.base,C)(l)),typeof C=="object")for(let[R,O]of Object.entries(C))x[R]=Ar(x[R],O)(l);return x},T=P=>{if(o.length<1)return null;let y={};for(let{slots:x=[],class:C,className:R,...O}of o){if(!fe(O)){let G=!0;for(let I of Object.keys(O)){let W=k(I,P)[I];if(W===void 0||(Array.isArray(O[I])?!O[I].includes(W):O[I]!==W)){G=!1;break}}if(!G)continue}for(let G of x)y[G]=y[G]||[],y[G].push([C,R])}return y};if(!fe(r)||!f){let P={};if(typeof u=="object"&&!fe(u))for(let y of Object.keys(u))P[y]=x=>{var C,R;return Ar(u[y],E(y,x),((C=A(x))!=null?C:[])[y],((R=T(x))!=null?R:[])[y],x==null?void 0:x.class,x==null?void 0:x.className)(l)};return P}return Ar(c,S(),N(m),p==null?void 0:p.class,p==null?void 0:p.className)(l)},_=()=>{if(!(!d||typeof d!="object"))return Object.keys(d)};return b.variantKeys=_(),b.extend=n,b.base=c,b.slots=u,b.variants=d,b.defaultVariants=g,b.compoundSlots=o,b.compoundVariants=m,b};function E2(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class","variant","size","builders"]);mt(e,!1);let s=q(e,"class",8,void 0),i=q(e,"variant",8,"default"),o=q(e,"size",8,"default"),a=q(e,"builders",24,()=>[]);te();var l=bn(()=>He(k2({variant:i(),size:o(),className:s()})));u1(t,Ee({get builders(){return a()},get class(){return U(l)},type:"button"},()=>r,{$$events:{click(c){rt.call(this,e,c)},keydown(c){rt.call(this,e,c)}},children:(c,d)=>{var g=it(),f=nt(g);It(f,e,"default",{},null),K(c,g)},$$slots:{default:!0}})),vt()}const k2=A2({base:"ring-offset-background focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});var T2=At('<img class="size-12 object-cover">');function P2(t,e){mt(e,!0);let n=Nt(()=>e.thumbnail||e.file.thumbnail);var r=Nt(()=>He("border overflow-hidden rounded p-0",{"ring-2 ring-blue-500":e.isSelected}));E2(t,{type:"button",get class(){return U(r)},variant:"outline",onclick:()=>e.onSelect(e.id),children:(s,i)=>{var o=T2();Ot(()=>{Jn(o,"src",U(n)),Jn(o,"alt",e.title)}),K(s,o)},$$slots:{default:!0}}),vt()}var R2=At("<!> <!>",1),O2=At('<div class="flex flex-wrap gap-1.5"></div>'),F2=At('<div class="space-y-0.5"><!> <!></div>');function M2(t,e){mt(e,!0);let n=Nt(()=>{var d;return(d=e.personalized)==null?void 0:d.clipartCategoryId}),r=ve(void 0),s=Nt(()=>{var d;return((d=U(r))==null?void 0:d.cliparts)||[]}),i=Nt(()=>{var d;return(d=U(r))==null?void 0:d.displayMode});xe(async()=>{if(U(n)){const d=await zp(U(n));Rt(r,se(d.data))}});function o(d){const g=U(s).find(f=>f.id===d);g&&Au(e.id,{id:g.id,title:g.title,largeImage:g.file.largeImage,fileId:g.file.id})}var a=it(),l=nt(a);{var c=d=>{var g=F2(),f=Dt(g);aa(f,{children:(b,_)=>{var p=Pn();Ot(()=>tn(p,e.personalized.label)),K(b,p)},$$slots:{default:!0}});var h=be(f,2);{var u=b=>{var _=it(),p=nt(_),v=Nt(()=>e.value.id?{value:e.value.id,label:e.value.title?ja(e.value.title):""}:void 0);oe(p,()=>ld,(w,S)=>{S(w,{get selected(){return U(v)},onSelectedChange:E=>{o((E==null?void 0:E.value)??"")},children:(E,F)=>{var k=R2(),N=nt(k);oe(N,()=>ad,(T,P)=>{P(T,{class:"w-full",children:(y,x)=>{var C=it(),R=nt(C);oe(R,()=>cd,(O,G)=>{G(O,{placeholder:"Select an image"})}),K(y,C)},$$slots:{default:!0}})});var A=be(N,2);oe(A,()=>sd,(T,P)=>{P(T,{class:"max-h-72 overflow-auto",children:(y,x)=>{var C=it(),R=nt(C);ze(R,17,()=>U(s),Ue,(O,G)=>{var I=it(),W=nt(I);oe(W,()=>od,(M,D)=>{D(M,{get value(){return U(G).id},children:(z,j)=>{var X=Pn();Ot(()=>tn(X,ja(U(G).title))),K(z,X)},$$slots:{default:!0}})}),K(O,I)}),K(y,C)},$$slots:{default:!0}})}),K(E,k)},$$slots:{default:!0}})}),K(b,_)},m=b=>{var _=O2();ze(_,21,()=>U(s),Ue,(p,v)=>{var w=Nt(()=>e.value.id===U(v).id);P2(p,Ee(()=>U(v),{onSelect:o,get isSelected(){return U(w)}}))}),K(b,_)};Lt(h,b=>{U(i)==="dropdown"?b(u):b(m,!1)})}K(d,g)};Lt(l,d=>{e.personalized&&d(c)})}K(t,a),vt()}function N2(t,e){mt(e,!1);const n=Qt(),r=()=>Ft(Ih,"$sortedLayers",n);te();var s=it(),i=nt(s);ze(i,1,r,Ue,(o,a)=>{var l=it(),c=nt(l);{var d=f=>{Dp(f,Ee(()=>U(a)))},g=f=>{var h=it(),u=nt(h);{var m=b=>{M2(b,Ee(()=>U(a)))};Lt(u,b=>{U(a).type==="Image"&&b(m)},!0)}K(f,h)};Lt(c,f=>{U(a).type.toLowerCase().includes("text")?f(d):f(g,!1)})}K(o,l)}),K(t,s),vt()}var L2=At('<!> <!> <button class="podlovers-buy-it-now" aria-label="atc"></button>',1),I2=At('<div class="podlovers-form-add-to-cart space-y-4 w-full"><!> <!></div>');function D2(t,e){mt(e,!1);const n=Qt(),r=()=>Ft(jt,"$store",n),s=()=>Ft(Nh,"$customAttributes",n),i=()=>Ft(Oo,"$artwork",n);xe(()=>{let d=null;d=document.querySelector('input[name="id"]'),d.value&&Yn(jt,Wt(r).variantId=d.value,Wt(r))}),xe(()=>{let d=null;d=document.querySelector('input[name="id"]');const g={attributes:!0,childList:!0,subtree:!0},f=new MutationObserver(h=>{for(const u of h)if(u.type==="attributes"&&d.value){Yn(jt,Wt(r).variantId=d.value,Wt(r));break}});return f.observe(d,g),()=>f.disconnect()}),te();var o=I2(),a=Dt(o);ze(a,1,s,Ue,(d,g)=>{Mp(d,{get attribute(){return U(g)}})});var l=be(a,2);{var c=d=>{var g=L2(),f=nt(g);Tp(f,{get templates(){return i().templates},get label(){return i().templateDisplayLabel},get artworkValues(){return r().settings.default[i().id]}});var h=be(f,2);N2(h,{}),K(d,g)};Lt(l,d=>{var g;i()&&((g=r().settings)!=null&&g.default)&&d(c)})}K(t,o),vt()}const Ls=Symbol("EMBLA_CAROUSEL_CONTEXT");function G2(t){return Ei(Ls,t),t}function _d(t="This component"){if(!Mf(Ls))throw new Error(`${t} must be used within a <Carousel.Root> component`);return Vi(Ls)}var B2=At("<div><!></div>");function Sl(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["opts","plugins","api","orientation","class"]);mt(e,!1);let s=q(e,"opts",24,()=>({})),i=q(e,"plugins",24,()=>[]),o=q(e,"api",12,void 0),a=q(e,"orientation",8,"horizontal"),l=q(e,"class",8,void 0);const c=zt(void 0),d=zt(a()),g=zt(!1),f=zt(!1),h=zt(s()),u=zt(i()),m=zt([]),b=zt(0);function _(){var A;(A=o())==null||A.scrollPrev()}function p(){var A;(A=o())==null||A.scrollNext()}function v(A,T){var P;(P=o())==null||P.scrollTo(A,T)}function w(A){A&&(g.set(A.canScrollPrev()),f.set(A.canScrollNext()),b.set(A.selectedScrollSnap()))}function S(A){A.key==="ArrowLeft"?(A.preventDefault(),_()):A.key==="ArrowRight"&&(A.preventDefault(),p())}G2({api:c,scrollPrev:_,scrollNext:p,orientation:d,canScrollNext:f,canScrollPrev:g,handleKeyDown:S,options:h,plugins:u,onInit:E,scrollSnaps:m,selectedIndex:b,scrollTo:v});function E(A){o(A.detail),c.set(o()),m.set(o().scrollSnapList())}Dn(()=>{var A;(A=o())==null||A.off("select",w)}),Mt(()=>St(a()),()=>{d.set(a())}),Mt(()=>St(i()),()=>{u.set(i())}),Mt(()=>St(s()),()=>{h.set(s())}),Mt(()=>St(o()),()=>{o()&&(w(o()),o().on("select",w),o().on("reInit",w))}),In(),te();var F=B2();let k;var N=Dt(F);It(N,e,"default",{},null),Ot(()=>k=ne(F,k,{class:He("relative",l()),role:"region","aria-roledescription":"carousel",...r})),ot("mouseenter",F,function(A){rt.call(this,e,A)}),ot("mouseleave",F,function(A){rt.call(this,e,A)}),K(t,F),vt()}function V2(t){return Object.prototype.toString.call(t)==="[object Object]"}function xl(t){return V2(t)||Array.isArray(t)}function U2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ca(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!xl(a)||!xl(l)?a===l:ca(a,l)})}function Cl(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function z2(t,e){if(t.length!==e.length)return!1;const n=Cl(t),r=Cl(e);return n.every((s,i)=>{const o=r[i];return ca(s,o)})}function ua(t){return typeof t=="number"}function Is(t){return typeof t=="string"}function Do(t){return typeof t=="boolean"}function Al(t){return Object.prototype.toString.call(t)==="[object Object]"}function qt(t){return Math.abs(t)}function da(t){return Math.sign(t)}function yi(t,e){return qt(t-e)}function W2(t,e){if(t===0||e===0||qt(t)<=qt(e))return 0;const n=yi(qt(t),qt(e));return qt(n/t)}function j2(t){return Math.round(t*100)/100}function Ri(t){return Oi(t).map(Number)}function Te(t){return t[ji(t)]}function ji(t){return Math.max(0,t.length-1)}function fa(t,e){return e===ji(t)}function El(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Oi(t){return Object.keys(t)}function wd(t,e){return[t,e].reduce((n,r)=>(Oi(r).forEach(s=>{const i=n[s],o=r[s],a=Al(i)&&Al(o);n[s]=a?wd(i,o):o}),n),{})}function Ds(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function H2(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return Is(t)?n[t](l):t(e,l,c)}return{measure:o}}function Fi(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function q2(t,e,n,r){const s=Fi(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&u()})}function d(){h(),s.clear()}function g(b){if(!l)return;o||(o=b);const _=b-o;for(o=b,a+=_;a>=i;)n(),a-=i;const p=a/i;r(p),l&&(l=e.requestAnimationFrame(g))}function f(){l||(l=e.requestAnimationFrame(g))}function h(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function u(){o=null,a=0}return{init:c,destroy:d,start:f,stop:h,update:n,render:r}}function Y2(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=d(),l=g();function c(u){const{height:m,width:b}=u;return r?m:b}function d(){return r?"top":n?"right":"left"}function g(){return r?"bottom":n?"left":"right"}function f(u){return u*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:f}}function Mn(t=0,e=0){const n=qt(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function Sd(t,e,n){const{constrain:r}=Mn(0,t),s=t+1;let i=o(e);function o(f){return n?qt((s+f)%s):r(f)}function a(){return i}function l(f){return i=o(f),g}function c(f){return d().set(a()+f)}function d(){return Sd(t,a(),n)}const g={get:a,set:l,add:c,clone:d};return g}function X2(t,e,n,r,s,i,o,a,l,c,d,g,f,h,u,m,b,_,p){const{cross:v,direction:w}=t,S=["INPUT","SELECT","TEXTAREA"],E={passive:!1},F=Fi(),k=Fi(),N=Mn(50,225).constrain(h.measure(20)),A={mouse:300,touch:400},T={mouse:500,touch:600},P=u?43:25;let y=!1,x=0,C=0,R=!1,O=!1,G=!1,I=!1;function W(V){if(!p)return;function Y(et){(Do(p)||p(V,et))&&J(et)}const $=e;F.add($,"dragstart",et=>et.preventDefault(),E).add($,"touchmove",()=>{},E).add($,"touchend",()=>{}).add($,"touchstart",Y).add($,"mousedown",Y).add($,"touchcancel",B).add($,"contextmenu",B).add($,"click",H,!0)}function M(){F.clear(),k.clear()}function D(){const V=I?n:e;k.add(V,"touchmove",L,E).add(V,"touchend",B).add(V,"mousemove",L,E).add(V,"mouseup",B)}function z(V){const Y=V.nodeName||"";return S.includes(Y)}function j(){return(u?T:A)[I?"mouse":"touch"]}function X(V,Y){const $=g.add(da(V)*-1),et=d.byDistance(V,!u).distance;return u||qt(V)<N?et:b&&Y?et*.5:d.byIndex($.get(),0).distance}function J(V){const Y=Ds(V,r);I=Y,G=u&&Y&&!V.buttons&&y,y=yi(s.get(),o.get())>=2,!(Y&&V.button!==0)&&(z(V.target)||(R=!0,i.pointerDown(V),c.useFriction(0).useDuration(0),s.set(o),D(),x=i.readPoint(V),C=i.readPoint(V,v),f.emit("pointerDown")))}function L(V){if(!Ds(V,r)&&V.touches.length>=2)return B(V);const $=i.readPoint(V),et=i.readPoint(V,v),ct=yi($,x),tt=yi(et,C);if(!O&&!I&&(!V.cancelable||(O=ct>tt,!O)))return B(V);const st=i.pointerMove(V);ct>m&&(G=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(w(st)),V.preventDefault()}function B(V){const $=d.byDistance(0,!1).index!==g.get(),et=i.pointerUp(V)*j(),ct=X(w(et),$),tt=W2(et,ct),st=P-10*tt,Ct=_+tt/50;O=!1,R=!1,k.clear(),c.useDuration(st).useFriction(Ct),l.distance(ct,!u),I=!1,f.emit("pointerUp")}function H(V){G&&(V.stopPropagation(),V.preventDefault(),G=!1)}function Q(){return R}return{init:W,destroy:M,pointerDown:Q}}function K2(t,e){let r,s;function i(g){return g.timeStamp}function o(g,f){const u=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(Ds(g,e)?g:g.touches[0])[u]}function a(g){return r=g,s=g,o(g)}function l(g){const f=o(g)-o(s),h=i(g)-i(r)>170;return s=g,h&&(r=g),f}function c(g){if(!r||!s)return 0;const f=o(s)-o(r),h=i(g)-i(r),u=i(g)-i(s)>170,m=f/h;return h&&!u&&qt(m)>.1?m:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function J2(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function Q2(t){function e(r){return t*(r/100)}return{measure:e}}function Z2(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,d=[],g=!1;function f(b){return s.measureSize(o.measure(b))}function h(b){if(!i)return;c=f(t),d=r.map(f);function _(p){for(const v of p){if(g)return;const w=v.target===t,S=r.indexOf(v.target),E=w?c:d[S],F=f(w?t:r[S]);if(qt(F-E)>=.5){b.reInit(),e.emit("resize");break}}}l=new ResizeObserver(p=>{(Do(i)||i(b,p))&&_(p)}),n.requestAnimationFrame(()=>{a.forEach(p=>l.observe(p))})}function u(){g=!0,l&&l.disconnect()}return{init:h,destroy:u}}function $2(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,d=t.get(),g=0;function f(){const E=r.get()-t.get(),F=!l;let k=0;return F?(o=0,n.set(r),t.set(r),k=E):(n.set(t),o+=E/l,o*=c,d+=o,t.add(o),k=d-g),a=da(k),g=d,S}function h(){const E=r.get()-e.get();return qt(E)<.001}function u(){return l}function m(){return a}function b(){return o}function _(){return v(s)}function p(){return w(i)}function v(E){return l=E,S}function w(E){return c=E,S}const S={direction:m,duration:u,velocity:b,seek:f,settled:h,useBaseFriction:p,useBaseDuration:_,useFriction:w,useDuration:v};return S}function tm(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=Mn(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(h){if(!c())return;const u=t.reachedMin(e.get())?"min":"max",m=qt(t[u]-e.get()),b=n.get()-e.get(),_=a.constrain(m/o);n.subtract(b*_),!h&&qt(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function g(h){l=!h}return{shouldConstrain:c,constrain:d,toggleActive:g}}function em(t,e,n,r,s){const i=Mn(-e+t,0),o=g(),a=d(),l=f();function c(u,m){return yi(u,m)<1}function d(){const u=o[0],m=Te(o),b=o.lastIndexOf(u),_=o.indexOf(m)+1;return Mn(b,_)}function g(){return n.map((u,m)=>{const{min:b,max:_}=i,p=i.constrain(u),v=!m,w=fa(n,m);return v?_:w||c(b,p)?b:c(_,p)?_:p}).map(u=>parseFloat(u.toFixed(3)))}function f(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:u,max:m}=a;return o.slice(u,m)}return{snapsContained:l,scrollContainLimit:a}}function nm(t,e,n){const r=e[0],s=n?r-t:Te(e);return{limit:Mn(s,r)}}function rm(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Mn(i,o);function c(f){return f===1?l(n.get()):f===-1?a(n.get()):!1}function d(f){if(!c(f))return;const h=t*(f*-1);r.forEach(u=>u.add(h))}return{loop:d}}function im(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function om(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=g().map(e.measure),c=f(),d=h();function g(){return a(r).map(m=>Te(m)[o]-m[0][i]).map(qt)}function f(){return r.map(m=>n[i]-m[i]).map(m=>-qt(m))}function h(){return a(c).map(m=>m[0]).map((m,b)=>m+l[b])}return{snaps:c,snapsAligned:d}}function sm(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=d();function d(){const f=o(i),h=!t||e==="keepSnaps";return n.length===1?[i]:h?f:f.slice(a,l).map((u,m,b)=>{const _=!m,p=fa(b,m);if(_){const v=Te(b[0])+1;return El(v)}if(p){const v=ji(i)-Te(b)[0]+1;return El(v,Te(b)[0])}return u})}return{slideRegistry:c}}function am(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(u){return u.concat().sort((m,b)=>qt(m)-qt(b))[0]}function c(u){const m=t?o(u):a(u),b=e.map((p,v)=>({diff:d(p-m,0),index:v})).sort((p,v)=>qt(p.diff)-qt(v.diff)),{index:_}=b[0];return{index:_,distance:m}}function d(u,m){const b=[u,u+n,u-n];if(!t)return u;if(!m)return l(b);const _=b.filter(p=>da(p)===m);return _.length?l(_):Te(b)-n}function g(u,m){const b=e[u]-s.get(),_=d(b,m);return{index:u,distance:_}}function f(u,m){const b=s.get()+u,{index:_,distance:p}=c(b),v=!t&&i(b);if(!m||v)return{index:_,distance:u};const w=e[_]-p,S=u+d(w,0);return{index:_,distance:S}}return{byDistance:f,byIndex:g,shortcut:d}}function lm(t,e,n,r,s,i,o){function a(g){const f=g.distance,h=g.index!==e.get();i.add(f),f&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),h&&(n.set(e.get()),e.set(g.index),o.emit("select"))}function l(g,f){const h=s.byDistance(g,f);a(h)}function c(g,f){const h=e.clone().set(g),u=s.byIndex(h.get(),f);a(u)}return{distance:l,index:c}}function cm(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function d(h){if(!a)return;function u(m){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const p=n.findIndex(v=>v.includes(m));ua(p)&&(s.useDuration(0),r.index(p,0),o.emit("slideFocus"))}i.add(document,"keydown",g,!1),e.forEach((m,b)=>{i.add(m,"focus",_=>{(Do(a)||a(h,_))&&u(b)},l)})}function g(h){h.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function mi(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return ua(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function xd(t,e){const n=t.scroll==="x"?o:a,r=e.style;let s=null,i=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function a(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(i)return;const h=j2(t.direction(f));h!==s&&(r.transform=n(h),s=h)}function c(f){i=!f}function d(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function um(t,e,n,r,s,i,o,a,l){const d=Ri(s),g=Ri(s).reverse(),f=_().concat(p());function h(F,k){return F.reduce((N,A)=>N-s[A],k)}function u(F,k){return F.reduce((N,A)=>h(N,k)>0?N.concat([A]):N,[])}function m(F){return i.map((k,N)=>({start:k-r[N]+.5+F,end:k+e-.5+F}))}function b(F,k,N){const A=m(k);return F.map(T=>{const P=N?0:-n,y=N?n:0,x=N?"end":"start",C=A[T][x];return{index:T,loopPoint:C,slideLocation:mi(-1),translate:xd(t,l[T]),target:()=>a.get()>C?P:y}})}function _(){const F=o[0],k=u(g,F);return b(k,n,!1)}function p(){const F=e-o[0]-1,k=u(d,F);return b(k,-n,!0)}function v(){return f.every(({index:F})=>{const k=d.filter(N=>N!==F);return h(k,e)<=.1})}function w(){f.forEach(F=>{const{target:k,translate:N,slideLocation:A}=F,T=k();T!==A.get()&&(N.to(T),A.set(T))})}function S(){f.forEach(F=>F.translate.clear())}return{canLoop:v,clear:S,loop:w,loopPoints:f}}function dm(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(d){for(const g of d)if(g.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(Do(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function fm(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(u=>{l||(u.forEach(m=>{const b=e.indexOf(m.target);s[b]=m}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(u=>a.observe(u))}function d(){a&&a.disconnect(),l=!0}function g(u){return Oi(s).reduce((m,b)=>{const _=parseInt(b),{isIntersecting:p}=s[_];return(u&&p||!u&&!p)&&m.push(_),m},[])}function f(u=!0){if(u&&i)return i;if(!u&&o)return o;const m=g(u);return u&&(i=m),u||(o=m),m}return{init:c,destroy:d,get:f}}function hm(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,d=u(),g=m(),f=n.map(o),h=b();function u(){if(!c)return 0;const p=n[0];return qt(e[a]-p[a])}function m(){if(!c)return 0;const p=i.getComputedStyle(Te(r));return parseFloat(p.getPropertyValue(`margin-${l}`))}function b(){return n.map((p,v,w)=>{const S=!v,E=fa(w,v);return S?f[v]+d:E?f[v]+g:w[v+1][a]-p[a]}).map(qt)}return{slideSizes:f,slideSizesWithGaps:h,startGap:d,endGap:g}}function gm(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:d,direction:g}=t,f=ua(n);function h(_,p){return Ri(_).filter(v=>v%p===0).map(v=>_.slice(v,v+p))}function u(_){return _.length?Ri(_).reduce((p,v,w)=>{const S=Te(p)||0,E=S===0,F=v===ji(_),k=s[c]-i[S][c],N=s[c]-i[v][d],A=!r&&E?g(o):0,T=!r&&F?g(a):0,P=qt(N-T-(k+A));return w&&P>e+l&&p.push(v),F&&p.push(_.length),p},[]).map((p,v,w)=>{const S=Math.max(w[v-1]||0);return _.slice(S,p)}):[]}function m(_){return f?h(_,n):u(_)}return{groupSlides:m}}function pm(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:d,loop:g,duration:f,dragFree:h,dragThreshold:u,inViewThreshold:m,slidesToScroll:b,skipSnaps:_,containScroll:p,watchResize:v,watchSlides:w,watchDrag:S,watchFocus:E}=i,F=2,k=J2(),N=k.measure(e),A=n.map(k.measure),T=Y2(l,c),P=T.measureSize(N),y=Q2(P),x=H2(a,P),C=!g&&!!p,R=g||!!p,{slideSizes:O,slideSizesWithGaps:G,startGap:I,endGap:W}=hm(T,N,A,n,R,s),M=gm(T,P,b,g,N,A,I,W,F),{snaps:D,snapsAligned:z}=om(T,x,N,A,M),j=-Te(D)+Te(G),{snapsContained:X,scrollContainLimit:J}=em(P,j,z,p,F),L=C?X:z,{limit:B}=nm(j,L,g),H=Sd(ji(L),d,g),Q=H.clone(),Z=Ri(n),V=({dragHandler:Ht,scrollBody:ye,scrollBounds:Gn,options:{loop:Ce}})=>{Ce||Gn.constrain(Ht.pointerDown()),ye.seek()},Y=({scrollBody:Ht,translate:ye,location:Gn,offsetLocation:Ce,previousLocation:Ne,scrollLooper:rn,slideLooper:Vo,dragHandler:Md,animation:Nd,eventHandler:ya,scrollBounds:Ld,options:{loop:_a}},wa)=>{const Sa=Ht.settled(),Id=!Ld.shouldConstrain(),xa=_a?Sa:Sa&&Id;xa&&!Md.pointerDown()&&(Nd.stop(),ya.emit("settle")),xa||ya.emit("scroll");const Dd=Gn.get()*wa+Ne.get()*(1-wa);Ce.set(Dd),_a&&(rn.loop(Ht.direction()),Vo.loop()),ye.to(Ce.get())},$=q2(r,s,()=>V(ce),Ht=>Y(ce,Ht)),et=.68,ct=L[H.get()],tt=mi(ct),st=mi(ct),Ct=mi(ct),Tt=mi(ct),ht=$2(tt,Ct,st,Tt,f,et),wt=am(g,L,j,B,Tt),lt=lm($,H,Q,ht,wt,Tt,o),Yt=im(B),Jt=Fi(),Pt=fm(e,n,o,m),{slideRegistry:Et}=sm(C,p,L,J,M,Z),ee=cm(t,n,Et,lt,ht,Jt,o,E),ce={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:N,slideRects:A,animation:$,axis:T,dragHandler:X2(T,t,r,s,Tt,K2(T,s),tt,$,lt,ht,wt,H,o,y,h,u,_,et,S),eventStore:Jt,percentOfView:y,index:H,indexPrevious:Q,limit:B,location:tt,offsetLocation:Ct,previousLocation:st,options:i,resizeHandler:Z2(e,o,s,n,T,v,k),scrollBody:ht,scrollBounds:tm(B,Ct,Tt,ht,y),scrollLooper:rm(j,B,Ct,[tt,Ct,st,Tt]),scrollProgress:Yt,scrollSnapList:L.map(Yt.get),scrollSnaps:L,scrollTarget:wt,scrollTo:lt,slideLooper:um(T,P,j,O,G,D,L,Ct,n),slideFocus:ee,slidesHandler:dm(e,o,w),slidesInView:Pt,slideIndexes:Z,slideRegistry:Et,slidesToScroll:M,target:Tt,translate:xd(T,e)};return ce}function mm(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(d=>d(e,c)),l}function i(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(g=>g!==d),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const vm={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function bm(t){function e(i,o){return wd(i,o||{})}function n(i){const o=i.breakpoints||{},a=Oi(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>Oi(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function ym(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function _o(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=bm(s),o=ym(i),a=Fi(),l=mm(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:g}=i,{on:f,off:h,emit:u}=l,m=T;let b=!1,_,p=c(vm,_o.globalOptions),v=c(p),w=[],S,E,F;function k(){const{container:Z,slides:V}=v;E=(Is(Z)?t.querySelector(Z):Z)||t.children[0];const $=Is(V)?E.querySelectorAll(V):V;F=[].slice.call($||E.children)}function N(Z){const V=pm(t,E,F,r,s,Z,l);if(Z.loop&&!V.slideLooper.canLoop()){const Y=Object.assign({},Z,{loop:!1});return N(Y)}return V}function A(Z,V){b||(p=c(p,Z),v=d(p),w=V||w,k(),_=N(v),g([p,...w.map(({options:Y})=>Y)]).forEach(Y=>a.add(Y,"change",T)),v.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(Q),_.eventHandler.init(Q),_.resizeHandler.init(Q),_.slidesHandler.init(Q),_.options.loop&&_.slideLooper.loop(),E.offsetParent&&F.length&&_.dragHandler.init(Q),S=o.init(Q,w)))}function T(Z,V){const Y=M();P(),A(c({startIndex:Y},Z),V),l.emit("reInit")}function P(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),a.clear()}function y(){b||(b=!0,a.clear(),P(),l.emit("destroy"),l.clear())}function x(Z,V,Y){!v.active||b||(_.scrollBody.useBaseFriction().useDuration(V===!0?0:v.duration),_.scrollTo.index(Z,Y||0))}function C(Z){const V=_.index.add(1).get();x(V,Z,-1)}function R(Z){const V=_.index.add(-1).get();x(V,Z,1)}function O(){return _.index.add(1).get()!==M()}function G(){return _.index.add(-1).get()!==M()}function I(){return _.scrollSnapList}function W(){return _.scrollProgress.get(_.location.get())}function M(){return _.index.get()}function D(){return _.indexPrevious.get()}function z(){return _.slidesInView.get()}function j(){return _.slidesInView.get(!1)}function X(){return S}function J(){return _}function L(){return t}function B(){return E}function H(){return F}const Q={canScrollNext:O,canScrollPrev:G,containerNode:B,internalEngine:J,destroy:y,off:h,on:f,emit:u,plugins:X,previousScrollSnap:D,reInit:m,rootNode:L,scrollNext:C,scrollPrev:R,scrollProgress:W,scrollSnapList:I,scrollTo:x,selectedScrollSnap:M,slideNodes:H,slidesInView:z,slidesNotInView:j};return A(e,n),setTimeout(()=>l.emit("init"),0),Q}_o.globalOptions=void 0;function _i(t,e={options:{},plugins:[]}){let n=e,r;return U2()&&(_o.globalOptions=_i.globalOptions,r=_o(t,n.options,n.plugins),r.on("init",()=>t.dispatchEvent(new CustomEvent("emblaInit",{detail:r})))),{destroy:()=>{r&&r.destroy()},update:s=>{const i=!ca(n.options,s.options),o=!z2(n.plugins,s.plugins);!i&&!o||(n=s,r&&r.reInit(n.options,n.plugins))}}}_i.globalOptions=void 0;var _m=At('<div class="overflow-hidden"><div><!></div></div>');function kl(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class"]);mt(e,!1);const s=Qt(),i=()=>Ft(d,"$options",s),o=()=>Ft(c,"$orientation",s),a=()=>Ft(g,"$plugins",s);let l=q(e,"class",8,void 0);const{orientation:c,options:d,plugins:g,onInit:f}=_d("<Carousel.Content/>");te();var h=_m(),u=Dt(h);let m;var b=Dt(u);It(b,e,"default",{},null),Ie(h,(_,p)=>_i==null?void 0:_i(_,p),()=>({options:{container:"[data-embla-container]",slides:"[data-embla-slide]",...i(),axis:o()==="horizontal"?"x":"y"},plugins:a()})),Bt(()=>ot("emblaInit",h,f)),Ot(()=>m=ne(u,m,{class:He("flex",o()==="horizontal"?"-ml-4":"-mt-4 flex-col",l()),"data-embla-container":"",...r})),K(t,h),vt()}var wm=At("<div><!></div>");function rs(t,e){const n=xt(e,["children","$$slots","$$events","$$legacy"]),r=xt(n,["class"]);mt(e,!1);const s=Qt(),i=()=>Ft(a,"$orientation",s);let o=q(e,"class",8,void 0);const{orientation:a}=_d("<Carousel.Item/>");te();var l=wm();let c;var d=Dt(l);It(d,e,"default",{},null),Ot(()=>c=ne(l,c,{role:"group","aria-roledescription":"slide",class:He("min-w-0 shrink-0 grow-0 basis-full",i()==="horizontal"?"pl-4":"pt-4",o()),"data-embla-slide":"",...r})),K(t,l),vt()}var io={exports:{}},Er={},is={},os={},Tl;function pt(){return Tl||(Tl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Ua<"u"?Ua:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.16",isBrowser:n(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return t.Konva.angleDeg?s*e:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var s;return(s=t.Konva.Transformer)===null||s===void 0?void 0:s.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(s){t.glob.Konva=s}};const r=s=>{t.Konva[s.prototype.getClassName()]=s};t._registerNode=r,t.Konva._injectGlobal(t.Konva)}(os)),os}var ss={},Pl;function Kt(){return Pl||(Pl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=pt();class n{constructor(w=[1,0,0,1,0,0]){this.dirty=!1,this.m=w&&w.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(w){w.m[0]=this.m[0],w.m[1]=this.m[1],w.m[2]=this.m[2],w.m[3]=this.m[3],w.m[4]=this.m[4],w.m[5]=this.m[5]}point(w){const S=this.m;return{x:S[0]*w.x+S[2]*w.y+S[4],y:S[1]*w.x+S[3]*w.y+S[5]}}translate(w,S){return this.m[4]+=this.m[0]*w+this.m[2]*S,this.m[5]+=this.m[1]*w+this.m[3]*S,this}scale(w,S){return this.m[0]*=w,this.m[1]*=w,this.m[2]*=S,this.m[3]*=S,this}rotate(w){const S=Math.cos(w),E=Math.sin(w),F=this.m[0]*S+this.m[2]*E,k=this.m[1]*S+this.m[3]*E,N=this.m[0]*-E+this.m[2]*S,A=this.m[1]*-E+this.m[3]*S;return this.m[0]=F,this.m[1]=k,this.m[2]=N,this.m[3]=A,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(w,S){const E=this.m[0]+this.m[2]*S,F=this.m[1]+this.m[3]*S,k=this.m[2]+this.m[0]*w,N=this.m[3]+this.m[1]*w;return this.m[0]=E,this.m[1]=F,this.m[2]=k,this.m[3]=N,this}multiply(w){const S=this.m[0]*w.m[0]+this.m[2]*w.m[1],E=this.m[1]*w.m[0]+this.m[3]*w.m[1],F=this.m[0]*w.m[2]+this.m[2]*w.m[3],k=this.m[1]*w.m[2]+this.m[3]*w.m[3],N=this.m[0]*w.m[4]+this.m[2]*w.m[5]+this.m[4],A=this.m[1]*w.m[4]+this.m[3]*w.m[5]+this.m[5];return this.m[0]=S,this.m[1]=E,this.m[2]=F,this.m[3]=k,this.m[4]=N,this.m[5]=A,this}invert(){const w=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),S=this.m[3]*w,E=-this.m[1]*w,F=-this.m[2]*w,k=this.m[0]*w,N=w*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),A=w*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=S,this.m[1]=E,this.m[2]=F,this.m[3]=k,this.m[4]=N,this.m[5]=A,this}getMatrix(){return this.m}decompose(){const w=this.m[0],S=this.m[1],E=this.m[2],F=this.m[3],k=this.m[4],N=this.m[5],A=w*F-S*E,T={x:k,y:N,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(w!=0||S!=0){const P=Math.sqrt(w*w+S*S);T.rotation=S>0?Math.acos(w/P):-Math.acos(w/P),T.scaleX=P,T.scaleY=A/P,T.skewX=(w*E+S*F)/A,T.skewY=0}else if(E!=0||F!=0){const P=Math.sqrt(E*E+F*F);T.rotation=Math.PI/2-(F>0?Math.acos(-E/P):-Math.acos(E/P)),T.scaleX=A/P,T.scaleY=P,T.skewX=0,T.skewY=(w*E+S*F)/A}return T.rotation=t.Util._getRotation(T.rotation),T}}t.Transform=n;let r="[object Array]",s="[object Number]",i="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,c="#",d="",g="0",f="Konva warning: ",h="Konva error: ",u="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,_=[];const p=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(v){setTimeout(v,60)};t.Util={_isElement(v){return!!(v&&v.nodeType==1)},_isFunction(v){return!!(v&&v.constructor&&v.call&&v.apply)},_isPlainObject(v){return!!v&&v.constructor===Object},_isArray(v){return Object.prototype.toString.call(v)===r},_isNumber(v){return Object.prototype.toString.call(v)===s&&!isNaN(v)&&isFinite(v)},_isString(v){return Object.prototype.toString.call(v)===i},_isBoolean(v){return Object.prototype.toString.call(v)===o},isObject(v){return v instanceof Object},isValidSelector(v){if(typeof v!="string")return!1;const w=v[0];return w==="#"||w==="."||w===w.toUpperCase()},_sign(v){return v===0||v>0?1:-1},requestAnimFrame(v){_.push(v),_.length===1&&p(function(){const w=_;_=[],w.forEach(function(S){S()})})},createCanvasElement(){const v=document.createElement("canvas");try{v.style=v.style||{}}catch{}return v},createImageElement(){return document.createElement("img")},_isInDocument(v){for(;v=v.parentNode;)if(v==document)return!0;return!1},_urlToImage(v,w){const S=t.Util.createImageElement();S.onload=function(){w(S)},S.src=v},_rgbToHex(v,w,S){return((1<<24)+(v<<16)+(w<<8)+S).toString(16).slice(1)},_hexToRgb(v){v=v.replace(c,d);const w=parseInt(v,16);return{r:w>>16&255,g:w>>8&255,b:w&255}},getRandomColor(){let v=(Math.random()*16777215<<0).toString(16);for(;v.length<6;)v=g+v;return c+v},getRGB(v){let w;return v in m?(w=m[v],{r:w[0],g:w[1],b:w[2]}):v[0]===c?this._hexToRgb(v.substring(1)):v.substr(0,4)===u?(w=b.exec(v.replace(/ /g,"")),{r:parseInt(w[1],10),g:parseInt(w[2],10),b:parseInt(w[3],10)}):{r:0,g:0,b:0}},colorToRGBA(v){return v=v||"black",t.Util._namedColorToRBA(v)||t.Util._hex3ColorToRGBA(v)||t.Util._hex4ColorToRGBA(v)||t.Util._hex6ColorToRGBA(v)||t.Util._hex8ColorToRGBA(v)||t.Util._rgbColorToRGBA(v)||t.Util._rgbaColorToRGBA(v)||t.Util._hslColorToRGBA(v)},_namedColorToRBA(v){const w=m[v.toLowerCase()];return w?{r:w[0],g:w[1],b:w[2],a:1}:null},_rgbColorToRGBA(v){if(v.indexOf("rgb(")===0){v=v.match(/rgb\(([^)]+)\)/)[1];const w=v.split(/ *, */).map(Number);return{r:w[0],g:w[1],b:w[2],a:1}}},_rgbaColorToRGBA(v){if(v.indexOf("rgba(")===0){v=v.match(/rgba\(([^)]+)\)/)[1];const w=v.split(/ *, */).map((S,E)=>S.slice(-1)==="%"?E===3?parseInt(S)/100:parseInt(S)/100*255:Number(S));return{r:w[0],g:w[1],b:w[2],a:w[3]}}},_hex8ColorToRGBA(v){if(v[0]==="#"&&v.length===9)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:parseInt(v.slice(7,9),16)/255}},_hex6ColorToRGBA(v){if(v[0]==="#"&&v.length===7)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:1}},_hex4ColorToRGBA(v){if(v[0]==="#"&&v.length===5)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:parseInt(v[4]+v[4],16)/255}},_hex3ColorToRGBA(v){if(v[0]==="#"&&v.length===4)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:1}},_hslColorToRGBA(v){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(v)){const[w,...S]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(v),E=Number(S[0])/360,F=Number(S[1])/100,k=Number(S[2])/100;let N,A,T;if(F===0)return T=k*255,{r:Math.round(T),g:Math.round(T),b:Math.round(T),a:1};k<.5?N=k*(1+F):N=k+F-k*F;const P=2*k-N,y=[0,0,0];for(let x=0;x<3;x++)A=E+1/3*-(x-1),A<0&&A++,A>1&&A--,6*A<1?T=P+(N-P)*6*A:2*A<1?T=N:3*A<2?T=P+(N-P)*(2/3-A)*6:T=P,y[x]=T*255;return{r:Math.round(y[0]),g:Math.round(y[1]),b:Math.round(y[2]),a:1}}},haveIntersection(v,w){return!(w.x>v.x+v.width||w.x+w.width<v.x||w.y>v.y+v.height||w.y+w.height<v.y)},cloneObject(v){const w={};for(const S in v)this._isPlainObject(v[S])?w[S]=this.cloneObject(v[S]):this._isArray(v[S])?w[S]=this.cloneArray(v[S]):w[S]=v[S];return w},cloneArray(v){return v.slice(0)},degToRad(v){return v*a},radToDeg(v){return v*l},_degToRad(v){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(v)},_radToDeg(v){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(v)},_getRotation(v){return e.Konva.angleDeg?t.Util.radToDeg(v):v},_capitalize(v){return v.charAt(0).toUpperCase()+v.slice(1)},throw(v){throw new Error(h+v)},error(v){console.error(h+v)},warn(v){e.Konva.showWarnings&&console.warn(f+v)},each(v,w){for(const S in v)w(S,v[S])},_inRange(v,w,S){return w<=v&&v<S},_getProjectionToSegment(v,w,S,E,F,k){let N,A,T;const P=(v-S)*(v-S)+(w-E)*(w-E);if(P==0)N=v,A=w,T=(F-S)*(F-S)+(k-E)*(k-E);else{const y=((F-v)*(S-v)+(k-w)*(E-w))/P;y<0?(N=v,A=w,T=(v-F)*(v-F)+(w-k)*(w-k)):y>1?(N=S,A=E,T=(S-F)*(S-F)+(E-k)*(E-k)):(N=v+y*(S-v),A=w+y*(E-w),T=(N-F)*(N-F)+(A-k)*(A-k))}return[N,A,T]},_getProjectionToLine(v,w,S){const E=t.Util.cloneObject(v);let F=Number.MAX_VALUE;return w.forEach(function(k,N){if(!S&&N===w.length-1)return;const A=w[(N+1)%w.length],T=t.Util._getProjectionToSegment(k.x,k.y,A.x,A.y,v.x,v.y),P=T[0],y=T[1],x=T[2];x<F&&(E.x=P,E.y=y,F=x)}),E},_prepareArrayForTween(v,w,S){let E,F=[],k=[];if(v.length>w.length){const A=w;w=v,v=A}for(E=0;E<v.length;E+=2)F.push({x:v[E],y:v[E+1]});for(E=0;E<w.length;E+=2)k.push({x:w[E],y:w[E+1]});const N=[];return k.forEach(function(A){const T=t.Util._getProjectionToLine(A,F,S);N.push(T.x),N.push(T.y)}),N},_prepareToStringify(v){let w;v.visitedByCircularReferenceRemoval=!0;for(const S in v)if(v.hasOwnProperty(S)&&v[S]&&typeof v[S]=="object"){if(w=Object.getOwnPropertyDescriptor(v,S),v[S].visitedByCircularReferenceRemoval||t.Util._isElement(v[S]))if(w.configurable)delete v[S];else return null;else if(t.Util._prepareToStringify(v[S])===null)if(w.configurable)delete v[S];else return null}return delete v.visitedByCircularReferenceRemoval,v},_assign(v,w){for(const S in w)v[S]=w[S];return v},_getFirstPointerId(v){return v.touches?v.changedTouches[0].identifier:v.pointerId||999},releaseCanvas(...v){e.Konva.releaseCanvasOnDestroy&&v.forEach(w=>{w.width=0,w.height=0})},drawRoundedRectPath(v,w,S,E){let F=0,k=0,N=0,A=0;typeof E=="number"?F=k=N=A=Math.min(E,w/2,S/2):(F=Math.min(E[0]||0,w/2,S/2),k=Math.min(E[1]||0,w/2,S/2),A=Math.min(E[2]||0,w/2,S/2),N=Math.min(E[3]||0,w/2,S/2)),v.moveTo(F,0),v.lineTo(w-k,0),v.arc(w-k,k,k,Math.PI*3/2,0,!1),v.lineTo(w,S-A),v.arc(w-A,S-A,A,0,Math.PI/2,!1),v.lineTo(N,S),v.arc(N,S-N,N,Math.PI/2,Math.PI,!1),v.lineTo(0,F),v.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}}(ss)),ss}var kr={},as={},ue={},Rl;function _t(){if(Rl)return ue;Rl=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.RGBComponent=r,ue.alphaComponent=s,ue.getNumberValidator=i,ue.getNumberOrArrayOfNumbersValidator=o,ue.getNumberOrAutoValidator=a,ue.getStringValidator=l,ue.getStringOrGradientValidator=c,ue.getFunctionValidator=d,ue.getNumberArrayValidator=g,ue.getBooleanValidator=f,ue.getComponentValidator=h;const t=pt(),e=Kt();function n(u){return e.Util._isString(u)?'"'+u+'"':Object.prototype.toString.call(u)==="[object Number]"||e.Util._isBoolean(u)?u:Object.prototype.toString.call(u)}function r(u){return u>255?255:u<0?0:Math.round(u)}function s(u){return u>1?1:u<1e-4?1e-4:u}function i(){if(t.Konva.isUnminified)return function(u,m){return e.Util._isNumber(u)||e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a number.'),u}}function o(u){if(t.Konva.isUnminified)return function(m,b){const _=e.Util._isNumber(m),p=e.Util._isArray(m)&&m.length==u;return!_&&!p&&e.Util.warn(n(m)+' is a not valid value for "'+b+'" attribute. The value should be a number or Array<number>('+u+")"),m}}function a(){if(t.Konva.isUnminified)return function(u,m){return e.Util._isNumber(u)||u==="auto"||e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a number or "auto".'),u}}function l(){if(t.Konva.isUnminified)return function(u,m){return e.Util._isString(u)||e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a string.'),u}}function c(){if(t.Konva.isUnminified)return function(u,m){const b=e.Util._isString(u),_=Object.prototype.toString.call(u)==="[object CanvasGradient]"||u&&u.addColorStop;return b||_||e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a string or a native gradient.'),u}}function d(){if(t.Konva.isUnminified)return function(u,m){return e.Util._isFunction(u)||e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a function.'),u}}function g(){if(t.Konva.isUnminified)return function(u,m){const b=Int8Array?Object.getPrototypeOf(Int8Array):null;return b&&u instanceof b||(e.Util._isArray(u)?u.forEach(function(_){e.Util._isNumber(_)||e.Util.warn('"'+m+'" attribute has non numeric element '+_+". Make sure that all elements are numbers.")}):e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a array of numbers.')),u}}function f(){if(t.Konva.isUnminified)return function(u,m){return u===!0||u===!1||e.Util.warn(n(u)+' is a not valid value for "'+m+'" attribute. The value should be a boolean.'),u}}function h(u){if(t.Konva.isUnminified)return function(m,b){return m==null||e.Util.isObject(m)||e.Util.warn(n(m)+' is a not valid value for "'+b+'" attribute. The value should be an object with properties '+u),m}}return ue}var Ol;function bt(){return Ol||(Ol=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Kt(),n=_t(),r="get",s="set";t.Factory={addGetterSetter(i,o,a,l,c){t.Factory.addGetter(i,o,a),t.Factory.addSetter(i,o,l,c),t.Factory.addOverloadedGetterSetter(i,o)},addGetter(i,o,a){const l=r+e.Util._capitalize(o);i.prototype[l]=i.prototype[l]||function(){const c=this.attrs[o];return c===void 0?a:c}},addSetter(i,o,a,l){const c=s+e.Util._capitalize(o);i.prototype[c]||t.Factory.overWriteSetter(i,o,a,l)},overWriteSetter(i,o,a,l){const c=s+e.Util._capitalize(o);i.prototype[c]=function(d){return a&&d!==void 0&&d!==null&&(d=a.call(this,d,o)),this._setAttr(o,d),l&&l.call(this),this}},addComponentsGetterSetter(i,o,a,l,c){let d=a.length,g=e.Util._capitalize,f=r+g(o),h=s+g(o),u,m;i.prototype[f]=function(){const _={};for(u=0;u<d;u++)m=a[u],_[m]=this.getAttr(o+g(m));return _};const b=(0,n.getComponentValidator)(a);i.prototype[h]=function(_){let p=this.attrs[o],v;l&&(_=l.call(this,_)),b&&b.call(this,_,o);for(v in _)_.hasOwnProperty(v)&&this._setAttr(o+g(v),_[v]);return _||a.forEach(w=>{this._setAttr(o+g(w),void 0)}),this._fireChangeEvent(o,p,_),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(i,o)},addOverloadedGetterSetter(i,o){const a=e.Util._capitalize(o),l=s+a,c=r+a;i.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(i,o,a,l){e.Util.error("Adding deprecated "+o);const c=r+e.Util._capitalize(o),d=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[c]=function(){e.Util.error(d);const g=this.attrs[o];return g===void 0?a:g},t.Factory.addSetter(i,o,l,function(){e.Util.error(d)}),t.Factory.addOverloadedGetterSetter(i,o)},backCompat(i,o){e.Util.each(o,function(a,l){const c=i.prototype[l],d=r+e.Util._capitalize(a),g=s+e.Util._capitalize(a);function f(){c.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}i.prototype[a]=f,i.prototype[d]=f,i.prototype[g]=f})},afterSetFilter(){this._filterUpToDate=!1}}}(as)),as}var Ke={},Je={},Fl;function Cd(){if(Fl)return Je;Fl=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.HitContext=Je.SceneContext=Je.Context=void 0;const t=Kt(),e=pt();function n(_){let p=[],v=_.length,w=t.Util,S,E;for(S=0;S<v;S++)E=_[S],w._isNumber(E)?E=Math.round(E*1e3)/1e3:w._isString(E)||(E=E+""),p.push(E);return p}const r=",",s="(",i=")",o="([",a="])",l=";",c="()",d="=",g=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],f=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],h=100;let u=class{constructor(p){this.canvas=p,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(p){p.fillEnabled()&&this._fill(p)}_fill(p){}strokeShape(p){p.hasStroke()&&this._stroke(p)}_stroke(p){}fillStrokeShape(p){p.attrs.fillAfterStrokeEnabled?(this.strokeShape(p),this.fillShape(p)):(this.fillShape(p),this.strokeShape(p))}getTrace(p,v){let w=this.traceArr,S=w.length,E="",F,k,N,A;for(F=0;F<S;F++)k=w[F],N=k.method,N?(A=k.args,E+=N,p?E+=c:t.Util._isArray(A[0])?E+=o+A.join(r)+a:(v&&(A=A.map(T=>typeof T=="number"?Math.floor(T):T)),E+=s+A.join(r)+i)):(E+=k.property,p||(E+=d+k.val)),E+=l;return E}clearTrace(){this.traceArr=[]}_trace(p){let v=this.traceArr,w;v.push(p),w=v.length,w>=h&&v.shift()}reset(){const p=this.getCanvas().getPixelRatio();this.setTransform(1*p,0,0,1*p,0,0)}getCanvas(){return this.canvas}clear(p){const v=this.getCanvas();p?this.clearRect(p.x||0,p.y||0,p.width||0,p.height||0):this.clearRect(0,0,v.getWidth()/v.pixelRatio,v.getHeight()/v.pixelRatio)}_applyLineCap(p){const v=p.attrs.lineCap;v&&this.setAttr("lineCap",v)}_applyOpacity(p){const v=p.getAbsoluteOpacity();v!==1&&this.setAttr("globalAlpha",v)}_applyLineJoin(p){const v=p.attrs.lineJoin;v&&this.setAttr("lineJoin",v)}setAttr(p,v){this._context[p]=v}arc(p,v,w,S,E,F){this._context.arc(p,v,w,S,E,F)}arcTo(p,v,w,S,E){this._context.arcTo(p,v,w,S,E)}beginPath(){this._context.beginPath()}bezierCurveTo(p,v,w,S,E,F){this._context.bezierCurveTo(p,v,w,S,E,F)}clearRect(p,v,w,S){this._context.clearRect(p,v,w,S)}clip(...p){this._context.clip.apply(this._context,p)}closePath(){this._context.closePath()}createImageData(p,v){const w=arguments;if(w.length===2)return this._context.createImageData(p,v);if(w.length===1)return this._context.createImageData(p)}createLinearGradient(p,v,w,S){return this._context.createLinearGradient(p,v,w,S)}createPattern(p,v){return this._context.createPattern(p,v)}createRadialGradient(p,v,w,S,E,F){return this._context.createRadialGradient(p,v,w,S,E,F)}drawImage(p,v,w,S,E,F,k,N,A){const T=arguments,P=this._context;T.length===3?P.drawImage(p,v,w):T.length===5?P.drawImage(p,v,w,S,E):T.length===9&&P.drawImage(p,v,w,S,E,F,k,N,A)}ellipse(p,v,w,S,E,F,k,N){this._context.ellipse(p,v,w,S,E,F,k,N)}isPointInPath(p,v,w,S){return w?this._context.isPointInPath(w,p,v,S):this._context.isPointInPath(p,v,S)}fill(...p){this._context.fill.apply(this._context,p)}fillRect(p,v,w,S){this._context.fillRect(p,v,w,S)}strokeRect(p,v,w,S){this._context.strokeRect(p,v,w,S)}fillText(p,v,w,S){S?this._context.fillText(p,v,w,S):this._context.fillText(p,v,w)}measureText(p){return this._context.measureText(p)}getImageData(p,v,w,S){return this._context.getImageData(p,v,w,S)}lineTo(p,v){this._context.lineTo(p,v)}moveTo(p,v){this._context.moveTo(p,v)}rect(p,v,w,S){this._context.rect(p,v,w,S)}roundRect(p,v,w,S,E){this._context.roundRect(p,v,w,S,E)}putImageData(p,v,w){this._context.putImageData(p,v,w)}quadraticCurveTo(p,v,w,S){this._context.quadraticCurveTo(p,v,w,S)}restore(){this._context.restore()}rotate(p){this._context.rotate(p)}save(){this._context.save()}scale(p,v){this._context.scale(p,v)}setLineDash(p){this._context.setLineDash?this._context.setLineDash(p):"mozDash"in this._context?this._context.mozDash=p:"webkitLineDash"in this._context&&(this._context.webkitLineDash=p)}getLineDash(){return this._context.getLineDash()}setTransform(p,v,w,S,E,F){this._context.setTransform(p,v,w,S,E,F)}stroke(p){p?this._context.stroke(p):this._context.stroke()}strokeText(p,v,w,S){this._context.strokeText(p,v,w,S)}transform(p,v,w,S,E,F){this._context.transform(p,v,w,S,E,F)}translate(p,v){this._context.translate(p,v)}_enableTrace(){let p=this,v=g.length,w=this.setAttr,S,E;const F=function(k){let N=p[k],A;p[k]=function(){return E=n(Array.prototype.slice.call(arguments,0)),A=N.apply(p,arguments),p._trace({method:k,args:E}),A}};for(S=0;S<v;S++)F(g[S]);p.setAttr=function(){w.apply(p,arguments);const k=arguments[0];let N=arguments[1];(k==="shadowOffsetX"||k==="shadowOffsetY"||k==="shadowBlur")&&(N=N/this.canvas.getPixelRatio()),p._trace({property:k,val:N})}}_applyGlobalCompositeOperation(p){const v=p.attrs.globalCompositeOperation;!v||v==="source-over"||this.setAttr("globalCompositeOperation",v)}};Je.Context=u,f.forEach(function(_){Object.defineProperty(u.prototype,_,{get(){return this._context[_]},set(p){this._context[_]=p}})});class m extends u{constructor(p,{willReadFrequently:v=!1}={}){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:v})}_fillColor(p){const v=p.fill();this.setAttr("fillStyle",v),p._fillFunc(this)}_fillPattern(p){this.setAttr("fillStyle",p._getFillPattern()),p._fillFunc(this)}_fillLinearGradient(p){const v=p._getLinearGradient();v&&(this.setAttr("fillStyle",v),p._fillFunc(this))}_fillRadialGradient(p){const v=p._getRadialGradient();v&&(this.setAttr("fillStyle",v),p._fillFunc(this))}_fill(p){const v=p.fill(),w=p.getFillPriority();if(v&&w==="color"){this._fillColor(p);return}const S=p.getFillPatternImage();if(S&&w==="pattern"){this._fillPattern(p);return}const E=p.getFillLinearGradientColorStops();if(E&&w==="linear-gradient"){this._fillLinearGradient(p);return}const F=p.getFillRadialGradientColorStops();if(F&&w==="radial-gradient"){this._fillRadialGradient(p);return}v?this._fillColor(p):S?this._fillPattern(p):E?this._fillLinearGradient(p):F&&this._fillRadialGradient(p)}_strokeLinearGradient(p){const v=p.getStrokeLinearGradientStartPoint(),w=p.getStrokeLinearGradientEndPoint(),S=p.getStrokeLinearGradientColorStops(),E=this.createLinearGradient(v.x,v.y,w.x,w.y);if(S){for(let F=0;F<S.length;F+=2)E.addColorStop(S[F],S[F+1]);this.setAttr("strokeStyle",E)}}_stroke(p){const v=p.dash(),w=p.getStrokeScaleEnabled();if(p.hasStroke()){if(!w){this.save();const E=this.getCanvas().getPixelRatio();this.setTransform(E,0,0,E,0,0)}this._applyLineCap(p),v&&p.dashEnabled()&&(this.setLineDash(v),this.setAttr("lineDashOffset",p.dashOffset())),this.setAttr("lineWidth",p.strokeWidth()),p.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),p.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(p):this.setAttr("strokeStyle",p.stroke()),p._strokeFunc(this),w||this.restore()}}_applyShadow(p){var v,w,S;const E=(v=p.getShadowRGBA())!==null&&v!==void 0?v:"black",F=(w=p.getShadowBlur())!==null&&w!==void 0?w:5,k=(S=p.getShadowOffset())!==null&&S!==void 0?S:{x:0,y:0},N=p.getAbsoluteScale(),A=this.canvas.getPixelRatio(),T=N.x*A,P=N.y*A;this.setAttr("shadowColor",E),this.setAttr("shadowBlur",F*Math.min(Math.abs(T),Math.abs(P))),this.setAttr("shadowOffsetX",k.x*T),this.setAttr("shadowOffsetY",k.y*P)}}Je.SceneContext=m;class b extends u{constructor(p){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:!0})}_fill(p){this.save(),this.setAttr("fillStyle",p.colorKey),p._fillFuncHit(this),this.restore()}strokeShape(p){p.hasHitStroke()&&this._stroke(p)}_stroke(p){if(p.hasHitStroke()){const v=p.getStrokeScaleEnabled();if(!v){this.save();const E=this.getCanvas().getPixelRatio();this.setTransform(E,0,0,E,0,0)}this._applyLineCap(p);const w=p.hitStrokeWidth(),S=w==="auto"?p.strokeWidth():w;this.setAttr("lineWidth",S),this.setAttr("strokeStyle",p.colorKey),p._strokeFuncHit(this),v||this.restore()}}}return Je.HitContext=b,Je}var Ml;function Go(){if(Ml)return Ke;Ml=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.HitCanvas=Ke.SceneCanvas=Ke.Canvas=void 0;const t=Kt(),e=Cd(),n=pt(),r=bt(),s=_t();let i;function o(){if(i)return i;const d=t.Util.createCanvasElement(),g=d.getContext("2d");return i=function(){const f=n.Konva._global.devicePixelRatio||1,h=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1;return f/h}(),t.Util.releaseCanvas(d),i}class a{constructor(g){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const h=(g||{}).pixelRatio||n.Konva.pixelRatio||o();this.pixelRatio=h,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(g){const f=this.pixelRatio;this.pixelRatio=g,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(g){this.width=this._canvas.width=g*this.pixelRatio,this._canvas.style.width=g+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(g){this.height=this._canvas.height=g*this.pixelRatio,this._canvas.style.height=g+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(g,f){this.setWidth(g||0),this.setHeight(f||0)}toDataURL(g,f){try{return this._canvas.toDataURL(g,f)}catch{try{return this._canvas.toDataURL()}catch(u){return t.Util.error("Unable to get data URL. "+u.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Ke.Canvas=a,r.Factory.addGetterSetter(a,"pixelRatio",void 0,(0,s.getNumberValidator)());class l extends a{constructor(g={width:0,height:0,willReadFrequently:!1}){super(g),this.context=new e.SceneContext(this,{willReadFrequently:g.willReadFrequently}),this.setSize(g.width,g.height)}}Ke.SceneCanvas=l;class c extends a{constructor(g={width:0,height:0}){super(g),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(g.width,g.height)}}return Ke.HitCanvas=c,Ke}var ls={},Nl;function ha(){return Nl||(Nl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=pt(),n=Kt();t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(s=>{r=s.node}),r},_dragElements:new Map,_drag(r){const s=[];t.DD._dragElements.forEach((i,o)=>{const{node:a}=i,l=a.getStage();l.setPointersPositions(r),i.pointerId===void 0&&(i.pointerId=n.Util._getFirstPointerId(r));const c=l._changedPointerPositions.find(d=>d.id===i.pointerId);if(c){if(i.dragStatus!=="dragging"){const d=a.dragDistance();if(Math.max(Math.abs(c.x-i.startPointerPos.x),Math.abs(c.y-i.startPointerPos.y))<d||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,i),s.push(a)}}),s.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:r},!0)})},_endDragBefore(r){const s=[];t.DD._dragElements.forEach(i=>{const{node:o}=i,a=o.getStage();if(r&&a.setPointersPositions(r),!a._changedPointerPositions.find(d=>d.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,i.dragStatus="stopped");const c=i.node.getLayer()||i.node instanceof e.Konva.Stage&&i.node;c&&s.indexOf(c)===-1&&s.push(c)}),s.forEach(i=>{i.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((s,i)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:r},!0),s.dragStatus!=="dragging"&&t.DD._dragElements.delete(i)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(ls)),ls}var Ll;function Zt(){if(Ll)return kr;Ll=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.Node=void 0;const t=Kt(),e=bt(),n=Go(),r=pt(),s=ha(),i=_t(),o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",c="absoluteScale",d="canvas",g="Change",f="children",h="konva",u="listening",m="mouseenter",b="mouseleave",_="set",p="Shape",v=" ",w="stage",S="transform",E="Stage",F="visible",k=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(v);let N=1;class A{constructor(y){this._id=N++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(y),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(y){(y===S||y===l)&&this._cache.get(y)?this._cache.get(y).dirty=!0:y?this._cache.delete(y):this._cache.clear()}_getCache(y,x){let C=this._cache.get(y);return(C===void 0||(y===S||y===l)&&C.dirty===!0)&&(C=x.call(this),this._cache.set(y,C)),C}_calculate(y,x,C){if(!this._attachedDepsListeners.get(y)){const R=x.map(O=>O+"Change.konva").join(v);this.on(R,()=>{this._clearCache(y)}),this._attachedDepsListeners.set(y,!0)}return this._getCache(y,C)}_getCanvasCache(){return this._cache.get(d)}_clearSelfAndDescendantCache(y){this._clearCache(y),y===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(d)){const{scene:y,filter:x,hit:C}=this._cache.get(d);t.Util.releaseCanvas(y,x,C),this._cache.delete(d)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(y){const x=y||{};let C={};(x.x===void 0||x.y===void 0||x.width===void 0||x.height===void 0)&&(C=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let R=Math.ceil(x.width||C.width),O=Math.ceil(x.height||C.height),G=x.pixelRatio,I=x.x===void 0?Math.floor(C.x):x.x,W=x.y===void 0?Math.floor(C.y):x.y,M=x.offset||0,D=x.drawBorder||!1,z=x.hitCanvasPixelRatio||1;if(!R||!O){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const j=Math.abs(Math.round(C.x)-I)>.5?1:0,X=Math.abs(Math.round(C.y)-W)>.5?1:0;R+=M*2+j,O+=M*2+X,I-=M,W-=M;const J=new n.SceneCanvas({pixelRatio:G,width:R,height:O}),L=new n.SceneCanvas({pixelRatio:G,width:0,height:0,willReadFrequently:!0}),B=new n.HitCanvas({pixelRatio:z,width:R,height:O}),H=J.getContext(),Q=B.getContext();return B.isCache=!0,J.isCache=!0,this._cache.delete(d),this._filterUpToDate=!1,x.imageSmoothingEnabled===!1&&(J.getContext()._context.imageSmoothingEnabled=!1,L.getContext()._context.imageSmoothingEnabled=!1),H.save(),Q.save(),H.translate(-I,-W),Q.translate(-I,-W),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(c),this.drawScene(J,this),this.drawHit(B,this),this._isUnderCache=!1,H.restore(),Q.restore(),D&&(H.save(),H.beginPath(),H.rect(0,0,R,O),H.closePath(),H.setAttr("strokeStyle","red"),H.setAttr("lineWidth",5),H.stroke(),H.restore()),this._cache.set(d,{scene:J,filter:L,hit:B,x:I,y:W}),this._requestDraw(),this}isCached(){return this._cache.has(d)}getClientRect(y){throw new Error('abstract "getClientRect" method call')}_transformedRect(y,x){const C=[{x:y.x,y:y.y},{x:y.x+y.width,y:y.y},{x:y.x+y.width,y:y.y+y.height},{x:y.x,y:y.y+y.height}];let R=1/0,O=1/0,G=-1/0,I=-1/0;const W=this.getAbsoluteTransform(x);return C.forEach(function(M){const D=W.point(M);R===void 0&&(R=G=D.x,O=I=D.y),R=Math.min(R,D.x),O=Math.min(O,D.y),G=Math.max(G,D.x),I=Math.max(I,D.y)}),{x:R,y:O,width:G-R,height:I-O}}_drawCachedSceneCanvas(y){y.save(),y._applyOpacity(this),y._applyGlobalCompositeOperation(this);const x=this._getCanvasCache();y.translate(x.x,x.y);const C=this._getCachedSceneCanvas(),R=C.pixelRatio;y.drawImage(C._canvas,0,0,C.width/R,C.height/R),y.restore()}_drawCachedHitCanvas(y){const x=this._getCanvasCache(),C=x.hit;y.save(),y.translate(x.x,x.y),y.drawImage(C._canvas,0,0,C.width/C.pixelRatio,C.height/C.pixelRatio),y.restore()}_getCachedSceneCanvas(){let y=this.filters(),x=this._getCanvasCache(),C=x.scene,R=x.filter,O=R.getContext(),G,I,W,M;if(y){if(!this._filterUpToDate){const D=C.pixelRatio;R.setSize(C.width/C.pixelRatio,C.height/C.pixelRatio);try{for(G=y.length,O.clear(),O.drawImage(C._canvas,0,0,C.getWidth()/D,C.getHeight()/D),I=O.getImageData(0,0,R.getWidth(),R.getHeight()),W=0;W<G;W++){if(M=y[W],typeof M!="function"){t.Util.error("Filter should be type of function, but got "+typeof M+" instead. Please check correct filters");continue}M.call(this,I),O.putImageData(I,0,0)}}catch(z){t.Util.error("Unable to apply filter. "+z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return R}return C}on(y,x){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);let C=y.split(v),R=C.length,O,G,I,W,M;for(O=0;O<R;O++)G=C[O],I=G.split("."),W=I[0],M=I[1]||"",this.eventListeners[W]||(this.eventListeners[W]=[]),this.eventListeners[W].push({name:M,handler:x});return this}off(y,x){let C=(y||"").split(v),R=C.length,O,G,I,W,M,D;if(this._cache&&this._cache.delete(a),!y)for(G in this.eventListeners)this._off(G);for(O=0;O<R;O++)if(I=C[O],W=I.split("."),M=W[0],D=W[1],M)this.eventListeners[M]&&this._off(M,D,x);else for(G in this.eventListeners)this._off(G,D,x);return this}dispatchEvent(y){const x={target:this,type:y.type,evt:y};return this.fire(y.type,x),this}addEventListener(y,x){return this.on(y,function(C){x.call(this,C.evt)}),this}removeEventListener(y){return this.off(y),this}_delegate(y,x,C){const R=this;this.on(y,function(O){const G=O.target.findAncestors(x,!0,R);for(let I=0;I<G.length;I++)O=t.Util.cloneObject(O),O.currentTarget=G[I],C.call(G[I],O)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(u)}_remove(){this._clearCaches();const y=this.getParent();y&&y.children&&(y.children.splice(this.index,1),y._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(y){const x="get"+t.Util._capitalize(y);return t.Util._isFunction(this[x])?this[x]():this.attrs[y]}getAncestors(){let y=this.getParent(),x=[];for(;y;)x.push(y),y=y.getParent();return x}getAttrs(){return this.attrs||{}}setAttrs(y){return this._batchTransformChanges(()=>{let x,C;if(!y)return this;for(x in y)x!==f&&(C=_+t.Util._capitalize(x),t.Util._isFunction(this[C])?this[C](y[x]):this._setAttr(x,y[x]))}),this}isListening(){return this._getCache(u,this._isListening)}_isListening(y){if(!this.listening())return!1;const C=this.getParent();return C&&C!==y&&this!==y?C._isListening(y):!0}isVisible(){return this._getCache(F,this._isVisible)}_isVisible(y){if(!this.visible())return!1;const C=this.getParent();return C&&C!==y&&this!==y?C._isVisible(y):!0}shouldDrawHit(y,x=!1){if(y)return this._isVisible(y)&&this._isListening(y);const C=this.getLayer();let R=!1;s.DD._dragElements.forEach(G=>{G.dragStatus==="dragging"&&(G.node.nodeType==="Stage"||G.node.getLayer()===C)&&(R=!0)});const O=!x&&!r.Konva.hitOnDragEnabled&&(R||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!O}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let y=this.getDepth(),x=this,C=0,R,O,G,I;function W(D){for(R=[],O=D.length,G=0;G<O;G++)I=D[G],C++,I.nodeType!==p&&(R=R.concat(I.getChildren().slice())),I._id===x._id&&(G=O);R.length>0&&R[0].getDepth()<=y&&W(R)}const M=this.getStage();return x.nodeType!==E&&M&&W(M.getChildren()),C}getDepth(){let y=0,x=this.parent;for(;x;)y++,x=x.parent;return y}_batchTransformChanges(y){this._batchingTransformChange=!0,y(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(S),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(y){return this._batchTransformChanges(()=>{this.x(y.x),this.y(y.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const y=this.getStage();if(!y)return null;const x=y.getPointerPosition();if(!x)return null;const C=this.getAbsoluteTransform().copy();return C.invert(),C.point(x)}getAbsolutePosition(y){let x=!1,C=this.parent;for(;C;){if(C.isCached()){x=!0;break}C=C.parent}x&&!y&&(y=!0);const R=this.getAbsoluteTransform(y).getMatrix(),O=new t.Transform,G=this.offset();return O.m=R.slice(),O.translate(G.x,G.y),O.getTranslation()}setAbsolutePosition(y){const{x,y:C,...R}=this._clearTransform();this.attrs.x=x,this.attrs.y=C,this._clearCache(S);const O=this._getAbsoluteTransform().copy();return O.invert(),O.translate(y.x,y.y),y={x:this.attrs.x+O.getTranslation().x,y:this.attrs.y+O.getTranslation().y},this._setTransform(R),this.setPosition({x:y.x,y:y.y}),this._clearCache(S),this._clearSelfAndDescendantCache(l),this}_setTransform(y){let x;for(x in y)this.attrs[x]=y[x]}_clearTransform(){const y={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,y}move(y){let x=y.x,C=y.y,R=this.x(),O=this.y();return x!==void 0&&(R+=x),C!==void 0&&(O+=C),this.setPosition({x:R,y:O}),this}_eachAncestorReverse(y,x){let C=[],R=this.getParent(),O,G;if(!(x&&x._id===this._id)){for(C.unshift(this);R&&(!x||R._id!==x._id);)C.unshift(R),R=R.parent;for(O=C.length,G=0;G<O;G++)y(C[G])}}rotate(y){return this.rotation(this.rotation()+y),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const y=this.index,x=this.parent.getChildren().length;return y<x-1?(this.parent.children.splice(y,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const y=this.index,x=this.parent.getChildren().length;return y<x-1?(this.parent.children.splice(y,1),this.parent.children.splice(y+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const y=this.index;return y>0?(this.parent.children.splice(y,1),this.parent.children.splice(y-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const y=this.index;return y>0?(this.parent.children.splice(y,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(y){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(y<0||y>=this.parent.children.length)&&t.Util.warn("Unexpected value "+y+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const x=this.index;return this.parent.children.splice(x,1),this.parent.children.splice(y,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let y=this.opacity();const x=this.getParent();return x&&!x._isUnderCache&&(y*=x.getAbsoluteOpacity()),y}moveTo(y){return this.getParent()!==y&&(this._remove(),y.add(this)),this}toObject(){let y=this.getAttrs(),x,C,R,O,G;const I={attrs:{},className:this.getClassName()};for(x in y)C=y[x],G=t.Util.isObject(C)&&!t.Util._isPlainObject(C)&&!t.Util._isArray(C),!G&&(R=typeof this[x]=="function"&&this[x],delete y[x],O=R?R.call(this):null,y[x]=C,O!==C&&(I.attrs[x]=C));return t.Util._prepareToStringify(I)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(y,x,C){const R=[];x&&this._isMatch(y)&&R.push(this);let O=this.parent;for(;O;){if(O===C)return R;O._isMatch(y)&&R.push(O),O=O.parent}return R}isAncestorOf(y){return!1}findAncestor(y,x,C){return this.findAncestors(y,x,C)[0]}_isMatch(y){if(!y)return!1;if(typeof y=="function")return y(this);let x=y.replace(/ /g,"").split(","),C=x.length,R,O;for(R=0;R<C;R++)if(O=x[R],t.Util.isValidSelector(O)||(t.Util.warn('Selector "'+O+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),O.charAt(0)==="#"){if(this.id()===O.slice(1))return!0}else if(O.charAt(0)==="."){if(this.hasName(O.slice(1)))return!0}else if(this.className===O||this.nodeType===O)return!0;return!1}getLayer(){const y=this.getParent();return y?y.getLayer():null}getStage(){return this._getCache(w,this._getStage)}_getStage(){const y=this.getParent();return y?y.getStage():null}fire(y,x={},C){return x.target=x.target||this,C?this._fireAndBubble(y,x):this._fire(y,x),this}getAbsoluteTransform(y){return y?this._getAbsoluteTransform(y):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(y){let x;if(y)return x=new t.Transform,this._eachAncestorReverse(function(C){const R=C.transformsEnabled();R==="all"?x.multiply(C.getTransform()):R==="position"&&x.translate(C.x()-C.offsetX(),C.y()-C.offsetY())},y),x;{x=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(x):x.reset();const C=this.transformsEnabled();if(C==="all")x.multiply(this.getTransform());else if(C==="position"){const R=this.attrs.x||0,O=this.attrs.y||0,G=this.attrs.offsetX||0,I=this.attrs.offsetY||0;x.translate(R-G,O-I)}return x.dirty=!1,x}}getAbsoluteScale(y){let x=this;for(;x;)x._isUnderCache&&(y=x),x=x.getParent();const R=this.getAbsoluteTransform(y).decompose();return{x:R.scaleX,y:R.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(S,this._getTransform)}_getTransform(){var y,x;const C=this._cache.get(S)||new t.Transform;C.reset();const R=this.x(),O=this.y(),G=r.Konva.getAngle(this.rotation()),I=(y=this.attrs.scaleX)!==null&&y!==void 0?y:1,W=(x=this.attrs.scaleY)!==null&&x!==void 0?x:1,M=this.attrs.skewX||0,D=this.attrs.skewY||0,z=this.attrs.offsetX||0,j=this.attrs.offsetY||0;return(R!==0||O!==0)&&C.translate(R,O),G!==0&&C.rotate(G),(M!==0||D!==0)&&C.skew(M,D),(I!==1||W!==1)&&C.scale(I,W),(z!==0||j!==0)&&C.translate(-1*z,-1*j),C.dirty=!1,C}clone(y){let x=t.Util.cloneObject(this.attrs),C,R,O,G,I;for(C in y)x[C]=y[C];const W=new this.constructor(x);for(C in this.eventListeners)for(R=this.eventListeners[C],O=R.length,G=0;G<O;G++)I=R[G],I.name.indexOf(h)<0&&(W.eventListeners[C]||(W.eventListeners[C]=[]),W.eventListeners[C].push(I));return W}_toKonvaCanvas(y){y=y||{};const x=this.getClientRect(),C=this.getStage(),R=y.x!==void 0?y.x:Math.floor(x.x),O=y.y!==void 0?y.y:Math.floor(x.y),G=y.pixelRatio||1,I=new n.SceneCanvas({width:y.width||Math.ceil(x.width)||(C?C.width():0),height:y.height||Math.ceil(x.height)||(C?C.height():0),pixelRatio:G}),W=I.getContext(),M=new n.SceneCanvas({width:I.width/I.pixelRatio+Math.abs(R),height:I.height/I.pixelRatio+Math.abs(O),pixelRatio:I.pixelRatio});return y.imageSmoothingEnabled===!1&&(W._context.imageSmoothingEnabled=!1),W.save(),(R||O)&&W.translate(-1*R,-1*O),this.drawScene(I,void 0,M),W.restore(),I}toCanvas(y){return this._toKonvaCanvas(y)._canvas}toDataURL(y){y=y||{};const x=y.mimeType||null,C=y.quality||null,R=this._toKonvaCanvas(y).toDataURL(x,C);return y.callback&&y.callback(R),R}toImage(y){return new Promise((x,C)=>{try{const R=y==null?void 0:y.callback;R&&delete y.callback,t.Util._urlToImage(this.toDataURL(y),function(O){x(O),R==null||R(O)})}catch(R){C(R)}})}toBlob(y){return new Promise((x,C)=>{try{const R=y==null?void 0:y.callback;R&&delete y.callback,this.toCanvas(y).toBlob(O=>{x(O),R==null||R(O)},y==null?void 0:y.mimeType,y==null?void 0:y.quality)}catch(R){C(R)}})}setSize(y){return this.width(y.width),this.height(y.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(y,x,C){let R=this.eventListeners[y],O,G,I;for(O=0;O<R.length;O++)if(G=R[O].name,I=R[O].handler,(G!=="konva"||x==="konva")&&(!x||G===x)&&(!C||C===I)){if(R.splice(O,1),R.length===0){delete this.eventListeners[y];break}O--}}_fireChangeEvent(y,x,C){this._fire(y+g,{oldVal:x,newVal:C})}addName(y){if(!this.hasName(y)){const x=this.name(),C=x?x+" "+y:y;this.name(C)}return this}hasName(y){if(!y)return!1;const x=this.name();return x?(x||"").split(/\s/g).indexOf(y)!==-1:!1}removeName(y){const x=(this.name()||"").split(/\s/g),C=x.indexOf(y);return C!==-1&&(x.splice(C,1),this.name(x.join(" "))),this}setAttr(y,x){const C=this[_+t.Util._capitalize(y)];return t.Util._isFunction(C)?C.call(this,x):this._setAttr(y,x),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const y=this.getLayer()||this.getStage();y==null||y.batchDraw()}}_setAttr(y,x){const C=this.attrs[y];C===x&&!t.Util.isObject(x)||(x==null?delete this.attrs[y]:this.attrs[y]=x,this._shouldFireChangeEvents&&this._fireChangeEvent(y,C,x),this._requestDraw())}_setComponentAttr(y,x,C){let R;C!==void 0&&(R=this.attrs[y],R||(this.attrs[y]=this.getAttr(y)),this.attrs[y][x]=C,this._fireChangeEvent(y,R,C))}_fireAndBubble(y,x,C){if(x&&this.nodeType===p&&(x.target=this),!((y===m||y===b)&&(C&&(this===C||this.isAncestorOf&&this.isAncestorOf(C))||this.nodeType==="Stage"&&!C))){this._fire(y,x);const O=(y===m||y===b)&&C&&C.isAncestorOf&&C.isAncestorOf(this)&&!C.isAncestorOf(this.parent);(x&&!x.cancelBubble||!x)&&this.parent&&this.parent.isListening()&&!O&&(C&&C.parent?this._fireAndBubble.call(this.parent,y,x,C):this._fireAndBubble.call(this.parent,y,x))}}_getProtoListeners(y){var x,C,R;const O=(x=this._cache.get(a))!==null&&x!==void 0?x:{};let G=O==null?void 0:O[y];if(G===void 0){G=[];let I=Object.getPrototypeOf(this);for(;I;){const W=(R=(C=I.eventListeners)===null||C===void 0?void 0:C[y])!==null&&R!==void 0?R:[];G.push(...W),I=Object.getPrototypeOf(I)}O[y]=G,this._cache.set(a,O)}return G}_fire(y,x){x=x||{},x.currentTarget=this,x.type=y;const C=this._getProtoListeners(y);if(C)for(var R=0;R<C.length;R++)C[R].handler.call(this,x);const O=this.eventListeners[y];if(O)for(var R=0;R<O.length;R++)O[R].handler.call(this,x)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(y){const x=y?y.pointerId:void 0,C=this.getStage(),R=this.getAbsolutePosition();if(!C)return;const O=C._getPointerById(x)||C._changedPointerPositions[0]||R;s.DD._dragElements.set(this._id,{node:this,startPointerPos:O,offset:{x:O.x-R.x,y:O.y-R.y},dragStatus:"ready",pointerId:x})}startDrag(y,x=!0){s.DD._dragElements.has(this._id)||this._createDragElement(y);const C=s.DD._dragElements.get(this._id);C.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:y&&y.evt},x)}_setDragPosition(y,x){const C=this.getStage()._getPointerById(x.pointerId);if(!C)return;let R={x:C.x-x.offset.x,y:C.y-x.offset.y};const O=this.dragBoundFunc();if(O!==void 0){const G=O.call(this,R,y);G?R=G:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==R.x||this._lastPos.y!==R.y)&&(this.setAbsolutePosition(R),this._requestDraw()),this._lastPos=R}stopDrag(y){const x=s.DD._dragElements.get(this._id);x&&(x.dragStatus="stopped"),s.DD._endDragBefore(y),s.DD._endDragAfter(y)}setDraggable(y){this._setAttr("draggable",y),this._dragChange()}isDragging(){const y=s.DD._dragElements.get(this._id);return y?y.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(y){if(!(!(y.evt.button!==void 0)||r.Konva.dragButtons.indexOf(y.evt.button)>=0)||this.isDragging())return;let R=!1;s.DD._dragElements.forEach(O=>{this.isAncestorOf(O.node)&&(R=!0)}),R||this._createDragElement(y)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const x=s.DD._dragElements.get(this._id),C=x&&x.dragStatus==="dragging",R=x&&x.dragStatus==="ready";C?this.stopDrag():R&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(y={x:0,y:0}){const x=this.getStage();if(!x)return!1;const C={x:-y.x,y:-y.y,width:x.width()+2*y.x,height:x.height()+2*y.y};return t.Util.haveIntersection(C,this.getClientRect())}static create(y,x){return t.Util._isString(y)&&(y=JSON.parse(y)),this._createNode(y,x)}static _createNode(y,x){let C=A.prototype.getClassName.call(y),R=y.children,O,G,I;x&&(y.attrs.container=x),r.Konva[C]||(t.Util.warn('Can not find a node with class name "'+C+'". Fallback to "Shape".'),C="Shape");const W=r.Konva[C];if(O=new W(y.attrs),R)for(G=R.length,I=0;I<G;I++)O.add(A._createNode(R[I]));return O}}kr.Node=A,A.prototype.nodeType="Node",A.prototype._attrsAffectingSize=[],A.prototype.eventListeners={},A.prototype.on.call(A.prototype,k,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(S),this._clearSelfAndDescendantCache(l)}),A.prototype.on.call(A.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(F)}),A.prototype.on.call(A.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(u)}),A.prototype.on.call(A.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const T=e.Factory.addGetterSetter;return T(A,"zIndex"),T(A,"absolutePosition"),T(A,"position"),T(A,"x",0,(0,i.getNumberValidator)()),T(A,"y",0,(0,i.getNumberValidator)()),T(A,"globalCompositeOperation","source-over",(0,i.getStringValidator)()),T(A,"opacity",1,(0,i.getNumberValidator)()),T(A,"name","",(0,i.getStringValidator)()),T(A,"id","",(0,i.getStringValidator)()),T(A,"rotation",0,(0,i.getNumberValidator)()),e.Factory.addComponentsGetterSetter(A,"scale",["x","y"]),T(A,"scaleX",1,(0,i.getNumberValidator)()),T(A,"scaleY",1,(0,i.getNumberValidator)()),e.Factory.addComponentsGetterSetter(A,"skew",["x","y"]),T(A,"skewX",0,(0,i.getNumberValidator)()),T(A,"skewY",0,(0,i.getNumberValidator)()),e.Factory.addComponentsGetterSetter(A,"offset",["x","y"]),T(A,"offsetX",0,(0,i.getNumberValidator)()),T(A,"offsetY",0,(0,i.getNumberValidator)()),T(A,"dragDistance",null,(0,i.getNumberValidator)()),T(A,"width",0,(0,i.getNumberValidator)()),T(A,"height",0,(0,i.getNumberValidator)()),T(A,"listening",!0,(0,i.getBooleanValidator)()),T(A,"preventDefault",!0,(0,i.getBooleanValidator)()),T(A,"filters",null,function(P){return this._filterUpToDate=!1,P}),T(A,"visible",!0,(0,i.getBooleanValidator)()),T(A,"transformsEnabled","all",(0,i.getStringValidator)()),T(A,"size"),T(A,"dragBoundFunc"),T(A,"draggable",!1,(0,i.getBooleanValidator)()),e.Factory.backCompat(A,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),kr}var Tr={},Il;function Bo(){if(Il)return Tr;Il=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Container=void 0;const t=bt(),e=Zt(),n=_t();class r extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const o=this.children||[],a=[];return o.forEach(function(l){i(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(let a=0;a<i.length;a++)this.add(i[a]);return this}const o=i[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){const o=this._generalFind(i,!0);return o.length>0?o[0]:void 0}_generalFind(i,o){const a=[];return this._descendants(l=>{const c=l._isMatch(i);return c&&a.push(l),!!(c&&o)}),a}_descendants(i){let o=!1;const a=this.getChildren();for(const l of a){if(o=i(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(i),o))return!0}return!1}toObject(){const i=e.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(o=>{i.children.push(o.toObject())}),i}isAncestorOf(i){let o=i.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(i){const o=e.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(i){const o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(i)&&o.push(a)}),o}_clearSelfAndDescendantCache(i){var o;super._clearSelfAndDescendantCache(i),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(i,o,a){const l=this.getLayer(),c=i||l&&l.getCanvas(),d=c&&c.getContext(),g=this._getCanvasCache(),f=g&&g.scene,h=c&&c.isCache;if(!this.isVisible()&&!h)return this;if(f){d.save();const u=this.getAbsoluteTransform(o).getMatrix();d.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(d),d.restore()}else this._drawChildren("drawScene",c,o,a);return this}drawHit(i,o){if(!this.shouldDrawHit(o))return this;const a=this.getLayer(),l=i||a&&a.hitCanvas,c=l&&l.getContext(),d=this._getCanvasCache();if(d&&d.hit){c.save();const f=this.getAbsoluteTransform(o).getMatrix();c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(c),c.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(i,o,a,l){var c;const d=o&&o.getContext(),g=this.clipWidth(),f=this.clipHeight(),h=this.clipFunc(),u=typeof g=="number"&&typeof f=="number"||h,m=a===this;if(u){d.save();const _=this.getAbsoluteTransform(a);let p=_.getMatrix();d.transform(p[0],p[1],p[2],p[3],p[4],p[5]),d.beginPath();let v;if(h)v=h.call(this,d,this);else{const w=this.clipX(),S=this.clipY();d.rect(w||0,S||0,g,f)}d.clip.apply(d,v),p=_.copy().invert().getMatrix(),d.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const b=!m&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";b&&(d.save(),d._applyGlobalCompositeOperation(this)),(c=this.children)===null||c===void 0||c.forEach(function(_){_[i](o,a,l)}),b&&d.restore(),u&&d.restore()}getClientRect(i={}){var o;const a=i.skipTransform,l=i.relativeTo;let c,d,g,f,h={x:1/0,y:1/0,width:0,height:0};const u=this;(o=this.children)===null||o===void 0||o.forEach(function(_){if(!_.visible())return;const p=_.getClientRect({relativeTo:u,skipShadow:i.skipShadow,skipStroke:i.skipStroke});p.width===0&&p.height===0||(c===void 0?(c=p.x,d=p.y,g=p.x+p.width,f=p.y+p.height):(c=Math.min(c,p.x),d=Math.min(d,p.y),g=Math.max(g,p.x+p.width),f=Math.max(f,p.y+p.height)))});const m=this.find("Shape");let b=!1;for(let _=0;_<m.length;_++)if(m[_]._isVisible(this)){b=!0;break}return b&&c!==void 0?h={x:c,y:d,width:g-c,height:f-d}:h={x:0,y:0,width:0,height:0},a?h:this._transformedRect(h,l)}}return Tr.Container=r,t.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(r,"clipX",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipY",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipWidth",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipHeight",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipFunc"),Tr}var cs={},cn={},Dl;function Ad(){if(Dl)return cn;Dl=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.getCapturedShape=r,cn.createEvent=s,cn.hasPointerCapture=i,cn.setPointerCapture=o,cn.releaseCapture=a;const t=pt(),e=new Map,n=t.Konva._global.PointerEvent!==void 0;function r(l){return e.get(l)}function s(l){return{evt:l,pointerId:l.pointerId}}function i(l,c){return e.get(l)===c}function o(l,c){a(l),c.getStage()&&(e.set(l,c),n&&c._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}function a(l,c){const d=e.get(l);if(!d)return;const g=d.getStage();g&&g.content,e.delete(l),n&&d._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return cn}var Gl;function Sm(){return Gl||(Gl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Kt(),n=bt(),r=Bo(),s=pt(),i=Go(),o=ha(),a=pt(),l=Ad(),c="Stage",d="string",g="px",f="mouseout",h="mouseleave",u="mouseover",m="mouseenter",b="mousemove",_="mousedown",p="mouseup",v="pointermove",w="pointerdown",S="pointerup",E="pointercancel",F="lostpointercapture",k="pointerout",N="pointerleave",A="pointerover",T="pointerenter",P="contextmenu",y="touchstart",x="touchend",C="touchmove",R="touchcancel",O="wheel",G=5,I=[[m,"_pointerenter"],[_,"_pointerdown"],[b,"_pointermove"],[p,"_pointerup"],[h,"_pointerleave"],[y,"_pointerdown"],[C,"_pointermove"],[x,"_pointerup"],[R,"_pointercancel"],[u,"_pointerover"],[O,"_wheel"],[P,"_contextmenu"],[w,"_pointerdown"],[v,"_pointermove"],[S,"_pointerup"],[E,"_pointercancel"],[F,"_lostpointercapture"]],W={mouse:{[k]:f,[N]:h,[A]:u,[T]:m,[v]:b,[w]:_,[S]:p,[E]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[k]:"touchout",[N]:"touchleave",[A]:"touchover",[T]:"touchenter",[v]:C,[w]:y,[S]:x,[E]:R,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[k]:k,[N]:N,[A]:A,[T]:T,[v]:v,[w]:w,[S]:S,[E]:E,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},M=J=>J.indexOf("pointer")>=0?"pointer":J.indexOf("touch")>=0?"touch":"mouse",D=J=>{const L=M(J);if(L==="pointer")return s.Konva.pointerEventsEnabled&&W.pointer;if(L==="touch")return W.touch;if(L==="mouse")return W.mouse};function z(J={}){return(J.clipFunc||J.clipWidth||J.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),J}const j="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class X extends r.Container{constructor(L){super(z(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{z(this.attrs)}),this._checkVisibility()}_validateAdd(L){const B=L.getType()==="Layer",H=L.getType()==="FastLayer";B||H||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===d){if(L.charAt(0)==="."){const H=L.slice(1);L=document.getElementsByClassName(H)[0]}else{var B;L.charAt(0)!=="#"?B=L:B=L.slice(1),L=document.getElementById(B)}if(!L)throw"Can not find container in document with id "+B}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let L=this.children,B=L.length,H;for(H=0;H<B;H++)L[H].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,L)}destroy(){super.destroy();const L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);const B=t.stages.indexOf(this);return B>-1&&t.stages.splice(B,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn(j),null)}_getPointerById(L){return this._pointerPositions.find(B=>B.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();const B=new i.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),H=B.getContext()._context,Q=this.children;return(L.x||L.y)&&H.translate(-1*L.x,-1*L.y),Q.forEach(function(Z){if(!Z.isVisible())return;const V=Z._toKonvaCanvas(L);H.drawImage(V._canvas,L.x,L.y,V.getWidth()/V.getPixelRatio(),V.getHeight()/V.getPixelRatio())}),B}getIntersection(L){if(!L)return null;let B=this.children,H=B.length,Q=H-1,Z;for(Z=Q;Z>=0;Z--){const V=B[Z].getIntersection(L);if(V)return V}return null}_resizeDOM(){const L=this.width(),B=this.height();this.content&&(this.content.style.width=L+g,this.content.style.height=B+g),this.bufferCanvas.setSize(L,B),this.bufferHitCanvas.setSize(L,B),this.children.forEach(H=>{H.setSize({width:L,height:B}),H.draw()})}add(L,...B){if(arguments.length>1){for(let Q=0;Q<arguments.length;Q++)this.add(arguments[Q]);return this}super.add(L);const H=this.children.length;return H>G&&e.Util.warn("The stage has "+H+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),s.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return l.hasPointerCapture(L,this)}setPointerCapture(L){l.setPointerCapture(L,this)}releaseCapture(L){l.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&I.forEach(([L,B])=>{this.content.addEventListener(L,H=>{this[B](H)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const B=D(L.type);B&&this._fire(B.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const B=D(L.type);B&&this._fire(B.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let B=this[L+"targetShape"];return B&&!B.getStage()&&(B=null),B}_pointerleave(L){const B=D(L.type),H=M(L.type);if(!B)return;this.setPointersPositions(L);const Q=this._getTargetShape(H),Z=!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled;Q&&Z?(Q._fireAndBubble(B.pointerout,{evt:L}),Q._fireAndBubble(B.pointerleave,{evt:L}),this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this[H+"targetShape"]=null):Z&&(this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(B.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(L){const B=D(L.type),H=M(L.type);if(!B)return;this.setPointersPositions(L);let Q=!1;this._changedPointerPositions.forEach(Z=>{const V=this.getIntersection(Z);if(o.DD.justDragged=!1,s.Konva["_"+H+"ListenClick"]=!0,!V||!V.isListening()){this[H+"ClickStartShape"]=void 0;return}s.Konva.capturePointerEventsEnabled&&V.setPointerCapture(Z.id),this[H+"ClickStartShape"]=V,V._fireAndBubble(B.pointerdown,{evt:L,pointerId:Z.id}),Q=!0;const Y=L.type.indexOf("touch")>=0;V.preventDefault()&&L.cancelable&&Y&&L.preventDefault()}),Q||this._fire(B.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(L){const B=D(L.type),H=M(L.type);if(!B||(s.Konva.isDragging()&&o.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L),!(!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled)))return;const Z={};let V=!1;const Y=this._getTargetShape(H);this._changedPointerPositions.forEach($=>{const et=l.getCapturedShape($.id)||this.getIntersection($),ct=$.id,tt={evt:L,pointerId:ct},st=Y!==et;if(st&&Y&&(Y._fireAndBubble(B.pointerout,{...tt},et),Y._fireAndBubble(B.pointerleave,{...tt},et)),et){if(Z[et._id])return;Z[et._id]=!0}et&&et.isListening()?(V=!0,st&&(et._fireAndBubble(B.pointerover,{...tt},Y),et._fireAndBubble(B.pointerenter,{...tt},Y),this[H+"targetShape"]=et),et._fireAndBubble(B.pointermove,{...tt})):Y&&(this._fire(B.pointerover,{evt:L,target:this,currentTarget:this,pointerId:ct}),this[H+"targetShape"]=null)}),V||this._fire(B.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const B=D(L.type),H=M(L.type);if(!B)return;this.setPointersPositions(L);const Q=this[H+"ClickStartShape"],Z=this[H+"ClickEndShape"],V={};let Y=!1;this._changedPointerPositions.forEach($=>{const et=l.getCapturedShape($.id)||this.getIntersection($);if(et){if(et.releaseCapture($.id),V[et._id])return;V[et._id]=!0}const ct=$.id,tt={evt:L,pointerId:ct};let st=!1;s.Konva["_"+H+"InDblClickWindow"]?(st=!0,clearTimeout(this[H+"DblTimeout"])):o.DD.justDragged||(s.Konva["_"+H+"InDblClickWindow"]=!0,clearTimeout(this[H+"DblTimeout"])),this[H+"DblTimeout"]=setTimeout(function(){s.Konva["_"+H+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),et&&et.isListening()?(Y=!0,this[H+"ClickEndShape"]=et,et._fireAndBubble(B.pointerup,{...tt}),s.Konva["_"+H+"ListenClick"]&&Q&&Q===et&&(et._fireAndBubble(B.pointerclick,{...tt}),st&&Z&&Z===et&&et._fireAndBubble(B.pointerdblclick,{...tt}))):(this[H+"ClickEndShape"]=null,s.Konva["_"+H+"ListenClick"]&&this._fire(B.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:ct}),st&&this._fire(B.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:ct}))}),Y||this._fire(B.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+H+"ListenClick"]=!1,L.cancelable&&H!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);const B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(P,{evt:L}):this._fire(P,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);const B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(O,{evt:L}):this._fire(O,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const B=l.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());B&&B._fireAndBubble(S,l.createEvent(L)),l.releaseCapture(L.pointerId)}_lostpointercapture(L){l.releaseCapture(L.pointerId)}setPointersPositions(L){let B=this._getContentPosition(),H=null,Q=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,Z=>{this._pointerPositions.push({id:Z.identifier,x:(Z.clientX-B.left)/B.scaleX,y:(Z.clientY-B.top)/B.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,Z=>{this._changedPointerPositions.push({id:Z.identifier,x:(Z.clientX-B.left)/B.scaleX,y:(Z.clientY-B.top)/B.scaleY})})):(H=(L.clientX-B.left)/B.scaleX,Q=(L.clientY-B.top)/B.scaleY,this.pointerPos={x:H,y:Q},this._pointerPositions=[{x:H,y:Q,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:H,y:Q,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!s.Konva.isBrowser)return;const L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}t.Stage=X,X.prototype.nodeType=c,(0,a._registerNode)(X),n.Factory.addGetterSetter(X,"container"),s.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(J=>{J.batchDraw()})})}(cs)),cs}var Pr={},us={},Bl;function ie(){return Bl||(Bl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=pt(),n=Kt(),r=bt(),s=Zt(),i=_t(),o=pt(),a=Ad(),l="hasShadow",c="shadowRGBA",d="patternImage",g="linearGradient",f="radialGradient";let h;function u(){return h||(h=n.Util.createCanvasElement().getContext("2d"),h)}t.shapes={};function m(N){const A=this.attrs.fillRule;A?N.fill(A):N.fill()}function b(N){N.stroke()}function _(N){const A=this.attrs.fillRule;A?N.fill(A):N.fill()}function p(N){N.stroke()}function v(){this._clearCache(l)}function w(){this._clearCache(c)}function S(){this._clearCache(d)}function E(){this._clearCache(g)}function F(){this._clearCache(f)}class k extends s.Node{constructor(A){super(A);let T;for(;T=n.Util.getRandomColor(),!(T&&!(T in t.shapes)););this.colorKey=T,t.shapes[T]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const T=u().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(T&&T.setTransform){const P=new n.Transform;P.translate(this.fillPatternX(),this.fillPatternY()),P.rotate(e.Konva.getAngle(this.fillPatternRotation())),P.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),P.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const y=P.getMatrix(),x=typeof DOMMatrix>"u"?{a:y[0],b:y[1],c:y[2],d:y[3],e:y[4],f:y[5]}:new DOMMatrix(y);T.setTransform(x)}return T}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const A=this.fillLinearGradientColorStops();if(A){const T=u(),P=this.fillLinearGradientStartPoint(),y=this.fillLinearGradientEndPoint(),x=T.createLinearGradient(P.x,P.y,y.x,y.y);for(let C=0;C<A.length;C+=2)x.addColorStop(A[C],A[C+1]);return x}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){const A=this.fillRadialGradientColorStops();if(A){const T=u(),P=this.fillRadialGradientStartPoint(),y=this.fillRadialGradientEndPoint(),x=T.createRadialGradient(P.x,P.y,this.fillRadialGradientStartRadius(),y.x,y.y,this.fillRadialGradientEndRadius());for(let C=0;C<A.length;C+=2)x.addColorStop(A[C],A[C+1]);return x}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const A=n.Util.colorToRGBA(this.shadowColor());if(A)return"rgba("+A.r+","+A.g+","+A.b+","+A.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const A=this.hitStrokeWidth();return A==="auto"?this.hasStroke():this.strokeEnabled()&&!!A}intersects(A){const T=this.getStage();if(!T)return!1;const P=T.bufferHitCanvas;return P.getContext().clear(),this.drawHit(P,void 0,!0),P.context.getImageData(Math.round(A.x),Math.round(A.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(A){var T;if(!((T=this.attrs.perfectDrawEnabled)!==null&&T!==void 0?T:!0))return!1;const y=A||this.hasFill(),x=this.hasStroke(),C=this.getAbsoluteOpacity()!==1;if(y&&x&&C)return!0;const R=this.hasShadow(),O=this.shadowForStrokeEnabled();return!!(y&&x&&R&&O)}setStrokeHitEnabled(A){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),A?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const A=this.size();return{x:this._centroid?-A.width/2:0,y:this._centroid?-A.height/2:0,width:A.width,height:A.height}}getClientRect(A={}){let T=!1,P=this.getParent();for(;P;){if(P.isCached()){T=!0;break}P=P.getParent()}const y=A.skipTransform,x=A.relativeTo||T&&this.getStage()||void 0,C=this.getSelfRect(),O=!A.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,G=C.width+O,I=C.height+O,W=!A.skipShadow&&this.hasShadow(),M=W?this.shadowOffsetX():0,D=W?this.shadowOffsetY():0,z=G+Math.abs(M),j=I+Math.abs(D),X=W&&this.shadowBlur()||0,J=z+X*2,L=j+X*2,B={width:J,height:L,x:-(O/2+X)+Math.min(M,0)+C.x,y:-(O/2+X)+Math.min(D,0)+C.y};return y?B:this._transformedRect(B,x)}drawScene(A,T,P){const y=this.getLayer();let x=A||y.getCanvas(),C=x.getContext(),R=this._getCanvasCache(),O=this.getSceneFunc(),G=this.hasShadow(),I,W;const M=x.isCache,D=T===this;if(!this.isVisible()&&!D)return this;if(R){C.save();const j=this.getAbsoluteTransform(T).getMatrix();return C.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedSceneCanvas(C),C.restore(),this}if(!O)return this;if(C.save(),this._useBufferCanvas()&&!M){I=this.getStage();const j=P||I.bufferCanvas;W=j.getContext(),W.clear(),W.save(),W._applyLineJoin(this);var z=this.getAbsoluteTransform(T).getMatrix();W.transform(z[0],z[1],z[2],z[3],z[4],z[5]),O.call(this,W,this),W.restore();const X=j.pixelRatio;G&&C._applyShadow(this),C._applyOpacity(this),C._applyGlobalCompositeOperation(this),C.drawImage(j._canvas,0,0,j.width/X,j.height/X)}else{if(C._applyLineJoin(this),!D){var z=this.getAbsoluteTransform(T).getMatrix();C.transform(z[0],z[1],z[2],z[3],z[4],z[5]),C._applyOpacity(this),C._applyGlobalCompositeOperation(this)}G&&C._applyShadow(this),O.call(this,C,this)}return C.restore(),this}drawHit(A,T,P=!1){if(!this.shouldDrawHit(T,P))return this;const y=this.getLayer(),x=A||y.hitCanvas,C=x&&x.getContext(),R=this.hitFunc()||this.sceneFunc(),O=this._getCanvasCache(),G=O&&O.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),G){C.save();const W=this.getAbsoluteTransform(T).getMatrix();return C.transform(W[0],W[1],W[2],W[3],W[4],W[5]),this._drawCachedHitCanvas(C),C.restore(),this}if(!R)return this;if(C.save(),C._applyLineJoin(this),!(this===T)){const W=this.getAbsoluteTransform(T).getMatrix();C.transform(W[0],W[1],W[2],W[3],W[4],W[5])}return R.call(this,C,this),C.restore(),this}drawHitFromCache(A=0){let T=this._getCanvasCache(),P=this._getCachedSceneCanvas(),y=T.hit,x=y.getContext(),C=y.getWidth(),R=y.getHeight(),O,G,I,W,M,D;x.clear(),x.drawImage(P._canvas,0,0,C,R);try{for(O=x.getImageData(0,0,C,R),G=O.data,I=G.length,W=n.Util._hexToRgb(this.colorKey),M=0;M<I;M+=4)D=G[M+3],D>A?(G[M]=W.r,G[M+1]=W.g,G[M+2]=W.b,G[M+3]=255):G[M+3]=0;x.putImageData(O,0,0)}catch(z){n.Util.error("Unable to draw hit graph from cached scene canvas. "+z.message)}return this}hasPointerCapture(A){return a.hasPointerCapture(A,this)}setPointerCapture(A){a.setPointerCapture(A,this)}releaseCapture(A){a.releaseCapture(A,this)}}t.Shape=k,k.prototype._fillFunc=m,k.prototype._strokeFunc=b,k.prototype._fillFuncHit=_,k.prototype._strokeFuncHit=p,k.prototype._centroid=!1,k.prototype.nodeType="Shape",(0,o._registerNode)(k),k.prototype.eventListeners={},k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",S),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",E),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),r.Factory.addGetterSetter(k,"stroke",void 0,(0,i.getStringOrGradientValidator)()),r.Factory.addGetterSetter(k,"strokeWidth",2,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(k,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(k,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),r.Factory.addGetterSetter(k,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),r.Factory.addGetterSetter(k,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),r.Factory.addGetterSetter(k,"lineJoin"),r.Factory.addGetterSetter(k,"lineCap"),r.Factory.addGetterSetter(k,"sceneFunc"),r.Factory.addGetterSetter(k,"hitFunc"),r.Factory.addGetterSetter(k,"dash"),r.Factory.addGetterSetter(k,"dashOffset",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"shadowColor",void 0,(0,i.getStringValidator)()),r.Factory.addGetterSetter(k,"shadowBlur",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"shadowOpacity",1,(0,i.getNumberValidator)()),r.Factory.addComponentsGetterSetter(k,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(k,"shadowOffsetX",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"shadowOffsetY",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"fillPatternImage"),r.Factory.addGetterSetter(k,"fill",void 0,(0,i.getStringOrGradientValidator)()),r.Factory.addGetterSetter(k,"fillPatternX",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"fillPatternY",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(k,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(k,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(k,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(k,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(k,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(k,"fillEnabled",!0),r.Factory.addGetterSetter(k,"strokeEnabled",!0),r.Factory.addGetterSetter(k,"shadowEnabled",!0),r.Factory.addGetterSetter(k,"dashEnabled",!0),r.Factory.addGetterSetter(k,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(k,"fillPriority","color"),r.Factory.addComponentsGetterSetter(k,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(k,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),r.Factory.addComponentsGetterSetter(k,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(k,"fillPatternScaleX",1,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(k,"fillPatternScaleY",1,(0,i.getNumberValidator)()),r.Factory.addComponentsGetterSetter(k,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(k,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(k,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(k,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(k,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(k,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(k,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(k,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(k,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(k,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(k,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(k,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(k,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(k,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(k,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(k,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(k,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(k,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(k,"fillPatternRotation",0),r.Factory.addGetterSetter(k,"fillRule",void 0,(0,i.getStringValidator)()),r.Factory.backCompat(k,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(us)),us}var Vl;function Ed(){if(Vl)return Pr;Vl=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.Layer=void 0;const t=Kt(),e=Bo(),n=Zt(),r=bt(),s=Go(),i=_t(),o=ie(),a=pt(),l="#",c="beforeDraw",d="draw",g=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],f=g.length;class h extends e.Container{constructor(m){super(m),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(m){return this.getContext().clear(m),this.getHitCanvas().getContext().clear(m),this}setZIndex(m){super.setZIndex(m);const b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),m<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[m+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const m=this.getStage();return m&&m.content&&(m.content.removeChild(this.getNativeCanvasElement()),m.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const b=this.getStage();return!b||!b.content?!1:(b.content.removeChild(this.getNativeCanvasElement()),this.index<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const m=this.getStage();if(m){const b=m.children;m.content&&(m.content.removeChild(this.getNativeCanvasElement()),m.content.insertBefore(this.getNativeCanvasElement(),b[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const m=this.getStage();if(m){const b=m.children;m.content&&(m.content.removeChild(this.getNativeCanvasElement()),m.content.insertBefore(this.getNativeCanvasElement(),b[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const m=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),m&&m.parentNode&&t.Util._isInDocument(m)&&m.parentNode.removeChild(m),this}getStage(){return this.parent}setSize({width:m,height:b}){return this.canvas.setSize(m,b),this.hitCanvas.setSize(m,b),this._setSmoothEnabled(),this}_validateAdd(m){const b=m.getType();b!=="Group"&&b!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(m){return m=m||{},m.width=m.width||this.getWidth(),m.height=m.height||this.getHeight(),m.x=m.x!==void 0?m.x:this.x(),m.y=m.y!==void 0?m.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,m)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(m){if(!this.isListening()||!this.isVisible())return null;let b=1,_=!1;for(;;){for(let p=0;p<f;p++){const v=g[p],w=this._getIntersection({x:m.x+v.x*b,y:m.y+v.y*b}),S=w.shape;if(S)return S;if(_=!!w.antialiased,!w.antialiased)break}if(_)b+=1;else return null}}_getIntersection(m){const b=this.hitCanvas.pixelRatio,_=this.hitCanvas.context.getImageData(Math.round(m.x*b),Math.round(m.y*b),1,1).data,p=_[3];if(p===255){const v=t.Util._rgbToHex(_[0],_[1],_[2]),w=o.shapes[l+v];return w?{shape:w}:{antialiased:!0}}else if(p>0)return{antialiased:!0};return{}}drawScene(m,b){const _=this.getLayer(),p=m||_&&_.getCanvas();return this._fire(c,{node:this}),this.clearBeforeDraw()&&p.getContext().clear(),e.Container.prototype.drawScene.call(this,p,b),this._fire(d,{node:this}),this}drawHit(m,b){const _=this.getLayer(),p=m||_&&_.hitCanvas;return _&&_.clearBeforeDraw()&&_.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,p,b),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(m){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(m)}getHitGraphEnabled(m){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const m=this.parent;!!this.hitCanvas._canvas.parentNode?m.content.removeChild(this.hitCanvas._canvas):m.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Pr.Layer=h,h.prototype.nodeType="Layer",(0,a._registerNode)(h),r.Factory.addGetterSetter(h,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(h,"clearBeforeDraw",!0),r.Factory.addGetterSetter(h,"hitGraphEnabled",!0,(0,i.getBooleanValidator)()),Pr}var Rr={},Ul;function xm(){if(Ul)return Rr;Ul=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FastLayer=void 0;const t=Kt(),e=Ed(),n=pt();let r=class extends e.Layer{constructor(i){super(i),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Rr.FastLayer=r,r.prototype.nodeType="FastLayer",(0,n._registerNode)(r),Rr}var Or={},zl;function ga(){if(zl)return Or;zl=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Group=void 0;const t=Kt(),e=Bo(),n=pt();class r extends e.Container{_validateAdd(i){const o=i.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}}return Or.Group=r,r.prototype.nodeType="Group",(0,n._registerNode)(r),Or}var Fr={},Wl;function pa(){if(Wl)return Fr;Wl=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Animation=void 0;const t=pt(),e=Kt(),n=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class Hn{constructor(i,o){this.id=Hn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=i,this.setLayers(o)}setLayers(i){let o=[];return i&&(o=Array.isArray(i)?i:[i]),this.layers=o,this}getLayers(){return this.layers}addLayer(i){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){const o=Hn.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),Hn._addAnimation(this),this}stop(){return Hn._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){const o=i.id,a=this.animations,l=a.length;for(let c=0;c<l;c++)if(a[c].id===o){this.animations.splice(c,1);break}}static _runFrames(){const i={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],c=l.layers,d=l.func;l._updateFrameObject(n());const g=c.length;let f;if(d?f=d.call(l,l.frame)!==!1:f=!0,!!f)for(let h=0;h<g;h++){const u=c[h];u._id!==void 0&&(i[u._id]=u)}}for(const a in i)i.hasOwnProperty(a)&&i[a].batchDraw()}static _animationLoop(){const i=Hn;i.animations.length?(i._runFrames(),e.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Fr.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,Fr}var ds={},jl;function Cm(){return jl||(jl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Kt(),n=pa(),r=Zt(),s=pt();let i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,c=0,d=["fill","stroke","shadowColor"];class g{constructor(u,m,b,_,p,v,w){this.prop=u,this.propFunc=m,this.begin=_,this._pos=_,this.duration=v,this._change=0,this.prevPos=0,this.yoyo=w,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=p-this.begin,this.pause()}fire(u){const m=this[u];m&&m()}setTime(u){u>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():u<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=u,this.update())}getTime(){return this._time}setPosition(u){this.prevPos=this._pos,this.propFunc(u),this._pos=u}getPosition(u){return u===void 0&&(u=this._time),this.func(u,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(u){this.pause(),this._time=u,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const u=this.getTimer()-this._startTime;this.state===a?this.setTime(u):this.state===l&&this.setTime(this.duration-u)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(u){let m=this,b=u.node,_=b._id,p,v=u.easing||t.Easings.Linear,w=!!u.yoyo,S;typeof u.duration>"u"?p=.3:u.duration===0?p=.001:p=u.duration,this.node=b,this._id=c++;const E=b.getLayer()||(b instanceof s.Konva.Stage?b.getLayers():null);E||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){m.tween.onEnterFrame()},E),this.tween=new g(S,function(F){m._tweenFunc(F)},v,0,1,p*1e3,w),this._addListeners(),f.attrs[_]||(f.attrs[_]={}),f.attrs[_][this._id]||(f.attrs[_][this._id]={}),f.tweens[_]||(f.tweens[_]={});for(S in u)i[S]===void 0&&this._addAttr(S,u[S]);this.reset(),this.onFinish=u.onFinish,this.onReset=u.onReset,this.onUpdate=u.onUpdate}_addAttr(u,m){let b=this.node,_=b._id,p,v,w,S,E,F,k,N;if(w=f.tweens[_][u],w&&delete f.attrs[_][w][u],p=b.getAttr(u),e.Util._isArray(m))if(v=[],E=Math.max(m.length,p.length),u==="points"&&m.length!==p.length&&(m.length>p.length?(k=p,p=e.Util._prepareArrayForTween(p,m,b.closed())):(F=m,m=e.Util._prepareArrayForTween(m,p,b.closed()))),u.indexOf("fill")===0)for(S=0;S<E;S++)if(S%2===0)v.push(m[S]-p[S]);else{const A=e.Util.colorToRGBA(p[S]);N=e.Util.colorToRGBA(m[S]),p[S]=A,v.push({r:N.r-A.r,g:N.g-A.g,b:N.b-A.b,a:N.a-A.a})}else for(S=0;S<E;S++)v.push(m[S]-p[S]);else d.indexOf(u)!==-1?(p=e.Util.colorToRGBA(p),N=e.Util.colorToRGBA(m),v={r:N.r-p.r,g:N.g-p.g,b:N.b-p.b,a:N.a-p.a}):v=m-p;f.attrs[_][this._id][u]={start:p,diff:v,end:m,trueEnd:F,trueStart:k},f.tweens[_][u]=this._id}_tweenFunc(u){let m=this.node,b=f.attrs[m._id][this._id],_,p,v,w,S,E,F,k;for(_ in b){if(p=b[_],v=p.start,w=p.diff,k=p.end,e.Util._isArray(v))if(S=[],F=Math.max(v.length,k.length),_.indexOf("fill")===0)for(E=0;E<F;E++)E%2===0?S.push((v[E]||0)+w[E]*u):S.push("rgba("+Math.round(v[E].r+w[E].r*u)+","+Math.round(v[E].g+w[E].g*u)+","+Math.round(v[E].b+w[E].b*u)+","+(v[E].a+w[E].a*u)+")");else for(E=0;E<F;E++)S.push((v[E]||0)+w[E]*u);else d.indexOf(_)!==-1?S="rgba("+Math.round(v.r+w.r*u)+","+Math.round(v.g+w.g*u)+","+Math.round(v.b+w.b*u)+","+(v.a+w.a*u)+")":S=v+w*u;m.setAttr(_,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const u=this.node,m=f.attrs[u._id][this._id];m.points&&m.points.trueEnd&&u.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const u=this.node,m=f.attrs[u._id][this._id];m.points&&m.points.trueStart&&u.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(u){return this.tween.seek(u*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let u=this.node._id,m=this._id,b=f.tweens[u],_;this.pause();for(_ in b)delete f.tweens[u][_];delete f.attrs[u][m]}}t.Tween=f,f.attrs={},f.tweens={},r.Node.prototype.to=function(h){const u=h.onFinish;h.node=this,h.onFinish=function(){this.destroy(),u&&u()},new f(h).play()},t.Easings={BackEaseIn(h,u,m,b){return m*(h/=b)*h*((1.70158+1)*h-1.70158)+u},BackEaseOut(h,u,m,b){return m*((h=h/b-1)*h*((1.70158+1)*h+1.70158)+1)+u},BackEaseInOut(h,u,m,b){let _=1.70158;return(h/=b/2)<1?m/2*(h*h*(((_*=1.525)+1)*h-_))+u:m/2*((h-=2)*h*(((_*=1.525)+1)*h+_)+2)+u},ElasticEaseIn(h,u,m,b,_,p){let v=0;return h===0?u:(h/=b)===1?u+m:(p||(p=b*.3),!_||_<Math.abs(m)?(_=m,v=p/4):v=p/(2*Math.PI)*Math.asin(m/_),-(_*Math.pow(2,10*(h-=1))*Math.sin((h*b-v)*(2*Math.PI)/p))+u)},ElasticEaseOut(h,u,m,b,_,p){let v=0;return h===0?u:(h/=b)===1?u+m:(p||(p=b*.3),!_||_<Math.abs(m)?(_=m,v=p/4):v=p/(2*Math.PI)*Math.asin(m/_),_*Math.pow(2,-10*h)*Math.sin((h*b-v)*(2*Math.PI)/p)+m+u)},ElasticEaseInOut(h,u,m,b,_,p){let v=0;return h===0?u:(h/=b/2)===2?u+m:(p||(p=b*(.3*1.5)),!_||_<Math.abs(m)?(_=m,v=p/4):v=p/(2*Math.PI)*Math.asin(m/_),h<1?-.5*(_*Math.pow(2,10*(h-=1))*Math.sin((h*b-v)*(2*Math.PI)/p))+u:_*Math.pow(2,-10*(h-=1))*Math.sin((h*b-v)*(2*Math.PI)/p)*.5+m+u)},BounceEaseOut(h,u,m,b){return(h/=b)<1/2.75?m*(7.5625*h*h)+u:h<2/2.75?m*(7.5625*(h-=1.5/2.75)*h+.75)+u:h<2.5/2.75?m*(7.5625*(h-=2.25/2.75)*h+.9375)+u:m*(7.5625*(h-=2.625/2.75)*h+.984375)+u},BounceEaseIn(h,u,m,b){return m-t.Easings.BounceEaseOut(b-h,0,m,b)+u},BounceEaseInOut(h,u,m,b){return h<b/2?t.Easings.BounceEaseIn(h*2,0,m,b)*.5+u:t.Easings.BounceEaseOut(h*2-b,0,m,b)*.5+m*.5+u},EaseIn(h,u,m,b){return m*(h/=b)*h+u},EaseOut(h,u,m,b){return-m*(h/=b)*(h-2)+u},EaseInOut(h,u,m,b){return(h/=b/2)<1?m/2*h*h+u:-m/2*(--h*(h-2)-1)+u},StrongEaseIn(h,u,m,b){return m*(h/=b)*h*h*h*h+u},StrongEaseOut(h,u,m,b){return m*((h=h/b-1)*h*h*h*h+1)+u},StrongEaseInOut(h,u,m,b){return(h/=b/2)<1?m/2*h*h*h*h*h+u:m/2*((h-=2)*h*h*h*h+2)+u},Linear(h,u,m,b){return m*h/b+u}}}(ds)),ds}var Hl;function Am(){return Hl||(Hl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=pt(),n=Kt(),r=Zt(),s=Bo(),i=Sm(),o=Ed(),a=xm(),l=ga(),c=ha(),d=ie(),g=pa(),f=Cm(),h=Cd(),u=Go();t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:s.Container,Stage:i.Stage,stages:i.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:c.DD,Shape:d.Shape,shapes:d.shapes,Animation:g.Animation,Tween:f.Tween,Easings:f.Easings,Context:h.Context,Canvas:u.Canvas}),t.default=t.Konva}(is)),is}var Mr={},ql;function Em(){if(ql)return Mr;ql=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.Arc=void 0;const t=bt(),e=ie(),n=pt(),r=_t(),s=pt();let i=class extends e.Shape{_sceneFunc(a){const l=n.Konva.getAngle(this.angle()),c=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,c),a.arc(0,0,this.innerRadius(),l,0,!c),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),c=this.clockwise(),d=n.Konva.getAngle(c?360-this.angle():this.angle()),g=Math.cos(Math.min(d,Math.PI)),f=1,h=Math.sin(Math.min(Math.max(Math.PI,d),3*Math.PI/2)),u=Math.sin(Math.min(d,Math.PI/2)),m=g*(g>0?a:l),b=f*l,_=h*(h>0?a:l),p=u*(u>0?l:a);return{x:m,y:c?-1*p:_,width:b-m,height:p-_}}};return Mr.Arc=i,i.prototype._centroid=!0,i.prototype.className="Arc",i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clockwise",!1,(0,r.getBooleanValidator)()),Mr}var Nr={},Lr={},Yl;function kd(){if(Yl)return Lr;Yl=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Line=void 0;const t=bt(),e=pt(),n=ie(),r=_t();function s(a,l,c,d,g,f,h){const u=Math.sqrt(Math.pow(c-a,2)+Math.pow(d-l,2)),m=Math.sqrt(Math.pow(g-c,2)+Math.pow(f-d,2)),b=h*u/(u+m),_=h*m/(u+m),p=c-b*(g-a),v=d-b*(f-l),w=c+_*(g-a),S=d+_*(f-l);return[p,v,w,S]}function i(a,l){const c=a.length,d=[];for(let g=2;g<c-2;g+=2){const f=s(a[g-2],a[g-1],a[g],a[g+1],a[g+2],a[g+3],l);isNaN(f[0])||(d.push(f[0]),d.push(f[1]),d.push(a[g]),d.push(a[g+1]),d.push(f[2]),d.push(f[3]))}return d}let o=class extends n.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let c=this.points(),d=c.length,g=this.tension(),f=this.closed(),h=this.bezier(),u,m,b;if(d){if(l.beginPath(),l.moveTo(c[0],c[1]),g!==0&&d>4){for(u=this.getTensionPoints(),m=u.length,b=f?0:4,f||l.quadraticCurveTo(u[0],u[1],u[2],u[3]);b<m-2;)l.bezierCurveTo(u[b++],u[b++],u[b++],u[b++],u[b++],u[b++]);f||l.quadraticCurveTo(u[m-2],u[m-1],c[d-2],c[d-1])}else if(h)for(b=2;b<d;)l.bezierCurveTo(c[b++],c[b++],c[b++],c[b++],c[b++],c[b++]);else for(b=2;b<d;b+=2)l.lineTo(c[b],c[b+1]);f?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():i(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),c=l.length,d=this.tension(),g=s(l[c-2],l[c-1],l[0],l[1],l[2],l[3],d),f=s(l[c-4],l[c-3],l[c-2],l[c-1],l[0],l[1],d),h=i(l,d);return[g[2],g[3]].concat(h).concat([f[0],f[1],l[c-2],l[c-1],f[2],f[3],g[0],g[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let c=l[0],d=l[0],g=l[1],f=l[1],h,u;for(let m=0;m<l.length/2;m++)h=l[m*2],u=l[m*2+1],c=Math.min(c,h),d=Math.max(d,h),g=Math.min(g,u),f=Math.max(f,u);return{x:c,y:g,width:d-c,height:f-g}}};return Lr.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,r.getNumberArrayValidator)()),Lr}var Ir={},fs={},Xl;function km(){return Xl||(Xl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,l)=>{let c,d;const f=l/2;c=0;for(let h=0;h<20;h++)d=f*t.tValues[20][h]+f,c+=t.cValues[20][h]*r(o,a,d);return f*c};t.getCubicArcLength=e;const n=(o,a,l)=>{l===void 0&&(l=1);const c=o[0]-2*o[1]+o[2],d=a[0]-2*a[1]+a[2],g=2*o[1]-2*o[0],f=2*a[1]-2*a[0],h=4*(c*c+d*d),u=4*(c*g+d*f),m=g*g+f*f;if(h===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const b=u/(2*h),_=m/h,p=l+b,v=_-b*b,w=p*p+v>0?Math.sqrt(p*p+v):0,S=b*b+v>0?Math.sqrt(b*b+v):0,E=b+Math.sqrt(b*b+v)!==0?v*Math.log(Math.abs((p+w)/(b+S))):0;return Math.sqrt(h)/2*(p*w-b*S+E)};t.getQuadraticArcLength=n;function r(o,a,l){const c=s(1,l,o),d=s(1,l,a),g=c*c+d*d;return Math.sqrt(g)}const s=(o,a,l)=>{const c=l.length-1;let d,g;if(c===0)return 0;if(o===0){g=0;for(let f=0;f<=c;f++)g+=t.binomialCoefficients[c][f]*Math.pow(1-a,c-f)*Math.pow(a,f)*l[f];return g}else{d=new Array(c);for(let f=0;f<c;f++)d[f]=c*(l[f+1]-l[f]);return s(o-1,a,d)}},i=(o,a,l)=>{let c=1,d=o/a,g=(o-l(d))/a,f=0;for(;c>.001;){const h=l(d+g),u=Math.abs(o-h)/a;if(u<c)c=u,d+=g;else{const m=l(d-g),b=Math.abs(o-m)/a;b<c?(c=b,d-=g):g/=2}if(f++,f>500)break}return d};t.t2length=i}(fs)),fs}var Kl;function ma(){if(Kl)return Ir;Kl=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Path=void 0;const t=bt(),e=ie(),n=pt(),r=km();let s=class he extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=he.parsePathData(this.data()),this.pathLength=he.getPathLength(this.dataArray)}_sceneFunc(o){const a=this.dataArray;o.beginPath();let l=!1;for(let w=0;w<a.length;w++){const S=a[w].command,E=a[w].points;switch(S){case"L":o.lineTo(E[0],E[1]);break;case"M":o.moveTo(E[0],E[1]);break;case"C":o.bezierCurveTo(E[0],E[1],E[2],E[3],E[4],E[5]);break;case"Q":o.quadraticCurveTo(E[0],E[1],E[2],E[3]);break;case"A":var c=E[0],d=E[1],g=E[2],f=E[3],h=E[4],u=E[5],m=E[6],b=E[7],_=g>f?g:f,p=g>f?1:g/f,v=g>f?f/g:1;o.translate(c,d),o.rotate(m),o.scale(p,v),o.arc(0,0,_,h,h+u,1-b),o.scale(1/p,1/v),o.rotate(-m),o.translate(-c,-d);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(h){if(h.command==="A"){const u=h.points[4],m=h.points[5],b=h.points[4]+m;let _=Math.PI/180;if(Math.abs(u-b)<_&&(_=Math.abs(u-b)),m<0)for(let p=u-_;p>b;p-=_){const v=he.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],p,0);o.push(v.x,v.y)}else for(let p=u+_;p<b;p+=_){const v=he.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],p,0);o.push(v.x,v.y)}}else if(h.command==="C")for(let u=0;u<=1;u+=.01){const m=he.getPointOnCubicBezier(u,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);o.push(m.x,m.y)}else o=o.concat(h.points)});let a=o[0],l=o[0],c=o[1],d=o[1],g,f;for(let h=0;h<o.length/2;h++)g=o[h*2],f=o[h*2+1],isNaN(g)||(a=Math.min(a,g),l=Math.max(l,g)),isNaN(f)||(c=Math.min(c,f),d=Math.max(d,f));return{x:a,y:c,width:l-a,height:d-c}}getLength(){return this.pathLength}getPointAtLength(o){return he.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,c){return Math.sqrt((l-o)*(l-o)+(c-a)*(c-a))}static getPathLength(o){let a=0;for(let l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){let l,c=0,d=a.length;if(!d)return null;for(;c<d&&o>a[c].pathLength;)o-=a[c].pathLength,++c;if(c===d)return l=a[c-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[c].points.slice(0,2),{x:l[0],y:l[1]};const g=a[c],f=g.points;switch(g.command){case"L":return he.getPointOnLine(o,g.start.x,g.start.y,f[0],f[1]);case"C":return he.getPointOnCubicBezier((0,r.t2length)(o,he.getPathLength(a),w=>(0,r.getCubicArcLength)([g.start.x,f[0],f[2],f[4]],[g.start.y,f[1],f[3],f[5]],w)),g.start.x,g.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return he.getPointOnQuadraticBezier((0,r.t2length)(o,he.getPathLength(a),w=>(0,r.getQuadraticArcLength)([g.start.x,f[0],f[2]],[g.start.y,f[1],f[3]],w)),g.start.x,g.start.y,f[0],f[1],f[2],f[3]);case"A":var h=f[0],u=f[1],m=f[2],b=f[3],_=f[4],p=f[5],v=f[6];return _+=p*o/g.pathLength,he.getPointOnEllipticalArc(h,u,m,b,_,v)}return null}static getPointOnLine(o,a,l,c,d,g,f){g=g??a,f=f??l;const h=this.getLineLength(a,l,c,d);if(h<1e-10)return{x:a,y:l};if(c===a)return{x:g,y:f+(d>l?o:-o)};const u=(d-l)/(c-a),m=Math.sqrt(o*o/(1+u*u))*(c<a?-1:1),b=u*m;if(Math.abs(f-l-u*(g-a))<1e-10)return{x:g+m,y:f+b};const _=((g-a)*(c-a)+(f-l)*(d-l))/(h*h),p=a+_*(c-a),v=l+_*(d-l),w=this.getLineLength(g,f,p,v),S=Math.sqrt(o*o-w*w),E=Math.sqrt(S*S/(1+u*u))*(c<a?-1:1),F=u*E;return{x:p+E,y:v+F}}static getPointOnCubicBezier(o,a,l,c,d,g,f,h,u){function m(S){return S*S*S}function b(S){return 3*S*S*(1-S)}function _(S){return 3*S*(1-S)*(1-S)}function p(S){return(1-S)*(1-S)*(1-S)}const v=h*m(o)+g*b(o)+c*_(o)+a*p(o),w=u*m(o)+f*b(o)+d*_(o)+l*p(o);return{x:v,y:w}}static getPointOnQuadraticBezier(o,a,l,c,d,g,f){function h(p){return p*p}function u(p){return 2*p*(1-p)}function m(p){return(1-p)*(1-p)}const b=g*h(o)+c*u(o)+a*m(o),_=f*h(o)+d*u(o)+l*m(o);return{x:b,y:_}}static getPointOnEllipticalArc(o,a,l,c,d,g){const f=Math.cos(g),h=Math.sin(g),u={x:l*Math.cos(d),y:c*Math.sin(d)};return{x:o+(u.x*f-u.y*h),y:a+(u.x*h+u.y*f)}}static parsePathData(o){if(!o)return[];let a=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var c=0;c<l.length;c++)a=a.replace(new RegExp(l[c],"g"),"|"+l[c]);const d=a.split("|"),g=[],f=[];let h=0,u=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let b;for(c=1;c<d.length;c++){let y=d[c],x=y.charAt(0);for(y=y.slice(1),f.length=0;b=m.exec(y);)f.push(b[0]);const C=[];for(let R=0,O=f.length;R<O;R++){if(f[R]==="00"){C.push(0,0);continue}const G=parseFloat(f[R]);isNaN(G)?C.push(0):C.push(G)}for(;C.length>0&&!isNaN(C[0]);){let R="",O=[];const G=h,I=u;var _,p,v,w,S,E,F,k,N,A;switch(x){case"l":h+=C.shift(),u+=C.shift(),R="L",O.push(h,u);break;case"L":h=C.shift(),u=C.shift(),O.push(h,u);break;case"m":var T=C.shift(),P=C.shift();if(h+=T,u+=P,R="M",g.length>2&&g[g.length-1].command==="z"){for(let W=g.length-2;W>=0;W--)if(g[W].command==="M"){h=g[W].points[0]+T,u=g[W].points[1]+P;break}}O.push(h,u),x="l";break;case"M":h=C.shift(),u=C.shift(),R="M",O.push(h,u),x="L";break;case"h":h+=C.shift(),R="L",O.push(h,u);break;case"H":h=C.shift(),R="L",O.push(h,u);break;case"v":u+=C.shift(),R="L",O.push(h,u);break;case"V":u=C.shift(),R="L",O.push(h,u);break;case"C":O.push(C.shift(),C.shift(),C.shift(),C.shift()),h=C.shift(),u=C.shift(),O.push(h,u);break;case"c":O.push(h+C.shift(),u+C.shift(),h+C.shift(),u+C.shift()),h+=C.shift(),u+=C.shift(),R="C",O.push(h,u);break;case"S":p=h,v=u,_=g[g.length-1],_.command==="C"&&(p=h+(h-_.points[2]),v=u+(u-_.points[3])),O.push(p,v,C.shift(),C.shift()),h=C.shift(),u=C.shift(),R="C",O.push(h,u);break;case"s":p=h,v=u,_=g[g.length-1],_.command==="C"&&(p=h+(h-_.points[2]),v=u+(u-_.points[3])),O.push(p,v,h+C.shift(),u+C.shift()),h+=C.shift(),u+=C.shift(),R="C",O.push(h,u);break;case"Q":O.push(C.shift(),C.shift()),h=C.shift(),u=C.shift(),O.push(h,u);break;case"q":O.push(h+C.shift(),u+C.shift()),h+=C.shift(),u+=C.shift(),R="Q",O.push(h,u);break;case"T":p=h,v=u,_=g[g.length-1],_.command==="Q"&&(p=h+(h-_.points[0]),v=u+(u-_.points[1])),h=C.shift(),u=C.shift(),R="Q",O.push(p,v,h,u);break;case"t":p=h,v=u,_=g[g.length-1],_.command==="Q"&&(p=h+(h-_.points[0]),v=u+(u-_.points[1])),h+=C.shift(),u+=C.shift(),R="Q",O.push(p,v,h,u);break;case"A":w=C.shift(),S=C.shift(),E=C.shift(),F=C.shift(),k=C.shift(),N=h,A=u,h=C.shift(),u=C.shift(),R="A",O=this.convertEndpointToCenterParameterization(N,A,h,u,F,k,w,S,E);break;case"a":w=C.shift(),S=C.shift(),E=C.shift(),F=C.shift(),k=C.shift(),N=h,A=u,h+=C.shift(),u+=C.shift(),R="A",O=this.convertEndpointToCenterParameterization(N,A,h,u,F,k,w,S,E);break}g.push({command:R||x,points:O,start:{x:G,y:I},pathLength:this.calcLength(G,I,R||x,O)})}(x==="z"||x==="Z")&&g.push({command:"z",points:[],start:void 0,pathLength:0})}return g}static calcLength(o,a,l,c){let d,g,f,h;const u=he;switch(l){case"L":return u.getLineLength(o,a,c[0],c[1]);case"C":return(0,r.getCubicArcLength)([o,c[0],c[2],c[4]],[a,c[1],c[3],c[5]],1);case"Q":return(0,r.getQuadraticArcLength)([o,c[0],c[2]],[a,c[1],c[3]],1);case"A":d=0;var m=c[4],b=c[5],_=c[4]+b,p=Math.PI/180;if(Math.abs(m-_)<p&&(p=Math.abs(m-_)),g=u.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],m,0),b<0)for(h=m-p;h>_;h-=p)f=u.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],h,0),d+=u.getLineLength(g.x,g.y,f.x,f.y),g=f;else for(h=m+p;h<_;h+=p)f=u.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],h,0),d+=u.getLineLength(g.x,g.y,f.x,f.y),g=f;return f=u.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],_,0),d+=u.getLineLength(g.x,g.y,f.x,f.y),d}return 0}static convertEndpointToCenterParameterization(o,a,l,c,d,g,f,h,u){const m=u*(Math.PI/180),b=Math.cos(m)*(o-l)/2+Math.sin(m)*(a-c)/2,_=-1*Math.sin(m)*(o-l)/2+Math.cos(m)*(a-c)/2,p=b*b/(f*f)+_*_/(h*h);p>1&&(f*=Math.sqrt(p),h*=Math.sqrt(p));let v=Math.sqrt((f*f*(h*h)-f*f*(_*_)-h*h*(b*b))/(f*f*(_*_)+h*h*(b*b)));d===g&&(v*=-1),isNaN(v)&&(v=0);const w=v*f*_/h,S=v*-h*b/f,E=(o+l)/2+Math.cos(m)*w-Math.sin(m)*S,F=(a+c)/2+Math.sin(m)*w+Math.cos(m)*S,k=function(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])},N=function(C,R){return(C[0]*R[0]+C[1]*R[1])/(k(C)*k(R))},A=function(C,R){return(C[0]*R[1]<C[1]*R[0]?-1:1)*Math.acos(N(C,R))},T=A([1,0],[(b-w)/f,(_-S)/h]),P=[(b-w)/f,(_-S)/h],y=[(-1*b-w)/f,(-1*_-S)/h];let x=A(P,y);return N(P,y)<=-1&&(x=Math.PI),N(P,y)>=1&&(x=0),g===0&&x>0&&(x=x-2*Math.PI),g===1&&x<0&&(x=x+2*Math.PI),[E,F,f,h,T,x,m,g]}};return Ir.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"data"),Ir}var Jl;function Tm(){if(Jl)return Nr;Jl=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Arrow=void 0;const t=bt(),e=kd(),n=_t(),r=pt(),s=ma();let i=class extends e.Line{_sceneFunc(a){super._sceneFunc(a);const l=Math.PI*2,c=this.points();let d=c;const g=this.tension()!==0&&c.length>4;g&&(d=this.getTensionPoints());const f=this.pointerLength(),h=c.length;let u,m;if(g){const p=[d[d.length-4],d[d.length-3],d[d.length-2],d[d.length-1],c[h-2],c[h-1]],v=s.Path.calcLength(d[d.length-4],d[d.length-3],"C",p),w=s.Path.getPointOnQuadraticBezier(Math.min(1,1-f/v),p[0],p[1],p[2],p[3],p[4],p[5]);u=c[h-2]-w.x,m=c[h-1]-w.y}else u=c[h-2]-c[h-4],m=c[h-1]-c[h-3];const b=(Math.atan2(m,u)+l)%l,_=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(c[h-2],c[h-1]),a.rotate(b),a.moveTo(0,0),a.lineTo(-f,_/2),a.lineTo(-f,-_/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(c[0],c[1]),g?(u=(d[0]+d[2])/2-c[0],m=(d[1]+d[3])/2-c[1]):(u=c[2]-c[0],m=c[3]-c[1]),a.rotate((Math.atan2(-m,-u)+l)%l),a.moveTo(0,0),a.lineTo(-f,_/2),a.lineTo(-f,-_/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x-l,y:a.y-l,width:a.width+l*2,height:a.height+l*2}}};return Nr.Arrow=i,i.prototype.className="Arrow",(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"pointerLength",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"pointerWidth",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"pointerAtBeginning",!1),t.Factory.addGetterSetter(i,"pointerAtEnding",!0),Nr}var Dr={},Ql;function Pm(){if(Ql)return Dr;Ql=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Circle=void 0;const t=bt(),e=ie(),n=_t(),r=pt();let s=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return Dr.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,n.getNumberValidator)()),Dr}var Gr={},Zl;function Rm(){if(Zl)return Gr;Zl=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Ellipse=void 0;const t=bt(),e=ie(),n=_t(),r=pt();let s=class extends e.Shape{_sceneFunc(o){const a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return Gr.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(s),t.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),t.Factory.addGetterSetter(s,"radiusX",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"radiusY",0,(0,n.getNumberValidator)()),Gr}var Br={},$l;function Om(){if($l)return Br;$l=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Image=void 0;const t=Kt(),e=bt(),n=ie(),r=pt(),s=_t();class i extends n.Shape{constructor(a){super(a),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const a=!!this.cornerRadius(),l=this.hasShadow();return a&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),c=this.getHeight(),d=this.cornerRadius(),g=this.attrs.image;let f;if(g){const h=this.attrs.cropWidth,u=this.attrs.cropHeight;h&&u?f=[g,this.cropX(),this.cropY(),h,u,0,0,l,c]:f=[g,0,0,l,c]}(this.hasFill()||this.hasStroke()||d)&&(a.beginPath(),d?t.Util.drawRoundedRectPath(a,l,c,d):a.rect(0,0,l,c),a.closePath(),a.fillStrokeShape(this)),g&&(d&&a.clip(),a.drawImage.apply(a,f))}_hitFunc(a){const l=this.width(),c=this.height(),d=this.cornerRadius();a.beginPath(),d?t.Util.drawRoundedRectPath(a,l,c,d):a.rect(0,0,l,c),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,c=null){const d=t.Util.createImageElement();d.onload=function(){const g=new i({image:d});l(g)},d.onerror=c,d.crossOrigin="Anonymous",d.src=a}}return Br.Image=i,i.prototype.className="Image",(0,r._registerNode)(i),e.Factory.addGetterSetter(i,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(i,"image"),e.Factory.addComponentsGetterSetter(i,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(i,"cropX",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(i,"cropY",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(i,"cropWidth",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(i,"cropHeight",0,(0,s.getNumberValidator)()),Br}var Cn={},tc;function Fm(){if(tc)return Cn;tc=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Tag=Cn.Label=void 0;const t=bt(),e=ie(),n=ga(),r=_t(),s=pt(),i=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",c="right",d="down",g="left",f=i.length;let h=class extends n.Group{constructor(b){super(b),this.on("add.konva",function(_){this._addListeners(_.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(b){let _=this,p;const v=function(){_._sync()};for(p=0;p<f;p++)b.on(i[p]+o,v)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let b=this.getText(),_=this.getTag(),p,v,w,S,E,F,k;if(b&&_){switch(p=b.width(),v=b.height(),w=_.pointerDirection(),S=_.pointerWidth(),k=_.pointerHeight(),E=0,F=0,w){case l:E=p/2,F=-1*k;break;case c:E=p+S,F=v/2;break;case d:E=p/2,F=v+k;break;case g:E=-1*S,F=v/2;break}_.setAttrs({x:-1*E,y:-1*F,width:p,height:v}),b.setAttrs({x:-1*E,y:-1*F})}}};Cn.Label=h,h.prototype.className="Label",(0,s._registerNode)(h);class u extends e.Shape{_sceneFunc(b){const _=this.width(),p=this.height(),v=this.pointerDirection(),w=this.pointerWidth(),S=this.pointerHeight(),E=this.cornerRadius();let F=0,k=0,N=0,A=0;typeof E=="number"?F=k=N=A=Math.min(E,_/2,p/2):(F=Math.min(E[0]||0,_/2,p/2),k=Math.min(E[1]||0,_/2,p/2),A=Math.min(E[2]||0,_/2,p/2),N=Math.min(E[3]||0,_/2,p/2)),b.beginPath(),b.moveTo(F,0),v===l&&(b.lineTo((_-w)/2,0),b.lineTo(_/2,-1*S),b.lineTo((_+w)/2,0)),b.lineTo(_-k,0),b.arc(_-k,k,k,Math.PI*3/2,0,!1),v===c&&(b.lineTo(_,(p-S)/2),b.lineTo(_+w,p/2),b.lineTo(_,(p+S)/2)),b.lineTo(_,p-A),b.arc(_-A,p-A,A,0,Math.PI/2,!1),v===d&&(b.lineTo((_+w)/2,p),b.lineTo(_/2,p+S),b.lineTo((_-w)/2,p)),b.lineTo(N,p),b.arc(N,p-N,N,Math.PI/2,Math.PI,!1),v===g&&(b.lineTo(0,(p+S)/2),b.lineTo(-1*w,p/2),b.lineTo(0,(p-S)/2)),b.lineTo(0,F),b.arc(F,F,F,Math.PI,Math.PI*3/2,!1),b.closePath(),b.fillStrokeShape(this)}getSelfRect(){let b=0,_=0,p=this.pointerWidth(),v=this.pointerHeight(),w=this.pointerDirection(),S=this.width(),E=this.height();return w===l?(_-=v,E+=v):w===d?E+=v:w===g?(b-=p*1.5,S+=p):w===c&&(S+=p*1.5),{x:b,y:_,width:S,height:E}}}return Cn.Tag=u,u.prototype.className="Tag",(0,s._registerNode)(u),t.Factory.addGetterSetter(u,"pointerDirection",a),t.Factory.addGetterSetter(u,"pointerWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(u,"pointerHeight",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(u,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Cn}var Vr={},ec;function Td(){if(ec)return Vr;ec=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Rect=void 0;const t=bt(),e=ie(),n=pt(),r=Kt(),s=_t();let i=class extends e.Shape{_sceneFunc(a){const l=this.cornerRadius(),c=this.width(),d=this.height();a.beginPath(),l?r.Util.drawRoundedRectPath(a,c,d,l):a.rect(0,0,c,d),a.closePath(),a.fillStrokeShape(this)}};return Vr.Rect=i,i.prototype.className="Rect",(0,n._registerNode)(i),t.Factory.addGetterSetter(i,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Vr}var Ur={},nc;function Mm(){if(nc)return Ur;nc=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.RegularPolygon=void 0;const t=bt(),e=ie(),n=_t(),r=pt();let s=class extends e.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(let l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(let c=0;c<o;c++)l.push({x:a*Math.sin(c*2*Math.PI/o),y:-1*a*Math.cos(c*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let a=o[0].x,l=o[0].y,c=o[0].x,d=o[0].y;return o.forEach(g=>{a=Math.min(a,g.x),l=Math.max(l,g.x),c=Math.min(c,g.y),d=Math.max(d,g.y)}),{x:a,y:c,width:l-a,height:d-c}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Ur.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"sides",0,(0,n.getNumberValidator)()),Ur}var zr={},rc;function Nm(){if(rc)return zr;rc=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.Ring=void 0;const t=bt(),e=ie(),n=_t(),r=pt(),s=Math.PI*2;let i=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,s,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),s,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return zr.Ring=i,i.prototype.className="Ring",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,n.getNumberValidator)()),zr}var Wr={},ic;function Lm(){if(ic)return Wr;ic=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.Sprite=void 0;const t=bt(),e=ie(),n=pa(),r=_t(),s=pt();let i=class extends e.Shape{constructor(a){super(a),this._updated=!0,this.anim=new n.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){const l=this.animation(),c=this.frameIndex(),d=c*4,g=this.animations()[l],f=this.frameOffsets(),h=g[d+0],u=g[d+1],m=g[d+2],b=g[d+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,m,b),a.closePath(),a.fillStrokeShape(this)),_)if(f){const p=f[l],v=c*2;a.drawImage(_,h,u,m,b,p[v+0],p[v+1],m,b)}else a.drawImage(_,h,u,m,b,0,0,m,b)}_hitFunc(a){const l=this.animation(),c=this.frameIndex(),d=c*4,g=this.animations()[l],f=this.frameOffsets(),h=g[d+2],u=g[d+3];if(a.beginPath(),f){const m=f[l],b=c*2;a.rect(m[b+0],m[b+1],h,u)}else a.rect(0,0,h,u);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const a=this.frameIndex(),l=this.animation(),c=this.animations(),d=c[l],g=d.length/4;a<g-1?this.frameIndex(a+1):this.frameIndex(0)}};return Wr.Sprite=i,i.prototype.className="Sprite",(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"animation"),t.Factory.addGetterSetter(i,"animations"),t.Factory.addGetterSetter(i,"frameOffsets"),t.Factory.addGetterSetter(i,"image"),t.Factory.addGetterSetter(i,"frameIndex",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"frameRate",17,(0,r.getNumberValidator)()),t.Factory.backCompat(i,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Wr}var jr={},oc;function Im(){if(oc)return jr;oc=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Star=void 0;const t=bt(),e=ie(),n=_t(),r=pt();let s=class extends e.Shape{_sceneFunc(o){const a=this.innerRadius(),l=this.outerRadius(),c=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let d=1;d<c*2;d++){const g=d%2===0?l:a,f=g*Math.sin(d*Math.PI/c),h=-1*g*Math.cos(d*Math.PI/c);o.lineTo(f,h)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return jr.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"numPoints",5,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,n.getNumberValidator)()),jr}var zn={},sc;function Pd(){if(sc)return zn;sc=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.Text=void 0,zn.stringToArray=o;const t=Kt(),e=bt(),n=ie(),r=pt(),s=_t(),i=pt();function o(D){return[...D].reduce((z,j,X,J)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(j)?z.push(j):new RegExp("\\p{Regional_Indicator}{2}","u").test(j+(J[X+1]||""))?z.push(j+J[X+1]):X>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(j)?z[z.length-1]+=j:z.push(j),z),[])}const a="auto",l="center",c="inherit",d="justify",g="Change.konva",f="2d",h="-",u="left",m="text",b="Text",_="top",p="bottom",v="middle",w="normal",S="px ",E=" ",F="right",k="rtl",N="word",A="char",T="none",P="",y=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],x=y.length;function C(D){return D.split(",").map(z=>{z=z.trim();const j=z.indexOf(" ")>=0,X=z.indexOf('"')>=0||z.indexOf("'")>=0;return j&&!X&&(z=`"${z}"`),z}).join(", ")}let R;function O(){return R||(R=t.Util.createCanvasElement().getContext(f),R)}function G(D){D.fillText(this._partialText,this._partialTextX,this._partialTextY)}function I(D){D.setAttr("miterLimit",2),D.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function W(D){return D=D||{},!D.fillLinearGradientColorStops&&!D.fillRadialGradientColorStops&&!D.fillPatternImage&&(D.fill=D.fill||"black"),D}class M extends n.Shape{constructor(z){super(W(z)),this._partialTextX=0,this._partialTextY=0;for(let j=0;j<x;j++)this.on(y[j]+g,this._setTextData);this._setTextData()}_sceneFunc(z){const j=this.textArr,X=j.length;if(!this.text())return;let J=this.padding(),L=this.fontSize(),B=this.lineHeight()*L,H=this.verticalAlign(),Q=this.direction(),Z=0,V=this.align(),Y=this.getWidth(),$=this.letterSpacing(),et=this.fill(),ct=this.textDecoration(),tt=ct.indexOf("underline")!==-1,st=ct.indexOf("line-through")!==-1,Ct;Q=Q===c?z.direction:Q;let Tt=B/2,ht=v;if(r.Konva._fixTextRendering){const ye=this.measureSize("M");ht="alphabetic",Tt=(ye.fontBoundingBoxAscent-ye.fontBoundingBoxDescent)/2+B/2}var wt=0,lt=0;for(Q===k&&z.setAttr("direction",Q),z.setAttr("font",this._getContextFont()),z.setAttr("textBaseline",ht),z.setAttr("textAlign",u),H===v?Z=(this.getHeight()-X*B-J*2)/2:H===p&&(Z=this.getHeight()-X*B-J*2),z.translate(J,Z+J),Ct=0;Ct<X;Ct++){var wt=0,lt=0,Yt=j[Ct],Jt=Yt.text,Pt=Yt.width,Et=Yt.lastInParagraph,ee,ce,Ht;if(z.save(),V===F?wt+=Y-Pt-J*2:V===l&&(wt+=(Y-Pt-J*2)/2),tt){z.save(),z.beginPath();const Ce=r.Konva._fixTextRendering?Math.round(L/4):Math.round(L/2),Ne=wt,rn=Tt+lt+Ce;z.moveTo(Ne,rn),ee=Jt.split(" ").length-1,ce=ee===0,Ht=V===d&&!Et?Y-J*2:Pt,z.lineTo(Ne+Math.round(Ht),rn),z.lineWidth=L/15;const Vo=this._getLinearGradient();z.strokeStyle=Vo||et,z.stroke(),z.restore()}if(st){z.save(),z.beginPath();const Ce=r.Konva._fixTextRendering?-Math.round(L/4):0;z.moveTo(wt,Tt+lt+Ce),ee=Jt.split(" ").length-1,ce=ee===0,Ht=V===d&&Et&&!ce?Y-J*2:Pt,z.lineTo(wt+Math.round(Ht),Tt+lt+Ce),z.lineWidth=L/15;const Ne=this._getLinearGradient();z.strokeStyle=Ne||et,z.stroke(),z.restore()}if(Q!==k&&($!==0||V===d)){ee=Jt.split(" ").length-1;const Ce=o(Jt);for(let Ne=0;Ne<Ce.length;Ne++){const rn=Ce[Ne];rn===" "&&!Et&&V===d&&(wt+=(Y-J*2-Pt)/ee),this._partialTextX=wt,this._partialTextY=Tt+lt,this._partialText=rn,z.fillStrokeShape(this),wt+=this.measureSize(rn).width+$}}else $!==0&&z.setAttr("letterSpacing",`${$}px`),this._partialTextX=wt,this._partialTextY=Tt+lt,this._partialText=Jt,z.fillStrokeShape(this);z.restore(),X>1&&(Tt+=B)}}_hitFunc(z){const j=this.getWidth(),X=this.getHeight();z.beginPath(),z.rect(0,0,j,X),z.closePath(),z.fillStrokeShape(this)}setText(z){const j=t.Util._isString(z)?z:z==null?"":z+"";return this._setAttr(m,j),this}getWidth(){return this.attrs.width===a||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===a||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(z){var j,X,J,L,B,H,Q,Z,V,Y,$;let et=O(),ct=this.fontSize(),tt;et.save(),et.font=this._getContextFont(),tt=et.measureText(z),et.restore();const st=ct/100;return{actualBoundingBoxAscent:(j=tt.actualBoundingBoxAscent)!==null&&j!==void 0?j:71.58203125*st,actualBoundingBoxDescent:(X=tt.actualBoundingBoxDescent)!==null&&X!==void 0?X:0,actualBoundingBoxLeft:(J=tt.actualBoundingBoxLeft)!==null&&J!==void 0?J:-7.421875*st,actualBoundingBoxRight:(L=tt.actualBoundingBoxRight)!==null&&L!==void 0?L:75.732421875*st,alphabeticBaseline:(B=tt.alphabeticBaseline)!==null&&B!==void 0?B:0,emHeightAscent:(H=tt.emHeightAscent)!==null&&H!==void 0?H:100*st,emHeightDescent:(Q=tt.emHeightDescent)!==null&&Q!==void 0?Q:-20*st,fontBoundingBoxAscent:(Z=tt.fontBoundingBoxAscent)!==null&&Z!==void 0?Z:91*st,fontBoundingBoxDescent:(V=tt.fontBoundingBoxDescent)!==null&&V!==void 0?V:21*st,hangingBaseline:(Y=tt.hangingBaseline)!==null&&Y!==void 0?Y:72.80000305175781*st,ideographicBaseline:($=tt.ideographicBaseline)!==null&&$!==void 0?$:-21*st,width:tt.width,height:ct}}_getContextFont(){return this.fontStyle()+E+this.fontVariant()+E+(this.fontSize()+S)+C(this.fontFamily())}_addTextLine(z){this.align()===d&&(z=z.trim());const X=this._getTextWidth(z);return this.textArr.push({text:z,width:X,lastInParagraph:!1})}_getTextWidth(z){const j=this.letterSpacing(),X=z.length;return O().measureText(z).width+(X?j*(X-1):0)}_setTextData(){let z=this.text().split(`
`),j=+this.fontSize(),X=0,J=this.lineHeight()*j,L=this.attrs.width,B=this.attrs.height,H=L!==a&&L!==void 0,Q=B!==a&&B!==void 0,Z=this.padding(),V=L-Z*2,Y=B-Z*2,$=0,et=this.wrap(),ct=et!==T,tt=et!==A&&ct,st=this.ellipsis();this.textArr=[],O().font=this._getContextFont();const Ct=st?this._getTextWidth(P):0;for(let ht=0,wt=z.length;ht<wt;++ht){let lt=z[ht],Yt=this._getTextWidth(lt);if(H&&Yt>V)for(;lt.length>0;){let Jt=0,Pt=lt.length,Et="",ee=0;for(;Jt<Pt;){const ce=Jt+Pt>>>1,Ht=lt.slice(0,ce+1),ye=this._getTextWidth(Ht)+Ct;ye<=V?(Jt=ce+1,Et=Ht,ee=ye):Pt=ce}if(Et){if(tt){var Tt;const Ht=lt[Et.length];(Ht===E||Ht===h)&&ee<=V?Tt=Et.length:Tt=Math.max(Et.lastIndexOf(E),Et.lastIndexOf(h))+1,Tt>0&&(Jt=Tt,Et=Et.slice(0,Jt),ee=this._getTextWidth(Et))}if(Et=Et.trimRight(),this._addTextLine(Et),X=Math.max(X,ee),$+=J,this._shouldHandleEllipsis($)){this._tryToAddEllipsisToLastLine();break}if(lt=lt.slice(Jt),lt=lt.trimLeft(),lt.length>0&&(Yt=this._getTextWidth(lt),Yt<=V)){this._addTextLine(lt),$+=J,X=Math.max(X,Yt);break}}else break}else this._addTextLine(lt),$+=J,X=Math.max(X,Yt),this._shouldHandleEllipsis($)&&ht<wt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Q&&$+J>Y)break}this.textHeight=j,this.textWidth=X}_shouldHandleEllipsis(z){const j=+this.fontSize(),X=this.lineHeight()*j,J=this.attrs.height,L=J!==a&&J!==void 0,B=this.padding(),H=J-B*2;return!(this.wrap()!==T)||L&&z+X>H}_tryToAddEllipsisToLastLine(){const z=this.attrs.width,j=z!==a&&z!==void 0,X=this.padding(),J=z-X*2,L=this.ellipsis(),B=this.textArr[this.textArr.length-1];!B||!L||(j&&(this._getTextWidth(B.text+P)<J||(B.text=B.text.slice(0,B.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(B.text+P))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const z=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,j=this.hasShadow();return z&&j?!0:super._useBufferCanvas()}}return zn.Text=M,M.prototype._fillFunc=G,M.prototype._strokeFunc=I,M.prototype.className=b,M.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,i._registerNode)(M),e.Factory.overWriteSetter(M,"width",(0,s.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(M,"height",(0,s.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(M,"direction",c),e.Factory.addGetterSetter(M,"fontFamily","Arial"),e.Factory.addGetterSetter(M,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"fontStyle",w),e.Factory.addGetterSetter(M,"fontVariant",w),e.Factory.addGetterSetter(M,"padding",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"align",u),e.Factory.addGetterSetter(M,"verticalAlign",_),e.Factory.addGetterSetter(M,"lineHeight",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"wrap",N),e.Factory.addGetterSetter(M,"ellipsis",!1,(0,s.getBooleanValidator)()),e.Factory.addGetterSetter(M,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(M,"text","",(0,s.getStringValidator)()),e.Factory.addGetterSetter(M,"textDecoration",""),zn}var Hr={},ac;function Dm(){if(ac)return Hr;ac=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.TextPath=void 0;const t=Kt(),e=bt(),n=ie(),r=ma(),s=Pd(),i=_t(),o=pt(),a="",l="normal";function c(f){f.fillText(this.partialText,0,0)}function d(f){f.strokeText(this.partialText,0,0)}let g=class extends n.Shape{constructor(h){super(h),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(h){if(!this.attrs.data)return null;const u=this.pathLength;return h-1>u?null:r.Path.getPointAtLengthOfDataArray(h,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(h){h.setAttr("font",this._getContextFont()),h.setAttr("textBaseline",this.textBaseline()),h.setAttr("textAlign","left"),h.save();const u=this.textDecoration(),m=this.fill(),b=this.fontSize(),_=this.glyphInfo;u==="underline"&&h.beginPath();for(let p=0;p<_.length;p++){h.save();const v=_[p].p0;h.translate(v.x,v.y),h.rotate(_[p].rotation),this.partialText=_[p].text,h.fillStrokeShape(this),u==="underline"&&(p===0&&h.moveTo(0,b/2+1),h.lineTo(b,b/2+1)),h.restore()}u==="underline"&&(h.strokeStyle=m,h.lineWidth=b/20,h.stroke()),h.restore()}_hitFunc(h){h.beginPath();const u=this.glyphInfo;if(u.length>=1){const m=u[0].p0;h.moveTo(m.x,m.y)}for(let m=0;m<u.length;m++){const b=u[m].p1;h.lineTo(b.x,b.y)}h.setAttr("lineWidth",this.fontSize()),h.setAttr("strokeStyle",this.colorKey),h.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(h){return s.Text.prototype.setText.call(this,h)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(h){const m=this.dummyCanvas.getContext("2d");m.save(),m.font=this._getContextFont();const b=m.measureText(h);return m.restore(),{width:b.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:h,height:u}=this._getTextSize(this.attrs.text);if(this.textWidth=h,this.textHeight=u,this.glyphInfo=[],!this.attrs.data)return null;const m=this.letterSpacing(),b=this.align(),_=this.kerningFunc(),p=Math.max(this.textWidth+((this.attrs.text||"").length-1)*m,0);let v=0;b==="center"&&(v=Math.max(0,this.pathLength/2-p/2)),b==="right"&&(v=Math.max(0,this.pathLength-p));const w=(0,s.stringToArray)(this.text());let S=v;for(let E=0;E<w.length;E++){const F=this._getPointAtLength(S);if(!F)return;let k=this._getTextSize(w[E]).width+m;if(w[E]===" "&&b==="justify"){const x=this.text().split(" ").length-1;k+=(this.pathLength-p)/x}const N=this._getPointAtLength(S+k);if(!N)return;const A=r.Path.getLineLength(F.x,F.y,N.x,N.y);let T=0;if(_)try{T=_(w[E-1],w[E])*this.fontSize()}catch{T=0}F.x+=T,N.x+=T,this.textWidth+=T;const P=r.Path.getPointOnLine(T+A/2,F.x,F.y,N.x,N.y),y=Math.atan2(N.y-F.y,N.x-F.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:w[E],rotation:y,p0:F,p1:N}),S+=k}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const h=[];this.glyphInfo.forEach(function(S){h.push(S.p0.x),h.push(S.p0.y),h.push(S.p1.x),h.push(S.p1.y)});let u=h[0]||0,m=h[0]||0,b=h[1]||0,_=h[1]||0,p,v;for(let S=0;S<h.length/2;S++)p=h[S*2],v=h[S*2+1],u=Math.min(u,p),m=Math.max(m,p),b=Math.min(b,v),_=Math.max(_,v);const w=this.fontSize();return{x:u-w/2,y:b-w/2,width:m-u+w,height:_-b+w}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Hr.TextPath=g,g.prototype._fillFunc=c,g.prototype._strokeFunc=d,g.prototype._fillFuncHit=c,g.prototype._strokeFuncHit=d,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(g),e.Factory.addGetterSetter(g,"data"),e.Factory.addGetterSetter(g,"fontFamily","Arial"),e.Factory.addGetterSetter(g,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(g,"fontStyle",l),e.Factory.addGetterSetter(g,"align","left"),e.Factory.addGetterSetter(g,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(g,"textBaseline","middle"),e.Factory.addGetterSetter(g,"fontVariant",l),e.Factory.addGetterSetter(g,"text",a),e.Factory.addGetterSetter(g,"textDecoration",null),e.Factory.addGetterSetter(g,"kerningFunc",null),Hr}var qr={},lc;function Gm(){if(lc)return qr;lc=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Transformer=void 0;const t=Kt(),e=bt(),n=Zt(),r=ie(),s=Td(),i=ga(),o=pt(),a=_t(),l=pt(),c="tr-konva",d=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(N=>N+`.${c}`).join(" "),g="nodesRect",f=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],h={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},u="ontouchstart"in o.Konva._global;function m(N,A,T){if(N==="rotater")return T;A+=t.Util.degToRad(h[N]||0);const P=(t.Util.radToDeg(A)%360+360)%360;return t.Util._inRange(P,315+22.5,360)||t.Util._inRange(P,0,22.5)?"ns-resize":t.Util._inRange(P,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(P,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(P,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(P,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(P,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(P,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(P,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+P),"pointer")}const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],_=1e8;function p(N){return{x:N.x+N.width/2*Math.cos(N.rotation)+N.height/2*Math.sin(-N.rotation),y:N.y+N.height/2*Math.cos(N.rotation)+N.width/2*Math.sin(N.rotation)}}function v(N,A,T){const P=T.x+(N.x-T.x)*Math.cos(A)-(N.y-T.y)*Math.sin(A),y=T.y+(N.x-T.x)*Math.sin(A)+(N.y-T.y)*Math.cos(A);return{...N,rotation:N.rotation+A,x:P,y}}function w(N,A){const T=p(N);return v(N,A,T)}function S(N,A,T){let P=A;for(let y=0;y<N.length;y++){const x=o.Konva.getAngle(N[y]),C=Math.abs(x-A)%(Math.PI*2);Math.min(C,Math.PI*2-C)<T&&(P=x)}return P}let E=0,F=class extends i.Group{constructor(A){super(A),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(d,this.update),this.getNode()&&this.update()}attachTo(A){return this.setNode(A),this}setNode(A){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([A])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return c+this._id}setNodes(A=[]){this._nodes&&this._nodes.length&&this.detach();const T=A.filter(y=>y.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=A=T,A.length===1&&this.useSingleNodeRotation()?this.rotation(A[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(y=>{const x=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},C=y._attrsAffectingSize.map(R=>R+"Change."+this._getEventNamespace()).join(" ");y.on(C,x),y.on(f.map(R=>R+`.${this._getEventNamespace()}`).join(" "),x),y.on(`absoluteTransformChange.${this._getEventNamespace()}`,x),this._proxyDrag(y)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(A){let T;A.on(`dragstart.${this._getEventNamespace()}`,P=>{T=A.getAbsolutePosition(),!this.isDragging()&&A!==this.findOne(".back")&&this.startDrag(P,!1)}),A.on(`dragmove.${this._getEventNamespace()}`,P=>{if(!T)return;const y=A.getAbsolutePosition(),x=y.x-T.x,C=y.y-T.y;this.nodes().forEach(R=>{if(R===A||R.isDragging())return;const O=R.getAbsolutePosition();R.setAbsolutePosition({x:O.x+x,y:O.y+C}),R.startDrag(P)}),T=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(A=>{A.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g,this.__getNodeRect)}__getNodeShape(A,T=this.rotation(),P){const y=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),x=A.getAbsoluteScale(P),C=A.getAbsolutePosition(P),R=y.x*x.x-A.offsetX()*x.x,O=y.y*x.y-A.offsetY()*x.y,G=(o.Konva.getAngle(A.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),I={x:C.x+R*Math.cos(G)+O*Math.sin(-G),y:C.y+O*Math.cos(G)+R*Math.sin(G),width:y.width*x.x,height:y.height*x.y,rotation:G};return v(I,-o.Konva.getAngle(T),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-_,y:-_,width:0,height:0,rotation:0};const T=[];this.nodes().map(G=>{const I=G.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),W=[{x:I.x,y:I.y},{x:I.x+I.width,y:I.y},{x:I.x+I.width,y:I.y+I.height},{x:I.x,y:I.y+I.height}],M=G.getAbsoluteTransform();W.forEach(function(D){const z=M.point(D);T.push(z)})});const P=new t.Transform;P.rotate(-o.Konva.getAngle(this.rotation()));let y=1/0,x=1/0,C=-1/0,R=-1/0;T.forEach(function(G){const I=P.point(G);y===void 0&&(y=C=I.x,x=R=I.y),y=Math.min(y,I.x),x=Math.min(x,I.y),C=Math.max(C,I.x),R=Math.max(R,I.y)}),P.invert();const O=P.point({x:y,y:x});return{x:O.x,y:O.y,width:C-y,height:R-x,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach(A=>{this._createAnchor(A)}),this._createAnchor("rotater")}_createAnchor(A){const T=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:A+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:u?10:"auto"}),P=this;T.on("mousedown touchstart",function(y){P._handleMouseDown(y)}),T.on("dragstart",y=>{T.stopDrag(),y.cancelBubble=!0}),T.on("dragend",y=>{y.cancelBubble=!0}),T.on("mouseenter",()=>{const y=o.Konva.getAngle(this.rotation()),x=this.rotateAnchorCursor(),C=m(A,y,x);T.getStage().content&&(T.getStage().content.style.cursor=C),this._cursorChange=!0}),T.on("mouseout",()=>{T.getStage().content&&(T.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(T)}_createBack(){const A=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(T,P){const y=P.getParent(),x=y.padding();T.beginPath(),T.rect(-x,-x,P.width()+x*2,P.height()+x*2),T.moveTo(P.width()/2,-x),y.rotateEnabled()&&y.rotateLineVisible()&&T.lineTo(P.width()/2,-y.rotateAnchorOffset()*t.Util._sign(P.height())-x),T.fillStrokeShape(P)},hitFunc:(T,P)=>{if(!this.shouldOverdrawWholeArea())return;const y=this.padding();T.beginPath(),T.rect(-y,-y,P.width()+y*2,P.height()+y*2),T.fillStrokeShape(P)}});this.add(A),this._proxyDrag(A),A.on("dragstart",T=>{T.cancelBubble=!0}),A.on("dragmove",T=>{T.cancelBubble=!0}),A.on("dragend",T=>{T.cancelBubble=!0}),this.on("dragmove",T=>{this.update()})}_handleMouseDown(A){if(this._transforming)return;this._movingAnchorName=A.target.name().split(" ")[0];const T=this._getNodeRect(),P=T.width,y=T.height,x=Math.sqrt(Math.pow(P,2)+Math.pow(y,2));this.sin=Math.abs(y/x),this.cos=Math.abs(P/x),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const C=A.target.getAbsolutePosition(),R=A.target.getStage().getPointerPosition();this._anchorDragOffset={x:R.x-C.x,y:R.y-C.y},E++,this._fire("transformstart",{evt:A.evt,target:this.getNode()}),this._nodes.forEach(O=>{O._fire("transformstart",{evt:A.evt,target:O})})}_handleMouseMove(A){let T,P,y;const x=this.findOne("."+this._movingAnchorName),C=x.getStage();C.setPointersPositions(A);const R=C.getPointerPosition();let O={x:R.x-this._anchorDragOffset.x,y:R.y-this._anchorDragOffset.y};const G=x.getAbsolutePosition();this.anchorDragBoundFunc()&&(O=this.anchorDragBoundFunc()(G,O,A)),x.setAbsolutePosition(O);const I=x.getAbsolutePosition();if(G.x===I.x&&G.y===I.y)return;if(this._movingAnchorName==="rotater"){const Q=this._getNodeRect();T=x.x()-Q.width/2,P=-x.y()+Q.height/2;let Z=Math.atan2(-P,T)+Math.PI/2;Q.height<0&&(Z-=Math.PI);const Y=o.Konva.getAngle(this.rotation())+Z,$=o.Konva.getAngle(this.rotationSnapTolerance()),ct=S(this.rotationSnaps(),Y,$)-Q.rotation,tt=w(Q,ct);this._fitNodesInto(tt,A);return}const W=this.shiftBehavior();let M;W==="inverted"?M=this.keepRatio()&&!A.shiftKey:W==="none"?M=this.keepRatio():M=this.keepRatio()||A.shiftKey;var J=this.centeredScaling()||A.altKey;if(this._movingAnchorName==="top-left"){if(M){var D=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};y=Math.sqrt(Math.pow(D.x-x.x(),2)+Math.pow(D.y-x.y(),2));var z=this.findOne(".top-left").x()>D.x?-1:1,j=this.findOne(".top-left").y()>D.y?-1:1;T=y*this.cos*z,P=y*this.sin*j,this.findOne(".top-left").x(D.x-T),this.findOne(".top-left").y(D.y-P)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(x.y());else if(this._movingAnchorName==="top-right"){if(M){var D=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};y=Math.sqrt(Math.pow(x.x()-D.x,2)+Math.pow(D.y-x.y(),2));var z=this.findOne(".top-right").x()<D.x?-1:1,j=this.findOne(".top-right").y()>D.y?-1:1;T=y*this.cos*z,P=y*this.sin*j,this.findOne(".top-right").x(D.x+T),this.findOne(".top-right").y(D.y-P)}var X=x.position();this.findOne(".top-left").y(X.y),this.findOne(".bottom-right").x(X.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(x.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(x.x());else if(this._movingAnchorName==="bottom-left"){if(M){var D=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};y=Math.sqrt(Math.pow(D.x-x.x(),2)+Math.pow(x.y()-D.y,2));var z=D.x<x.x()?-1:1,j=x.y()<D.y?-1:1;T=y*this.cos*z,P=y*this.sin*j,x.x(D.x-T),x.y(D.y+P)}X=x.position(),this.findOne(".top-left").x(X.x),this.findOne(".bottom-right").y(X.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(x.y());else if(this._movingAnchorName==="bottom-right"){if(M){var D=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};y=Math.sqrt(Math.pow(x.x()-D.x,2)+Math.pow(x.y()-D.y,2));var z=this.findOne(".bottom-right").x()<D.x?-1:1,j=this.findOne(".bottom-right").y()<D.y?-1:1;T=y*this.cos*z,P=y*this.sin*j,this.findOne(".bottom-right").x(D.x+T),this.findOne(".bottom-right").y(D.y+P)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var J=this.centeredScaling()||A.altKey;if(J){const Q=this.findOne(".top-left"),Z=this.findOne(".bottom-right"),V=Q.x(),Y=Q.y(),$=this.getWidth()-Z.x(),et=this.getHeight()-Z.y();Z.move({x:-V,y:-Y}),Q.move({x:$,y:et})}const L=this.findOne(".top-left").getAbsolutePosition();T=L.x,P=L.y;const B=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),H=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:T,y:P,width:B,height:H,rotation:o.Konva.getAngle(this.rotation())},A)}_handleMouseUp(A){this._removeEvents(A)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(A){var T;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const P=this.getNode();E--,this._fire("transformend",{evt:A,target:P}),(T=this.getLayer())===null||T===void 0||T.batchDraw(),P&&this._nodes.forEach(y=>{var x;y._fire("transformend",{evt:A,target:y}),(x=y.getLayer())===null||x===void 0||x.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(A,T){const P=this._getNodeRect(),y=1;if(t.Util._inRange(A.width,-this.padding()*2-y,y)){this.update();return}if(t.Util._inRange(A.height,-this.padding()*2-y,y)){this.update();return}const x=new t.Transform;if(x.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("left")>=0){const M=x.point({x:-this.padding()*2,y:0});A.x+=M.x,A.y+=M.y,A.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=M.x,this._anchorDragOffset.y-=M.y}else if(this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("right")>=0){const M=x.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=M.x,this._anchorDragOffset.y-=M.y,A.width+=this.padding()*2}if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("top")>=0){const M=x.point({x:0,y:-this.padding()*2});A.x+=M.x,A.y+=M.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=M.x,this._anchorDragOffset.y-=M.y,A.height+=this.padding()*2}else if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const M=x.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=M.x,this._anchorDragOffset.y-=M.y,A.height+=this.padding()*2}if(this.boundBoxFunc()){const M=this.boundBoxFunc()(P,A);M?A=M:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const C=1e7,R=new t.Transform;R.translate(P.x,P.y),R.rotate(P.rotation),R.scale(P.width/C,P.height/C);const O=new t.Transform,G=A.width/C,I=A.height/C;this.flipEnabled()===!1?(O.translate(A.x,A.y),O.rotate(A.rotation),O.translate(A.width<0?A.width:0,A.height<0?A.height:0),O.scale(Math.abs(G),Math.abs(I))):(O.translate(A.x,A.y),O.rotate(A.rotation),O.scale(G,I));const W=O.multiply(R.invert());this._nodes.forEach(M=>{var D;const z=M.getParent().getAbsoluteTransform(),j=M.getTransform().copy();j.translate(M.offsetX(),M.offsetY());const X=new t.Transform;X.multiply(z.copy().invert()).multiply(W).multiply(z).multiply(j);const J=X.decompose();M.setAttrs(J),(D=M.getLayer())===null||D===void 0||D.batchDraw()}),this.rotation(t.Util._getRotation(A.rotation)),this._nodes.forEach(M=>{this._fire("transform",{evt:T,target:M}),M._fire("transform",{evt:T,target:M})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(A,T){this.findOne(A).setAttrs(T)}update(){var A;const T=this._getNodeRect();this.rotation(t.Util._getRotation(T.rotation));const P=T.width,y=T.height,x=this.enabledAnchors(),C=this.resizeEnabled(),R=this.padding(),O=this.anchorSize(),G=this.find("._anchor");G.forEach(W=>{W.setAttrs({width:O,height:O,offsetX:O/2,offsetY:O/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:O/2+R,offsetY:O/2+R,visible:C&&x.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:P/2,y:0,offsetY:O/2+R,visible:C&&x.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:P,y:0,offsetX:O/2-R,offsetY:O/2+R,visible:C&&x.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:y/2,offsetX:O/2+R,visible:C&&x.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:P,y:y/2,offsetX:O/2-R,visible:C&&x.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y,offsetX:O/2+R,offsetY:O/2-R,visible:C&&x.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:P/2,y,offsetY:O/2-R,visible:C&&x.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:P,y,offsetX:O/2-R,offsetY:O/2-R,visible:C&&x.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:P/2,y:-this.rotateAnchorOffset()*t.Util._sign(y)-R,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:P,height:y,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const I=this.anchorStyleFunc();I&&G.forEach(W=>{I(W)}),(A=this.getLayer())===null||A===void 0||A.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const A=this.findOne("."+this._movingAnchorName);A&&A.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),i.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(A){return n.Node.prototype.clone.call(this,A)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};qr.Transformer=F,F.isTransforming=()=>E>0;function k(N){return N instanceof Array||t.Util.warn("enabledAnchors value should be an array"),N instanceof Array&&N.forEach(function(A){b.indexOf(A)===-1&&t.Util.warn("Unknown anchor name: "+A+". Available names are: "+b.join(", "))}),N||[]}return F.prototype.className="Transformer",(0,l._registerNode)(F),e.Factory.addGetterSetter(F,"enabledAnchors",b,k),e.Factory.addGetterSetter(F,"flipEnabled",!0,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(F,"resizeEnabled",!0),e.Factory.addGetterSetter(F,"anchorSize",10,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"rotateEnabled",!0),e.Factory.addGetterSetter(F,"rotateLineVisible",!0),e.Factory.addGetterSetter(F,"rotationSnaps",[]),e.Factory.addGetterSetter(F,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(F,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"borderEnabled",!0),e.Factory.addGetterSetter(F,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(F,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"anchorFill","white"),e.Factory.addGetterSetter(F,"anchorCornerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(F,"borderStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"borderDash"),e.Factory.addGetterSetter(F,"keepRatio",!0),e.Factory.addGetterSetter(F,"shiftBehavior","default"),e.Factory.addGetterSetter(F,"centeredScaling",!1),e.Factory.addGetterSetter(F,"ignoreStroke",!1),e.Factory.addGetterSetter(F,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(F,"node"),e.Factory.addGetterSetter(F,"nodes"),e.Factory.addGetterSetter(F,"boundBoxFunc"),e.Factory.addGetterSetter(F,"anchorDragBoundFunc"),e.Factory.addGetterSetter(F,"anchorStyleFunc"),e.Factory.addGetterSetter(F,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(F,"useSingleNodeRotation",!0),e.Factory.backCompat(F,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),qr}var Yr={},cc;function Bm(){if(cc)return Yr;cc=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Wedge=void 0;const t=bt(),e=ie(),n=pt(),r=_t(),s=pt();let i=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Yr.Wedge=i,i.prototype.className="Wedge",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clockwise",!1),t.Factory.backCompat(i,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Yr}var Xr={},uc;function Vm(){if(uc)return Xr;uc=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Blur=void 0;const t=bt(),e=Zt(),n=_t();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,c){const d=l.data,g=l.width,f=l.height;let h,u,m,b,_,p,v,w,S,E,F,k,N,A,T,P,y,x,C,R,O,G,I,W,M=c+c+1,D=g-1,z=f-1,j=c+1,X=j*(j+1)/2,J=new r,L=null,B=J,H=null,Q=null,Z=s[c],V=i[c];for(m=1;m<M;m++)B=B.next=new r,m===j&&(L=B);for(B.next=J,v=p=0,u=0;u<f;u++){for(P=y=x=C=w=S=E=F=0,k=j*(R=d[p]),N=j*(O=d[p+1]),A=j*(G=d[p+2]),T=j*(I=d[p+3]),w+=X*R,S+=X*O,E+=X*G,F+=X*I,B=J,m=0;m<j;m++)B.r=R,B.g=O,B.b=G,B.a=I,B=B.next;for(m=1;m<j;m++)b=p+((D<m?D:m)<<2),w+=(B.r=R=d[b])*(W=j-m),S+=(B.g=O=d[b+1])*W,E+=(B.b=G=d[b+2])*W,F+=(B.a=I=d[b+3])*W,P+=R,y+=O,x+=G,C+=I,B=B.next;for(H=J,Q=L,h=0;h<g;h++)d[p+3]=I=F*Z>>V,I!==0?(I=255/I,d[p]=(w*Z>>V)*I,d[p+1]=(S*Z>>V)*I,d[p+2]=(E*Z>>V)*I):d[p]=d[p+1]=d[p+2]=0,w-=k,S-=N,E-=A,F-=T,k-=H.r,N-=H.g,A-=H.b,T-=H.a,b=v+((b=h+c+1)<D?b:D)<<2,P+=H.r=d[b],y+=H.g=d[b+1],x+=H.b=d[b+2],C+=H.a=d[b+3],w+=P,S+=y,E+=x,F+=C,H=H.next,k+=R=Q.r,N+=O=Q.g,A+=G=Q.b,T+=I=Q.a,P-=R,y-=O,x-=G,C-=I,Q=Q.next,p+=4;v+=g}for(h=0;h<g;h++){for(y=x=C=P=S=E=F=w=0,p=h<<2,k=j*(R=d[p]),N=j*(O=d[p+1]),A=j*(G=d[p+2]),T=j*(I=d[p+3]),w+=X*R,S+=X*O,E+=X*G,F+=X*I,B=J,m=0;m<j;m++)B.r=R,B.g=O,B.b=G,B.a=I,B=B.next;for(_=g,m=1;m<=c;m++)p=_+h<<2,w+=(B.r=R=d[p])*(W=j-m),S+=(B.g=O=d[p+1])*W,E+=(B.b=G=d[p+2])*W,F+=(B.a=I=d[p+3])*W,P+=R,y+=O,x+=G,C+=I,B=B.next,m<z&&(_+=g);for(p=h,H=J,Q=L,u=0;u<f;u++)b=p<<2,d[b+3]=I=F*Z>>V,I>0?(I=255/I,d[b]=(w*Z>>V)*I,d[b+1]=(S*Z>>V)*I,d[b+2]=(E*Z>>V)*I):d[b]=d[b+1]=d[b+2]=0,w-=k,S-=N,E-=A,F-=T,k-=H.r,N-=H.g,A-=H.b,T-=H.a,b=h+((b=u+j)<z?b:z)*g<<2,w+=P+=H.r=d[b],S+=y+=H.g=d[b+1],E+=x+=H.b=d[b+2],F+=C+=H.a=d[b+3],H=H.next,k+=R=Q.r,N+=O=Q.g,A+=G=Q.b,T+=I=Q.a,P-=R,y-=O,x-=G,C-=I,Q=Q.next,p+=g}}const a=function(c){const d=Math.round(this.blurRadius());d>0&&o(c,d)};return Xr.Blur=a,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Xr}var Kr={},dc;function Um(){if(dc)return Kr;dc=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Brighten=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){let i=this.brightness()*255,o=s.data,a=o.length,l;for(l=0;l<a;l+=4)o[l]+=i,o[l+1]+=i,o[l+2]+=i};return Kr.Brighten=r,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Kr}var Jr={},fc;function zm(){if(fc)return Jr;fc=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Contrast=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){const i=Math.pow((this.contrast()+100)/100,2);let o=s.data,a=o.length,l=150,c=150,d=150,g;for(g=0;g<a;g+=4)l=o[g],c=o[g+1],d=o[g+2],l/=255,l-=.5,l*=i,l+=.5,l*=255,c/=255,c-=.5,c*=i,c+=.5,c*=255,d/=255,d-=.5,d*=i,d+=.5,d*=255,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,d=d<0?0:d>255?255:d,o[g]=l,o[g+1]=c,o[g+2]=d};return Jr.Contrast=r,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Jr}var Qr={},hc;function Wm(){if(hc)return Qr;hc=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Emboss=void 0;const t=bt(),e=Zt(),n=Kt(),r=_t(),s=function(i){let o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),c=this.embossBlend(),d=0,g=0,f=i.data,h=i.width,u=i.height,m=h*4,b=u;switch(l){case"top-left":d=-1,g=-1;break;case"top":d=-1,g=0;break;case"top-right":d=-1,g=1;break;case"right":d=0,g=1;break;case"bottom-right":d=1,g=1;break;case"bottom":d=1,g=0;break;case"bottom-left":d=1,g=-1;break;case"left":d=0,g=-1;break;default:n.Util.error("Unknown emboss direction: "+l)}do{const _=(b-1)*m;let p=d;b+p<1&&(p=0),b+p>u&&(p=0);const v=(b-1+p)*h*4;let w=h;do{const S=_+(w-1)*4;let E=g;w+E<1&&(E=0),w+E>h&&(E=0);const F=v+(w-1+E)*4,k=f[S]-f[F],N=f[S+1]-f[F+1],A=f[S+2]-f[F+2];let T=k;const P=T>0?T:-T,y=N>0?N:-N,x=A>0?A:-A;if(y>P&&(T=N),x>P&&(T=A),T*=o,c){const C=f[S]+T,R=f[S+1]+T,O=f[S+2]+T;f[S]=C>255?255:C<0?0:C,f[S+1]=R>255?255:R<0?0:R,f[S+2]=O>255?255:O<0?0:O}else{let C=a-T;C<0?C=0:C>255&&(C=255),f[S]=f[S+1]=f[S+2]=C}}while(--w)}while(--b)};return Qr.Emboss=s,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),Qr}var Zr={},gc;function jm(){if(gc)return Zr;gc=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Enhance=void 0;const t=bt(),e=Zt(),n=_t();function r(i,o,a,l,c){let d=a-o,g=c-l,f;return d===0?l+g/2:g===0?l:(f=(i-o)/d,f=g*f+l,f)}const s=function(i){let o=i.data,a=o.length,l=o[0],c=l,d,g=o[1],f=g,h,u=o[2],m=u,b,_;const p=this.enhance();if(p===0)return;for(_=0;_<a;_+=4)d=o[_+0],d<l?l=d:d>c&&(c=d),h=o[_+1],h<g?g=h:h>f&&(f=h),b=o[_+2],b<u?u=b:b>m&&(m=b);c===l&&(c=255,l=0),f===g&&(f=255,g=0),m===u&&(m=255,u=0);let v,w,S,E,F,k,N,A,T;for(p>0?(w=c+p*(255-c),S=l-p*(l-0),F=f+p*(255-f),k=g-p*(g-0),A=m+p*(255-m),T=u-p*(u-0)):(v=(c+l)*.5,w=c+p*(c-v),S=l+p*(l-v),E=(f+g)*.5,F=f+p*(f-E),k=g+p*(g-E),N=(m+u)*.5,A=m+p*(m-N),T=u+p*(u-N)),_=0;_<a;_+=4)o[_+0]=r(o[_+0],l,c,S,w),o[_+1]=r(o[_+1],g,f,k,F),o[_+2]=r(o[_+2],u,m,T,A)};return Zr.Enhance=s,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Zr}var $r={},pc;function Hm(){if(pc)return $r;pc=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Grayscale=void 0;const t=function(e){let n=e.data,r=n.length,s,i;for(s=0;s<r;s+=4)i=.34*n[s]+.5*n[s+1]+.16*n[s+2],n[s]=i,n[s+1]=i,n[s+2]=i};return $r.Grayscale=t,$r}var ti={},mc;function qm(){if(mc)return ti;mc=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.HSL=void 0;const t=bt(),e=Zt(),n=_t();t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter);const r=function(s){let i=s.data,o=i.length,a=1,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=this.luminance()*127,g;const f=a*l*Math.cos(c*Math.PI/180),h=a*l*Math.sin(c*Math.PI/180),u=.299*a+.701*f+.167*h,m=.587*a-.587*f+.33*h,b=.114*a-.114*f-.497*h,_=.299*a-.299*f-.328*h,p=.587*a+.413*f+.035*h,v=.114*a-.114*f+.293*h,w=.299*a-.3*f+1.25*h,S=.587*a-.586*f-1.05*h,E=.114*a+.886*f-.2*h;let F,k,N,A;for(g=0;g<o;g+=4)F=i[g+0],k=i[g+1],N=i[g+2],A=i[g+3],i[g+0]=u*F+m*k+b*N+d,i[g+1]=_*F+p*k+v*N+d,i[g+2]=w*F+S*k+E*N+d,i[g+3]=A};return ti.HSL=r,ti}var ei={},vc;function Ym(){if(vc)return ei;vc=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.HSV=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){const i=s.data,o=i.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=a*l*Math.cos(c*Math.PI/180),g=a*l*Math.sin(c*Math.PI/180),f=.299*a+.701*d+.167*g,h=.587*a-.587*d+.33*g,u=.114*a-.114*d-.497*g,m=.299*a-.299*d-.328*g,b=.587*a+.413*d+.035*g,_=.114*a-.114*d+.293*g,p=.299*a-.3*d+1.25*g,v=.587*a-.586*d-1.05*g,w=.114*a+.886*d-.2*g;let S,E,F,k;for(let N=0;N<o;N+=4)S=i[N+0],E=i[N+1],F=i[N+2],k=i[N+3],i[N+0]=f*S+h*E+u*F,i[N+1]=m*S+b*E+_*F,i[N+2]=p*S+v*E+w*F,i[N+3]=k};return ei.HSV=r,t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ei}var ni={},bc;function Xm(){if(bc)return ni;bc=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Invert=void 0;const t=function(e){let n=e.data,r=n.length,s;for(s=0;s<r;s+=4)n[s]=255-n[s],n[s+1]=255-n[s+1],n[s+2]=255-n[s+2]};return ni.Invert=t,ni}var ri={},yc;function Km(){if(yc)return ri;yc=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Kaleidoscope=void 0;const t=bt(),e=Zt(),n=Kt(),r=_t(),s=function(a,l,c){let d=a.data,g=l.data,f=a.width,h=a.height,u=c.polarCenterX||f/2,m=c.polarCenterY||h/2,b,_,p,v=0,w=0,S=0,E=0,F,k=Math.sqrt(u*u+m*m);_=f-u,p=h-m,F=Math.sqrt(_*_+p*p),k=F>k?F:k;let N=h,A=f,T,P,y=360/A*Math.PI/180,x,C;for(P=0;P<A;P+=1)for(x=Math.sin(P*y),C=Math.cos(P*y),T=0;T<N;T+=1)_=Math.floor(u+k*T/N*C),p=Math.floor(m+k*T/N*x),b=(p*f+_)*4,v=d[b+0],w=d[b+1],S=d[b+2],E=d[b+3],b=(P+T*f)*4,g[b+0]=v,g[b+1]=w,g[b+2]=S,g[b+3]=E},i=function(a,l,c){let d=a.data,g=l.data,f=a.width,h=a.height,u=c.polarCenterX||f/2,m=c.polarCenterY||h/2,b,_,p,v,w,S=0,E=0,F=0,k=0,N,A=Math.sqrt(u*u+m*m);_=f-u,p=h-m,N=Math.sqrt(_*_+p*p),A=N>A?N:A;let T=h,P=f,y,x,C=0,R,O;for(_=0;_<f;_+=1)for(p=0;p<h;p+=1)v=_-u,w=p-m,y=Math.sqrt(v*v+w*w)*T/A,x=(Math.atan2(w,v)*180/Math.PI+360+C)%360,x=x*P/360,R=Math.floor(x),O=Math.floor(y),b=(O*f+R)*4,S=d[b+0],E=d[b+1],F=d[b+2],k=d[b+3],b=(p*f+_)*4,g[b+0]=S,g[b+1]=E,g[b+2]=F,g[b+3]=k},o=function(a){const l=a.width,c=a.height;let d,g,f,h,u,m,b,_,p,v,w=Math.round(this.kaleidoscopePower());const S=Math.round(this.kaleidoscopeAngle()),E=Math.floor(l*(S%360)/360);if(w<1)return;const F=n.Util.createCanvasElement();F.width=l,F.height=c;const k=F.getContext("2d").getImageData(0,0,l,c);n.Util.releaseCanvas(F),s(a,k,{polarCenterX:l/2,polarCenterY:c/2});let N=l/Math.pow(2,w);for(;N<=8;)N=N*2,w-=1;N=Math.ceil(N);let A=N,T=0,P=A,y=1;for(E+N>l&&(T=A,P=0,y=-1),g=0;g<c;g+=1)for(d=T;d!==P;d+=y)f=Math.round(d+E)%l,p=(l*g+f)*4,u=k.data[p+0],m=k.data[p+1],b=k.data[p+2],_=k.data[p+3],v=(l*g+d)*4,k.data[v+0]=u,k.data[v+1]=m,k.data[v+2]=b,k.data[v+3]=_;for(g=0;g<c;g+=1)for(A=Math.floor(N),h=0;h<w;h+=1){for(d=0;d<A+1;d+=1)p=(l*g+d)*4,u=k.data[p+0],m=k.data[p+1],b=k.data[p+2],_=k.data[p+3],v=(l*g+A*2-d-1)*4,k.data[v+0]=u,k.data[v+1]=m,k.data[v+2]=b,k.data[v+3]=_;A*=2}i(k,a,{polarRotation:0})};return ri.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ri}var ii={},_c;function Jm(){if(_c)return ii;_c=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Mask=void 0;const t=bt(),e=Zt(),n=_t();function r(f,h,u){let m=(u*f.width+h)*4;const b=[];return b.push(f.data[m++],f.data[m++],f.data[m++],f.data[m++]),b}function s(f,h){return Math.sqrt(Math.pow(f[0]-h[0],2)+Math.pow(f[1]-h[1],2)+Math.pow(f[2]-h[2],2))}function i(f){const h=[0,0,0];for(let u=0;u<f.length;u++)h[0]+=f[u][0],h[1]+=f[u][1],h[2]+=f[u][2];return h[0]/=f.length,h[1]/=f.length,h[2]/=f.length,h}function o(f,h){const u=r(f,0,0),m=r(f,f.width-1,0),b=r(f,0,f.height-1),_=r(f,f.width-1,f.height-1),p=h||10;if(s(u,m)<p&&s(m,_)<p&&s(_,b)<p&&s(b,u)<p){const v=i([m,u,_,b]),w=[];for(let S=0;S<f.width*f.height;S++){const E=s(v,[f.data[S*4],f.data[S*4+1],f.data[S*4+2]]);w[S]=E<p?0:255}return w}}function a(f,h){for(let u=0;u<f.width*f.height;u++)f.data[4*u+3]=h[u]}function l(f,h,u){const m=[1,1,1,1,0,1,1,1,1],b=Math.round(Math.sqrt(m.length)),_=Math.floor(b/2),p=[];for(let v=0;v<u;v++)for(let w=0;w<h;w++){const S=v*h+w;let E=0;for(let F=0;F<b;F++)for(let k=0;k<b;k++){const N=v+F-_,A=w+k-_;if(N>=0&&N<u&&A>=0&&A<h){const T=N*h+A,P=m[F*b+k];E+=f[T]*P}}p[S]=E===255*8?255:0}return p}function c(f,h,u){const m=[1,1,1,1,1,1,1,1,1],b=Math.round(Math.sqrt(m.length)),_=Math.floor(b/2),p=[];for(let v=0;v<u;v++)for(let w=0;w<h;w++){const S=v*h+w;let E=0;for(let F=0;F<b;F++)for(let k=0;k<b;k++){const N=v+F-_,A=w+k-_;if(N>=0&&N<u&&A>=0&&A<h){const T=N*h+A,P=m[F*b+k];E+=f[T]*P}}p[S]=E>=255*4?255:0}return p}function d(f,h,u){const m=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],b=Math.round(Math.sqrt(m.length)),_=Math.floor(b/2),p=[];for(let v=0;v<u;v++)for(let w=0;w<h;w++){const S=v*h+w;let E=0;for(let F=0;F<b;F++)for(let k=0;k<b;k++){const N=v+F-_,A=w+k-_;if(N>=0&&N<u&&A>=0&&A<h){const T=N*h+A,P=m[F*b+k];E+=f[T]*P}}p[S]=E}return p}const g=function(f){let h=this.threshold(),u=o(f,h);return u&&(u=l(u,f.width,f.height),u=c(u,f.width,f.height),u=d(u,f.width,f.height),a(f,u)),f};return ii.Mask=g,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ii}var oi={},wc;function Qm(){if(wc)return oi;wc=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Noise=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){const i=this.noise()*255,o=s.data,a=o.length,l=i/2;for(let c=0;c<a;c+=4)o[c+0]+=l-2*l*Math.random(),o[c+1]+=l-2*l*Math.random(),o[c+2]+=l-2*l*Math.random()};return oi.Noise=r,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),oi}var si={},Sc;function Zm(){if(Sc)return si;Sc=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Pixelate=void 0;const t=bt(),e=Kt(),n=Zt(),r=_t(),s=function(i){let o=Math.ceil(this.pixelSize()),a=i.width,l=i.height,c,d,g,f,h,u,m,b=Math.ceil(a/o),_=Math.ceil(l/o),p,v,w,S,E,F,k,N=i.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(E=0;E<b;E+=1)for(F=0;F<_;F+=1){for(f=0,h=0,u=0,m=0,p=E*o,v=p+o,w=F*o,S=w+o,k=0,c=p;c<v;c+=1)if(!(c>=a))for(d=w;d<S;d+=1)d>=l||(g=(a*d+c)*4,f+=N[g+0],h+=N[g+1],u+=N[g+2],m+=N[g+3],k+=1);for(f=f/k,h=h/k,u=u/k,m=m/k,c=p;c<v;c+=1)if(!(c>=a))for(d=w;d<S;d+=1)d>=l||(g=(a*d+c)*4,N[g+0]=f,N[g+1]=h,N[g+2]=u,N[g+3]=m)}};return si.Pixelate=s,t.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),si}var ai={},xc;function $m(){if(xc)return ai;xc=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Posterize=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){let i=Math.round(this.levels()*254)+1,o=s.data,a=o.length,l=255/i,c;for(c=0;c<a;c+=1)o[c]=Math.floor(o[c]/l)*l};return ai.Posterize=r,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ai}var li={},Cc;function tv(){if(Cc)return li;Cc=1,Object.defineProperty(li,"__esModule",{value:!0}),li.RGB=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){let i=s.data,o=i.length,a=this.red(),l=this.green(),c=this.blue(),d,g;for(d=0;d<o;d+=4)g=(.34*i[d]+.5*i[d+1]+.16*i[d+2])/255,i[d]=g*a,i[d+1]=g*l,i[d+2]=g*c,i[d+3]=i[d+3]};return li.RGB=r,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),li}var ci={},Ac;function ev(){if(Ac)return ci;Ac=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.RGBA=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){const i=s.data,o=i.length,a=this.red(),l=this.green(),c=this.blue(),d=this.alpha();for(let g=0;g<o;g+=4){const f=1-d;i[g]=a*d+i[g]*f,i[g+1]=l*d+i[g+1]*f,i[g+2]=c*d+i[g+2]*f}};return ci.RGBA=r,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s}),ci}var ui={},Ec;function nv(){if(Ec)return ui;Ec=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Sepia=void 0;const t=function(e){let n=e.data,r=n.length,s,i,o,a;for(s=0;s<r;s+=4)i=n[s+0],o=n[s+1],a=n[s+2],n[s+0]=Math.min(255,i*.393+o*.769+a*.189),n[s+1]=Math.min(255,i*.349+o*.686+a*.168),n[s+2]=Math.min(255,i*.272+o*.534+a*.131)};return ui.Sepia=t,ui}var di={},kc;function rv(){if(kc)return di;kc=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Solarize=void 0;const t=function(e){const n=e.data,r=e.width,s=e.height,i=r*4;let o=s;do{const a=(o-1)*i;let l=r;do{const c=a+(l-1)*4;let d=n[c],g=n[c+1],f=n[c+2];d>127&&(d=255-d),g>127&&(g=255-g),f>127&&(f=255-f),n[c]=d,n[c+1]=g,n[c+2]=f}while(--l)}while(--o)};return di.Solarize=t,di}var fi={},Tc;function iv(){if(Tc)return fi;Tc=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Threshold=void 0;const t=bt(),e=Zt(),n=_t(),r=function(s){const i=this.threshold()*255,o=s.data,a=o.length;for(let l=0;l<a;l+=1)o[l]=o[l]<i?0:255};return fi.Threshold=r,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),fi}var Pc;function ov(){if(Pc)return Er;Pc=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.Konva=void 0;const t=Am(),e=Em(),n=Tm(),r=Pm(),s=Rm(),i=Om(),o=Fm(),a=kd(),l=ma(),c=Td(),d=Mm(),g=Nm(),f=Lm(),h=Im(),u=Pd(),m=Dm(),b=Gm(),_=Bm(),p=Vm(),v=Um(),w=zm(),S=Wm(),E=jm(),F=Hm(),k=qm(),N=Ym(),A=Xm(),T=Km(),P=Jm(),y=Qm(),x=Zm(),C=$m(),R=tv(),O=ev(),G=nv(),I=rv(),W=iv();return Er.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:n.Arrow,Circle:r.Circle,Ellipse:s.Ellipse,Image:i.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:c.Rect,RegularPolygon:d.RegularPolygon,Ring:g.Ring,Sprite:f.Sprite,Star:h.Star,Text:u.Text,TextPath:m.TextPath,Transformer:b.Transformer,Wedge:_.Wedge,Filters:{Blur:p.Blur,Brighten:v.Brighten,Contrast:w.Contrast,Emboss:S.Emboss,Enhance:E.Enhance,Grayscale:F.Grayscale,HSL:k.HSL,HSV:N.HSV,Invert:A.Invert,Kaleidoscope:T.Kaleidoscope,Mask:P.Mask,Noise:y.Noise,Pixelate:x.Pixelate,Posterize:C.Posterize,RGB:R.RGB,RGBA:O.RGBA,Sepia:G.Sepia,Solarize:I.Solarize,Threshold:W.Threshold}}),Er}var sv=io.exports,Rc;function av(){if(Rc)return io.exports;Rc=1,Object.defineProperty(sv,"__esModule",{value:!0});const t=ov();return io.exports=t.Konva,io.exports}var lv=av();const Hi=Sh(lv),cv=["mouseover","mouseout","mouseenter","mouseleave","mousemove","mousedown","mouseup","wheel","click","dblclick","touchstart","touchmove","touchend","tap","dbltap","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerenter","pointerout","pointerleave","pointerclick","pointerdblclick","dragstart","dragmove","dragend","transformstart","transform","transformend"];function qi(t,e){cv.forEach(n=>{const r=t[`on${n}`];typeof r=="function"&&e.on(n,s=>{r(s)})})}const wo=["svelte-konva-stage","svelte-konva-layer","svelte-konva-group","svelte-konva-label"];var ir;(function(t){t[t.Stage=0]="Stage",t[t.Layer=1]="Layer",t[t.Group=2]="Group",t[t.Label=3]="Label"})(ir||(ir={}));const uv="svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.",dv="svelte-konva: A Layer needs to have a Stage as parent.";function va(t,e){wo.forEach(n=>{Ei(n,null)}),Ei(wo[t],e)}function ba(){for(let t=1;t<4;t++){const e=Vi(wo[t]);if(e)return e}throw new Error(uv)}function fv(){const t=Vi(wo[ir.Stage]);if(t)return t;throw new Error(dv)}function Oc(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(_,"$parent",n);let s=q(e,"staticConfig",3,!1),i=q(e,"x",15),o=q(e,"y",15),a=q(e,"scale",15),l=q(e,"scaleX",15),c=q(e,"scaleY",15),d=q(e,"rotation",15),g=q(e,"skewX",15),f=q(e,"skewY",15),h=Ui(e,["$$slots","$$events","$$legacy","children","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new Hi.Group({x:i(),y:o(),scale:a(),scaleX:l(),scaleY:c(),rotation:d(),skewX:g(),skewY:f(),...h}),m=zt(null);let b=ve(!1);const _=ba();xe(()=>{if(r().add(u),!s()){const S=u.getAttrs();u.on("transformend",()=>{i()!==void 0&&i(S.x),o()!==void 0&&o(S.y),a()!==void 0&&a(S.scale),l()!==void 0&&l(S.scaleX),c()!==void 0&&c(S.scaleY),d()!==void 0&&d(S.rotation),g()!==void 0&&g(S.skewX),f()!==void 0&&f(S.skewY)}),u.on("dragend",()=>{i()!==void 0&&i(S.x),o()!==void 0&&o(S.y)})}Object.keys(h).filter(S=>!S.startsWith("on")).forEach(S=>{at(()=>{u.setAttr(S,h[S])})}),at(()=>{u.setAttr("x",i())}),at(()=>{u.setAttr("y",o())}),at(()=>{u.setAttr("scale",a())}),at(()=>{u.setAttr("scaleX",l())}),at(()=>{u.setAttr("scaleY",c())}),at(()=>{u.setAttr("rotation",d())}),at(()=>{u.setAttr("skewX",g())}),at(()=>{u.setAttr("skewY",f())}),qi(h,u),m.set(u),Rt(b,!0)}),Dn(()=>{u.destroy()}),va(ir.Group,m);var p=it(),v=nt(p);{var w=S=>{var E=it(),F=nt(E);Ks(F,()=>e.children),K(S,E)};Lt(v,S=>{U(b)&&e.children&&S(w)})}return K(t,p),vt({handle:u})}function Rd(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(m,"$parent",n);let s=q(e,"staticConfig",3,!1),i=q(e,"x",15),o=q(e,"y",15),a=q(e,"scale",15),l=q(e,"scaleX",15),c=q(e,"scaleY",15),d=q(e,"rotation",15),g=q(e,"skewX",15),f=q(e,"skewY",15),h=Ui(e,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new Hi.Image({x:i(),y:o(),scale:a(),scaleX:l(),scaleY:c(),rotation:d(),skewX:g(),skewY:f(),...h}),m=ba();return xe(()=>{if(r().add(u),!s()){const b=u.getAttrs();u.on("transformend",()=>{i()!==void 0&&i(b.x),o()!==void 0&&o(b.y),a()!==void 0&&a(b.scale),l()!==void 0&&l(b.scaleX),c()!==void 0&&c(b.scaleY),d()!==void 0&&d(b.rotation),g()!==void 0&&g(b.skewX),f()!==void 0&&f(b.skewY)}),u.on("dragend",()=>{i()!==void 0&&i(b.x),o()!==void 0&&o(b.y)})}Object.keys(h).filter(b=>!b.startsWith("on")).forEach(b=>{at(()=>{u.setAttr(b,h[b])})}),at(()=>{u.setAttr("x",i())}),at(()=>{u.setAttr("y",o())}),at(()=>{u.setAttr("scale",a())}),at(()=>{u.setAttr("scaleX",l())}),at(()=>{u.setAttr("scaleY",c())}),at(()=>{u.setAttr("rotation",d())}),at(()=>{u.setAttr("skewX",g())}),at(()=>{u.setAttr("skewY",f())}),qi(h,u)}),Dn(()=>{u.destroy()}),vt({handle:u})}function Fc(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(_,"$parent",n);let s=q(e,"staticConfig",3,!1),i=q(e,"x",15),o=q(e,"y",15),a=q(e,"scale",15),l=q(e,"scaleX",15),c=q(e,"scaleY",15),d=q(e,"rotation",15),g=q(e,"skewX",15),f=q(e,"skewY",15),h=Ui(e,["$$slots","$$events","$$legacy","children","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new Hi.Layer({x:i(),y:o(),scale:a(),scaleX:l(),scaleY:c(),rotation:d(),skewX:g(),skewY:f(),...h}),m=zt(null);let b=ve(!1),_=fv();xe(()=>{if(r().add(u),!s()){const S=u.getAttrs();u.on("transformend",()=>{i()!==void 0&&i(S.x),o()!==void 0&&o(S.y),a()!==void 0&&a(S.scale),l()!==void 0&&l(S.scaleX),c()!==void 0&&c(S.scaleY),d()!==void 0&&d(S.rotation),g()!==void 0&&g(S.skewX),f()!==void 0&&f(S.skewY)}),u.on("dragend",()=>{i()!==void 0&&i(S.x),o()!==void 0&&o(S.y)})}Object.keys(h).filter(S=>!S.startsWith("on")).forEach(S=>{at(()=>{u.setAttr(S,h[S])})}),at(()=>{u.setAttr("x",i())}),at(()=>{u.setAttr("y",o())}),at(()=>{u.setAttr("scale",a())}),at(()=>{u.setAttr("scaleX",l())}),at(()=>{u.setAttr("scaleY",c())}),at(()=>{u.setAttr("rotation",d())}),at(()=>{u.setAttr("skewX",g())}),at(()=>{u.setAttr("skewY",f())}),qi(h,u),m.set(u),Rt(b,!0)}),Dn(()=>{u.destroy()}),va(ir.Layer,m);var p=it(),v=nt(p);{var w=S=>{var E=it(),F=nt(E);Ks(F,()=>e.children),K(S,E)};Lt(v,S=>{U(b)&&e.children&&S(w)})}return K(t,p),vt({handle:u})}var hv=At("<div><!></div>");function gv(t,e){mt(e,!0);let n=q(e,"staticConfig",3,!1),r=q(e,"x",15),s=q(e,"y",15),i=Ui(e,["$$slots","$$events","$$legacy","children","staticConfig","x","y","divWrapperProps"]),o=ve(null);function a(){return U(o)}const l=zt(null);let c,d=ve(!1);xe(()=>{if(Rt(o,se(new Hi.Stage({container:c,y:s(),x:r(),...i}))),!n()){const m=U(o).getAttrs();U(o).on("dragend",()=>{r()!==void 0&&r(m.x),s()!==void 0&&s(m.y)})}Object.keys(i).filter(m=>!m.startsWith("on")).forEach(m=>{at(()=>{U(o).setAttr(m,i[m])})}),at(()=>{U(o).setAttr("x",r())}),at(()=>{U(o).setAttr("y",s())}),qi(i,U(o)),l.set(U(o)),Rt(d,!0)}),Dn(()=>{U(o)&&U(o).destroy()}),va(ir.Stage,l);var g=hv();let f;var h=Dt(g);{var u=m=>{var b=it(),_=nt(b);Ks(_,()=>e.children),K(m,b)};Lt(h,m=>{U(d)&&e.children&&m(u)})}return me(g,m=>c=m,()=>c),Ot(()=>f=ne(g,f,{...e.divWrapperProps})),K(t,g),vt({handle:a})}function pv(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(m,"$parent",n);let s=q(e,"staticConfig",3,!1),i=q(e,"x",15),o=q(e,"y",15),a=q(e,"scale",15),l=q(e,"scaleX",15),c=q(e,"scaleY",15),d=q(e,"rotation",15),g=q(e,"skewX",15),f=q(e,"skewY",15),h=Ui(e,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new Hi.Text({x:i(),y:o(),scale:a(),scaleX:l(),scaleY:c(),rotation:d(),skewX:g(),skewY:f(),...h}),m=ba();return xe(()=>{if(r().add(u),!s()){const b=u.getAttrs();u.on("transformend",()=>{i()!==void 0&&i(b.x),o()!==void 0&&o(b.y),a()!==void 0&&a(b.scale),l()!==void 0&&l(b.scaleX),c()!==void 0&&c(b.scaleY),d()!==void 0&&d(b.rotation),g()!==void 0&&g(b.skewX),f()!==void 0&&f(b.skewY)}),u.on("dragend",()=>{i()!==void 0&&i(b.x),o()!==void 0&&o(b.y)})}Object.keys(h).filter(b=>!b.startsWith("on")).forEach(b=>{at(()=>{u.setAttr(b,h[b])})}),at(()=>{u.setAttr("x",i())}),at(()=>{u.setAttr("y",o())}),at(()=>{u.setAttr("scale",a())}),at(()=>{u.setAttr("scaleX",l())}),at(()=>{u.setAttr("scaleY",c())}),at(()=>{u.setAttr("rotation",d())}),at(()=>{u.setAttr("skewX",g())}),at(()=>{u.setAttr("skewY",f())}),qi(h,u)}),Dn(()=>{u.destroy()}),vt({handle:u})}function Od(){const t=zt("loading"),e=zt(),n=zt();let r=ve(null),s=ve(null);const i=a=>{U(s)&&U(s).abort(),Rt(s,se(new AbortController));const{signal:l}=U(s);t.set("loading"),n.set(void 0);const c=new Image;c.src=a,l.addEventListener("abort",()=>{c.src=""}),c.onload=()=>{l.aborted||(t.set("loaded"),n.set(c),e.set(c))},c.onerror=()=>{l.aborted||(t.set("error"),n.set(void 0))}},o=a=>{a!==U(r)&&(Rt(r,se(a)),i(a))};return xe(()=>()=>{U(s)&&U(s).abort()}),{status:t,image:e,updateSrc:o}}function mv(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(s,"$image",n),{image:s,updateSrc:i}=Od();at(()=>{e.src&&i(e.src)}),Rd(t,{get image(){return r()},x:0,y:0,get width(){return e.width},get height(){return e.height},listening:!1}),vt()}function vv(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(i,"$image",n);let s=Nt(()=>{var a;return(a=e.personalized)!=null&&a.enable?e.value.largeImage:e.file.largeImage||e.file.mediumImage});const{image:i,updateSrc:o}=Od();at(()=>{o(U(s))}),Rd(t,{get image(){return r()},get x(){return e.x},get y(){return e.y},get width(){return e.width},get height(){return e.height},get scaleX(){return e.scaleX},get scaleY(){return e.scaleY},get rotation(){return e.rotation}}),vt()}function bv(t,e){mt(e,!0);let n=ve(void 0),r=ve(!1),s=Nt(()=>Mh(e.value,e.textTransform,e.fontSets,e.font)),i=Nt(()=>{var f;return(f=e.font)==null?void 0:f.family.split(".")[0]}),o=Nt(()=>{var f;return(f=e.font)==null?void 0:f.file.originalImage});async function a(){if(!U(i)||!U(o))return!1;if(Array.from(document.fonts.values()).some(h=>h.family===U(i)))return!0;try{const h=new FontFace(U(i),`url(${U(o)})`);return await h.load(),document.fonts.add(h),!0}catch(h){return console.error("Font couldn't be loaded:",h),!1}}function l(f,h){if(!h)return{scale:e.scaleX||1,width:e.width||0};const m=h.split(`
`).reduce((w,S)=>Math.max(w,f.measureSize(S).width),0),b=f.width(),_=f.getTextWidth(),p=f.getAttr("fontSize")*(e.scaleX||1)/3;if(m<=0)return{scale:e.scaleX||1,width:b};const v=(b*(e.scaleX||1)-p)/m;if(m>_)return{scale:v,width:b*(e.scaleX||1)/v};{const w=Math.min(v,e.scaleX||1);return{scale:w,width:b*(e.scaleX||1)/w}}}xe(async()=>{Rt(r,se(await a()))}),at(()=>{var h;if(!((h=U(n))!=null&&h.handle)||!U(s))return;const f=U(n).handle;U(r)&&U(i)&&f.fontFamily(U(i)),requestAnimationFrame(()=>{var b;const{scale:u,width:m}=l(f,U(s));f.setAttrs({scaleX:u,width:m}),(b=f.getLayer())==null||b.batchDraw()})});var c=Nt(()=>e.strokeWidth||0),d=Nt(()=>+e.letterSpacing),g=Nt(()=>e.lineHeight||1);me(pv(t,{get text(){return U(s)},get x(){return e.x},get y(){return e.y},get width(){return e.width},get height(){return e.height},get scaleX(){return e.scaleX},get scaleY(){return e.scaleY},get rotation(){return e.rotation},get fontSize(){return e.fontSize},get fontStyle(){return e.fontStyle},get align(){return e.align},get verticalAlign(){return e.verticalAlign},wrap:"none",lineJoin:"round",padding:0,fillAfterStrokeEnabled:!0,get stroke(){return e.stroke},get strokeWidth(){return U(c)},get globalCompositeOperation(){return e.globalCompositeOperation},get letterSpacing(){return U(d)},get lineHeight(){return U(g)},get fill(){return e.fill},get fontFamily(){return U(i)}}),f=>Rt(n,se(f)),()=>U(n)),vt()}function Fd(t,e){mt(e,!0);var n=it(),r=nt(n);{var s=i=>{var o=it(),a=nt(o);ze(a,17,()=>e.layers,Ue,(l,c)=>{var d=it(),g=nt(d);{var f=u=>{Fd(u,{get layers(){return U(c).children}})},h=u=>{var m=it(),b=nt(m);{var _=v=>{vv(v,Ee(()=>U(c)))},p=v=>{var w=it(),S=nt(w);{var E=F=>{bv(F,Ee(()=>U(c)))};Lt(S,F=>{U(c).type.toLowerCase().includes("text")&&F(E)},!0)}K(v,w)};Lt(b,v=>{U(c).type==="Image"?v(_):v(p,!1)},!0)}K(u,m)};Lt(g,u=>{U(c).type==="Group"?u(f):u(h,!1)})}K(l,d)}),K(i,o)};Lt(r,i=>{e.layers&&i(s)})}K(t,n),vt()}var yv=At("<!> <!>",1),_v=At('<div class="flex justify-center"><!></div>');function wv(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(Qs,"$groupResult",n),s=()=>Ft(Oo,"$artwork",n),i=()=>Ft(Cu,"$layers",n);let o=ve(0),a=Nt(()=>{var h;return(h=r())==null?void 0:h[1]}),l=Nt(()=>{if(!r())return;let[h]=r();if(!h)return;const u=h.printAreas[0],{mockup:m}=h.mockups[0],b=U(o)/m.width*.8;return{canvasWidth:U(o)*.8,canvasHeight:m.height*b,printAreaX:u.printAreaX*b,printAreaY:u.printAreaY*b,printAreaWidth:u.printAreaWidth,printAreaHeight:u.printAreaHeight,artworkX:u.artworkX,artworkY:u.artworkY,artworkScaleX:u.artworkScaleX,artworkScaleY:u.artworkScaleY,mockupRatio:b}}),c=Nt(()=>{if(!s()||!U(l))return;let[h,u]=_h(s().width,s().height),m=U(l).printAreaWidth/h;return{width:h,height:u,ratio:m}});var d=it(),g=nt(d);{var f=h=>{var u=_v(),m=Dt(u);gv(m,{get width(){return U(l).canvasWidth},get height(){return U(l).canvasHeight},children:(b,_)=>{var p=yv(),v=nt(p);Fc(v,{children:(S,E)=>{mv(S,{get width(){return U(l).canvasWidth},get height(){return U(l).canvasHeight},get src(){return U(a)}})},$$slots:{default:!0}});var w=be(v,2);Fc(w,{children:(S,E)=>{Oc(S,{get x(){return U(l).printAreaX},get y(){return U(l).printAreaY},get scaleX(){return U(l).mockupRatio},get scaleY(){return U(l).mockupRatio},clipFunc:F=>{F.rect(0,0,U(l).printAreaWidth,U(l).printAreaHeight)},children:(F,k)=>{var N=Nt(()=>U(c).ratio*U(l).artworkScaleX),A=Nt(()=>U(c).ratio*U(l).artworkScaleY);Oc(F,{get x(){return U(l).artworkX},get y(){return U(l).artworkY},get scaleX(){return U(N)},get scaleY(){return U(A)},draggable:!1,listening:!1,children:(T,P)=>{Fd(T,{get layers(){return i()}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),K(b,p)},$$slots:{default:!0}}),lh(u,"clientWidth",b=>Rt(o,b)),K(h,u)};Lt(g,h=>{U(l)&&U(c)&&h(f)})}K(t,d),vt()}var Sv=At('<img alt="product" class="w-full object-cover">'),xv=At("<!> <!>",1),Cv=At('<button><img class="w-full h-20 object-cover"></button>'),Av=At('<div class="space-y-2"><!> <!></div>');function Ev(t,e){mt(e,!0);const n=Qt(),r=()=>Ft(jt,"$store",n),s=()=>Ft(Qs,"$groupResult",n);let i=ve(void 0),o=ve(void 0),a=ve(0),l=Nt(()=>r().product?r().product.images.map(u=>u.src):[]);at(()=>{var m;const u=()=>{U(i)&&(Rt(a,se(U(i).selectedScrollSnap())),U(o)&&U(o).scrollTo(U(a)))};(m=U(i))==null||m.on("select",u).on("reInit",u)});function c(u){var m;(m=U(i))==null||m.scrollTo(u)}var d=Av(),g=Dt(d);oe(g,()=>Sl,(u,m)=>{m(u,{class:"w-full",get api(){return U(i)},set api(b){Rt(i,se(b))},children:(b,_)=>{var p=it(),v=nt(p);oe(v,()=>kl,(w,S)=>{S(w,{children:(E,F)=>{var k=xv(),N=nt(k);oe(N,()=>rs,(T,P)=>{P(T,{class:"content-center",children:(y,x)=>{wv(y,{})},$$slots:{default:!0}})});var A=be(N,2);ze(A,17,()=>U(l),Ue,(T,P)=>{var y=it(),x=nt(y);oe(x,()=>rs,(C,R)=>{R(C,{class:"content-center",children:(O,G)=>{var I=Sv();Ot(()=>Jn(I,"src",U(P))),K(O,I)},$$slots:{default:!0}})}),K(T,y)}),K(E,k)},$$slots:{default:!0}})}),K(b,p)},$$slots:{default:!0}})});var f=be(g,2);{var h=u=>{var m=it(),b=nt(m);oe(b,()=>Sl,(_,p)=>{p(_,{class:"w-full",opts:{containScroll:"keepSnaps",dragFree:!0},get api(){return U(o)},set api(v){Rt(o,se(v))},children:(v,w)=>{var S=it(),E=nt(S);oe(E,()=>kl,(F,k)=>{k(F,{children:(N,A)=>{var T=it(),P=nt(T);ze(P,1,()=>{var y;return[(y=s())==null?void 0:y[1],...U(l)]},Ue,(y,x,C)=>{var R=it(),O=nt(R);oe(O,()=>rs,(G,I)=>{I(G,{class:"basis-1/4 lg:basis-1/6",children:(W,M)=>{var D=Cv();D.__click=()=>c(C);var z=Dt(D);Jn(z,"alt",`Thumbnail ${C+1}`),Ot(()=>{Zf(D,`w-full border-2 transition-all duration-300 rounded-md overflow-hidden
                     ${(U(a)===C?"border-primary":"border-transparent hover:border-muted-foreground")??""}`),Jn(z,"src",U(x))}),K(W,D)},$$slots:{default:!0}})}),K(y,R)}),K(N,T)},$$slots:{default:!0}})}),K(v,S)},$$slots:{default:!0}})}),K(u,m)};Lt(f,u=>{U(l).length>1&&u(h)})}K(t,d),vt()}Xs(["click"]);async function kv(){const t=document.querySelector("div.product-form__buttons");t&&(t.innerHTML="");const e=document.querySelector("div.product__media-wrapper");e&&(e.innerHTML="",e.className="w-full product__media-wrapper"),Ma(Ev,{target:e});const n=await Vp();n&&await Up(n.id),Ma(D2,{target:t})}kv();
